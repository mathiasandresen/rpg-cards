import{S as F,i as J,s as N,e as y,k as j,c as $,a as B,d as f,n as S,b as v,aA as m,f as k,x as g,j as I,m as P,aK as z,o as V,G as M,u as b,v as G,w as C,W as D,R as L,aM as Q,r as E}from"../chunks/vendor-74849787.js";import{C as T,a as U,d as X,p as Y}from"../chunks/card-4f1a6b14.js";import"../chunks/card-content-types-3deeb600.js";function W(i,e,c){const o=i.slice();return o[7]=e[c],o}function q(i,e,c){const o=i.slice();return o[10]=e[c],o}function A(i,e,c){const o=i.slice();return o[10]=e[c],o}function H(i){let e,c,o,a;return c=new T({props:{card:i[10]}}),{c(){e=y("div"),I(c.$$.fragment),o=j(),this.h()},l(n){e=$(n,"DIV",{style:!0,class:!0});var t=B(e);P(c.$$.fragment,t),o=S(t),t.forEach(f),this.h()},h(){v(e,"style",`--card-color: ${i[10].color};`),v(e,"class","card-slot svelte-1yo2udp"),z(e,"with-border",i[0].cardBackBorder>0)},m(n,t){k(n,e,t),V(c,e,null),M(e,o),a=!0},p(n,t){t&1&&z(e,"with-border",n[0].cardBackBorder>0)},i(n){a||(g(c.$$.fragment,n),a=!0)},o(n){b(c.$$.fragment,n),a=!1},d(n){n&&f(e),G(c)}}}function K(i){let e,c,o,a;return c=new U({props:{card:i[10]}}),{c(){e=y("div"),I(c.$$.fragment),o=j(),this.h()},l(n){e=$(n,"DIV",{style:!0,class:!0});var t=B(e);P(c.$$.fragment,t),o=S(t),t.forEach(f),this.h()},h(){v(e,"style",`--card-color: ${i[10].color};`),v(e,"class","card-slot backside svelte-1yo2udp"),z(e,"with-border",i[0].cardBackBorder>0)},m(n,t){k(n,e,t),V(c,e,null),M(e,o),a=!0},p(n,t){t&1&&z(e,"with-border",n[0].cardBackBorder>0)},i(n){a||(g(c.$$.fragment,n),a=!0)},o(n){b(c.$$.fragment,n),a=!1},d(n){n&&f(e),G(c)}}}function O(i){let e,c,o,a,n,t,u=i[7],l=[];for(let r=0;r<u.length;r+=1)l[r]=H(A(i,u,r));const w=r=>b(l[r],1,1,()=>{l[r]=null});let p=i[7],d=[];for(let r=0;r<p.length;r+=1)d[r]=K(q(i,p,r));const R=r=>b(d[r],1,1,()=>{d[r]=null});return{c(){e=y("div");for(let r=0;r<l.length;r+=1)l[r].c();c=j(),o=y("div");for(let r=0;r<d.length;r+=1)d[r].c();a=j(),n=y("div"),this.h()},l(r){e=$(r,"DIV",{class:!0});var h=B(e);for(let _=0;_<l.length;_+=1)l[_].l(h);h.forEach(f),c=S(r),o=$(r,"DIV",{class:!0,style:!0});var s=B(o);for(let _=0;_<d.length;_+=1)d[_].l(s);s.forEach(f),a=S(r),n=$(r,"DIV",{style:!0}),B(n).forEach(f),this.h()},h(){v(e,"class","paper svelte-1yo2udp"),v(o,"class","paper backside svelte-1yo2udp"),m(o,"--adjust-x",(i[0].adjust.x||0)+"mm"),m(o,"--adjust-y",(i[0].adjust.y||0)+"mm"),m(n,"break-after","page")},m(r,h){k(r,e,h);for(let s=0;s<l.length;s+=1)l[s].m(e,null);k(r,c,h),k(r,o,h);for(let s=0;s<d.length;s+=1)d[s].m(o,null);k(r,a,h),k(r,n,h),t=!0},p(r,h){if(h&9){u=r[7];let s;for(s=0;s<u.length;s+=1){const _=A(r,u,s);l[s]?(l[s].p(_,h),g(l[s],1)):(l[s]=H(_),l[s].c(),g(l[s],1),l[s].m(e,null))}for(E(),s=u.length;s<l.length;s+=1)w(s);C()}if(h&9){p=r[7];let s;for(s=0;s<p.length;s+=1){const _=q(r,p,s);d[s]?(d[s].p(_,h),g(d[s],1)):(d[s]=K(_),d[s].c(),g(d[s],1),d[s].m(o,null))}for(E(),s=p.length;s<d.length;s+=1)R(s);C()}(!t||h&1)&&m(o,"--adjust-x",(r[0].adjust.x||0)+"mm"),(!t||h&1)&&m(o,"--adjust-y",(r[0].adjust.y||0)+"mm")},i(r){if(!t){for(let h=0;h<u.length;h+=1)g(l[h]);for(let h=0;h<p.length;h+=1)g(d[h]);t=!0}},o(r){l=l.filter(Boolean);for(let h=0;h<l.length;h+=1)b(l[h]);d=d.filter(Boolean);for(let h=0;h<d.length;h+=1)b(d[h]);t=!1},d(r){r&&f(e),D(l,r),r&&f(c),r&&f(o),D(d,r),r&&f(a),r&&f(n)}}}function Z(i){let e,c,o=i[3],a=[];for(let t=0;t<o.length;t+=1)a[t]=O(W(i,o,t));const n=t=>b(a[t],1,1,()=>{a[t]=null});return{c(){e=y("div");for(let t=0;t<a.length;t+=1)a[t].c();this.h()},l(t){e=$(t,"DIV",{id:!0,class:!0,style:!0});var u=B(e);for(let l=0;l<a.length;l+=1)a[l].l(u);u.forEach(f),this.h()},h(){v(e,"id","output"),v(e,"class","wrapper svelte-1yo2udp"),m(e,"--page-width",i[0].paperSize.width+"mm"),m(e,"--page-height",i[0].paperSize.height+"mm"),m(e,"--back-border-width",(i[0].cardBackBorder||0)+"mm"),m(e,"--card-width",i[1]+"mm"),m(e,"--card-height",i[2]+"mm")},m(t,u){k(t,e,u);for(let l=0;l<a.length;l+=1)a[l].m(e,null);c=!0},p(t,[u]){if(u&9){o=t[3];let l;for(l=0;l<o.length;l+=1){const w=W(t,o,l);a[l]?(a[l].p(w,u),g(a[l],1)):(a[l]=O(w),a[l].c(),g(a[l],1),a[l].m(e,null))}for(E(),l=o.length;l<a.length;l+=1)n(l);C()}(!c||u&1)&&m(e,"--page-width",t[0].paperSize.width+"mm"),(!c||u&1)&&m(e,"--page-height",t[0].paperSize.height+"mm"),(!c||u&1)&&m(e,"--back-border-width",(t[0].cardBackBorder||0)+"mm")},i(t){if(!c){for(let u=0;u<o.length;u+=1)g(a[u]);c=!0}},o(t){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)b(a[u]);c=!1},d(t){t&&f(e),D(a,t)}}}function x(i,e,c){let o,a;L(i,X,p=>c(4,o=p)),L(i,Y,p=>c(0,a=p));const n=a.cardSize.width,t=a.cardSize.height,l=(()=>{const p=Math.floor(a.paperSize.width/n),d=Math.floor(a.paperSize.height/t);return p*d})(),w=Q(o,l);return[a,n,t,w]}class le extends F{constructor(e){super();J(this,e,x,Z,N,{})}}export{le as default};
