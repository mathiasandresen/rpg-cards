import{S as A,i as F,s as K,e as b,k as S,c as j,a as w,d as p,n as I,b as y,at as m,f as g,x as d,j as D,m as E,o as P,I as B,J as L,u as v,v as M,w as V,V as z,Q as q,aw as N,r as C}from"../chunks/vendor-2e2b486a.js";import{C as R,a as T,d as U,p as X}from"../chunks/card-520fa146.js";function G(h,l,o){const n=h.slice();return n[5]=l[o],n}function H(h,l,o){const n=h.slice();return n[8]=l[o],n}function J(h,l,o){const n=h.slice();return n[8]=l[o],n}function O(h){let l,o,n,r;return o=new R({props:{card:h[8]}}),{c(){l=b("div"),D(o.$$.fragment),n=S(),this.h()},l(c){l=j(c,"DIV",{class:!0});var a=w(l);E(o.$$.fragment,a),n=I(a),a.forEach(p),this.h()},h(){y(l,"class","card-slot svelte-kpvik5")},m(c,a){g(c,l,a),P(o,l,null),B(l,n),r=!0},p:L,i(c){r||(d(o.$$.fragment,c),r=!0)},o(c){v(o.$$.fragment,c),r=!1},d(c){c&&p(l),M(o)}}}function Q(h){let l,o,n,r;return o=new T({props:{card:h[8]}}),{c(){l=b("div"),D(o.$$.fragment),n=S(),this.h()},l(c){l=j(c,"DIV",{class:!0});var a=w(l);E(o.$$.fragment,a),n=I(a),a.forEach(p),this.h()},h(){y(l,"class","card-slot svelte-kpvik5")},m(c,a){g(c,l,a),P(o,l,null),B(l,n),r=!0},p:L,i(c){r||(d(o.$$.fragment,c),r=!0)},o(c){v(o.$$.fragment,c),r=!1},d(c){c&&p(l),M(o)}}}function W(h){let l,o,n,r,c,a,u=h[5],e=[];for(let t=0;t<u.length;t+=1)e[t]=O(J(h,u,t));const $=t=>v(e[t],1,1,()=>{e[t]=null});let k=h[5],f=[];for(let t=0;t<k.length;t+=1)f[t]=Q(H(h,k,t));const x=t=>v(f[t],1,1,()=>{f[t]=null});return{c(){l=b("div");for(let t=0;t<e.length;t+=1)e[t].c();o=S(),n=b("div");for(let t=0;t<f.length;t+=1)f[t].c();r=S(),c=b("div"),this.h()},l(t){l=j(t,"DIV",{class:!0});var i=w(l);for(let _=0;_<e.length;_+=1)e[_].l(i);i.forEach(p),o=I(t),n=j(t,"DIV",{class:!0,style:!0});var s=w(n);for(let _=0;_<f.length;_+=1)f[_].l(s);s.forEach(p),r=I(t),c=j(t,"DIV",{style:!0}),w(c).forEach(p),this.h()},h(){y(l,"class","paper svelte-kpvik5"),y(n,"class","paper backside svelte-kpvik5"),m(n,"--adjust-x",(h[0].adjust.x||0)+"mm"),m(n,"--adjust-y",(h[0].adjust.y||0)+"mm"),m(c,"break-after","page")},m(t,i){g(t,l,i);for(let s=0;s<e.length;s+=1)e[s].m(l,null);g(t,o,i),g(t,n,i);for(let s=0;s<f.length;s+=1)f[s].m(n,null);g(t,r,i),g(t,c,i),a=!0},p(t,i){if(i&2){u=t[5];let s;for(s=0;s<u.length;s+=1){const _=J(t,u,s);e[s]?(e[s].p(_,i),d(e[s],1)):(e[s]=O(_),e[s].c(),d(e[s],1),e[s].m(l,null))}for(C(),s=u.length;s<e.length;s+=1)$(s);V()}if(i&2){k=t[5];let s;for(s=0;s<k.length;s+=1){const _=H(t,k,s);f[s]?(f[s].p(_,i),d(f[s],1)):(f[s]=Q(_),f[s].c(),d(f[s],1),f[s].m(n,null))}for(C(),s=k.length;s<f.length;s+=1)x(s);V()}(!a||i&1)&&m(n,"--adjust-x",(t[0].adjust.x||0)+"mm"),(!a||i&1)&&m(n,"--adjust-y",(t[0].adjust.y||0)+"mm")},i(t){if(!a){for(let i=0;i<u.length;i+=1)d(e[i]);for(let i=0;i<k.length;i+=1)d(f[i]);a=!0}},o(t){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)v(e[i]);f=f.filter(Boolean);for(let i=0;i<f.length;i+=1)v(f[i]);a=!1},d(t){t&&p(l),z(e,t),t&&p(o),t&&p(n),z(f,t),t&&p(r),t&&p(c)}}}function Y(h){let l,o,n=h[1],r=[];for(let a=0;a<n.length;a+=1)r[a]=W(G(h,n,a));const c=a=>v(r[a],1,1,()=>{r[a]=null});return{c(){l=b("div");for(let a=0;a<r.length;a+=1)r[a].c();this.h()},l(a){l=j(a,"DIV",{id:!0,class:!0,style:!0});var u=w(l);for(let e=0;e<r.length;e+=1)r[e].l(u);u.forEach(p),this.h()},h(){y(l,"id","output"),y(l,"class","wrapper svelte-kpvik5"),m(l,"--page-width",h[0].paperSize.width+"mm"),m(l,"--page-height",h[0].paperSize.height+"mm")},m(a,u){g(a,l,u);for(let e=0;e<r.length;e+=1)r[e].m(l,null);o=!0},p(a,[u]){if(u&3){n=a[1];let e;for(e=0;e<n.length;e+=1){const $=G(a,n,e);r[e]?(r[e].p($,u),d(r[e],1)):(r[e]=W($),r[e].c(),d(r[e],1),r[e].m(l,null))}for(C(),e=n.length;e<r.length;e+=1)c(e);V()}(!o||u&1)&&m(l,"--page-width",a[0].paperSize.width+"mm"),(!o||u&1)&&m(l,"--page-height",a[0].paperSize.height+"mm")},i(a){if(!o){for(let u=0;u<n.length;u+=1)d(r[u]);o=!0}},o(a){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)v(r[u]);o=!1},d(a){a&&p(l),z(r,a)}}}const Z=63.5,ee=88.9;function te(h,l,o){let n,r;q(h,U,e=>o(2,n=e)),q(h,X,e=>o(0,r=e));const a=(()=>{const e=Math.floor(r.paperSize.width/Z),$=Math.floor(r.paperSize.height/ee);return e*$})(),u=N(n,a);return[r,u]}class re extends A{constructor(l){super();F(this,l,te,Y,K,{})}}export{re as default};
