import{S as N,i as R,s as T,e as $,k as j,c as w,a as y,d as f,n as z,b as g,at as _,f as v,x as p,j as C,m as L,au as S,o as M,I as q,u as k,v as G,w as I,V,Q as H,ax as U,r as D}from"../chunks/vendor-b70b792d.js";import{b as X,e as Y,d as Z,p as x}from"../chunks/card-59a8904a.js";function O(h,e,c){const o=h.slice();return o[7]=e[c],o}function Q(h,e,c){const o=h.slice();return o[10]=e[c],o}function W(h,e,c){const o=h.slice();return o[10]=e[c],o}function A(h){let e,c,o,a;return c=new X({props:{card:h[10]}}),{c(){e=$("div"),C(c.$$.fragment),o=j(),this.h()},l(i){e=w(i,"DIV",{style:!0,class:!0});var l=y(e);L(c.$$.fragment,l),o=z(l),l.forEach(f),this.h()},h(){g(e,"style",`--card-color: ${h[10].color};`),g(e,"class","card-slot svelte-me5i2z"),S(e,"with-border",h[0].cardBackBorder>0)},m(i,l){v(i,e,l),M(c,e,null),q(e,o),a=!0},p(i,l){l&1&&S(e,"with-border",i[0].cardBackBorder>0)},i(i){a||(p(c.$$.fragment,i),a=!0)},o(i){k(c.$$.fragment,i),a=!1},d(i){i&&f(e),G(c)}}}function F(h){let e,c,o,a;return c=new Y({props:{card:h[10]}}),{c(){e=$("div"),C(c.$$.fragment),o=j(),this.h()},l(i){e=w(i,"DIV",{style:!0,class:!0});var l=y(e);L(c.$$.fragment,l),o=z(l),l.forEach(f),this.h()},h(){g(e,"style",`--card-color: ${h[10].color};`),g(e,"class","card-slot backside svelte-me5i2z"),S(e,"with-border",h[0].cardBackBorder>0)},m(i,l){v(i,e,l),M(c,e,null),q(e,o),a=!0},p(i,l){l&1&&S(e,"with-border",i[0].cardBackBorder>0)},i(i){a||(p(c.$$.fragment,i),a=!0)},o(i){k(c.$$.fragment,i),a=!1},d(i){i&&f(e),G(c)}}}function J(h){let e,c,o,a,i,l,u=h[7],t=[];for(let r=0;r<u.length;r+=1)t[r]=A(W(h,u,r));const B=r=>k(t[r],1,1,()=>{t[r]=null});let b=h[7],d=[];for(let r=0;r<b.length;r+=1)d[r]=F(Q(h,b,r));const K=r=>k(d[r],1,1,()=>{d[r]=null});return{c(){e=$("div");for(let r=0;r<t.length;r+=1)t[r].c();c=j(),o=$("div");for(let r=0;r<d.length;r+=1)d[r].c();a=j(),i=$("div"),this.h()},l(r){e=w(r,"DIV",{class:!0});var n=y(e);for(let m=0;m<t.length;m+=1)t[m].l(n);n.forEach(f),c=z(r),o=w(r,"DIV",{class:!0,style:!0});var s=y(o);for(let m=0;m<d.length;m+=1)d[m].l(s);s.forEach(f),a=z(r),i=w(r,"DIV",{style:!0}),y(i).forEach(f),this.h()},h(){g(e,"class","paper svelte-me5i2z"),g(o,"class","paper backside svelte-me5i2z"),_(o,"--adjust-x",(h[0].adjust.x||0)+"mm"),_(o,"--adjust-y",(h[0].adjust.y||0)+"mm"),_(i,"break-after","page")},m(r,n){v(r,e,n);for(let s=0;s<t.length;s+=1)t[s].m(e,null);v(r,c,n),v(r,o,n);for(let s=0;s<d.length;s+=1)d[s].m(o,null);v(r,a,n),v(r,i,n),l=!0},p(r,n){if(n&3){u=r[7];let s;for(s=0;s<u.length;s+=1){const m=W(r,u,s);t[s]?(t[s].p(m,n),p(t[s],1)):(t[s]=A(m),t[s].c(),p(t[s],1),t[s].m(e,null))}for(D(),s=u.length;s<t.length;s+=1)B(s);I()}if(n&3){b=r[7];let s;for(s=0;s<b.length;s+=1){const m=Q(r,b,s);d[s]?(d[s].p(m,n),p(d[s],1)):(d[s]=F(m),d[s].c(),p(d[s],1),d[s].m(o,null))}for(D(),s=b.length;s<d.length;s+=1)K(s);I()}(!l||n&1)&&_(o,"--adjust-x",(r[0].adjust.x||0)+"mm"),(!l||n&1)&&_(o,"--adjust-y",(r[0].adjust.y||0)+"mm")},i(r){if(!l){for(let n=0;n<u.length;n+=1)p(t[n]);for(let n=0;n<b.length;n+=1)p(d[n]);l=!0}},o(r){t=t.filter(Boolean);for(let n=0;n<t.length;n+=1)k(t[n]);d=d.filter(Boolean);for(let n=0;n<d.length;n+=1)k(d[n]);l=!1},d(r){r&&f(e),V(t,r),r&&f(c),r&&f(o),V(d,r),r&&f(a),r&&f(i)}}}function ee(h){let e,c,o=h[1],a=[];for(let l=0;l<o.length;l+=1)a[l]=J(O(h,o,l));const i=l=>k(a[l],1,1,()=>{a[l]=null});return{c(){e=$("div");for(let l=0;l<a.length;l+=1)a[l].c();this.h()},l(l){e=w(l,"DIV",{id:!0,class:!0,style:!0});var u=y(e);for(let t=0;t<a.length;t+=1)a[t].l(u);u.forEach(f),this.h()},h(){g(e,"id","output"),g(e,"class","wrapper svelte-me5i2z"),_(e,"--page-width",h[0].paperSize.width+"mm"),_(e,"--page-height",h[0].paperSize.height+"mm"),_(e,"--back-border-width",(h[0].cardBackBorder||0)+"mm"),_(e,"--card-width",E+"mm"),_(e,"--card-height",P+"mm")},m(l,u){v(l,e,u);for(let t=0;t<a.length;t+=1)a[t].m(e,null);c=!0},p(l,[u]){if(u&3){o=l[1];let t;for(t=0;t<o.length;t+=1){const B=O(l,o,t);a[t]?(a[t].p(B,u),p(a[t],1)):(a[t]=J(B),a[t].c(),p(a[t],1),a[t].m(e,null))}for(D(),t=o.length;t<a.length;t+=1)i(t);I()}(!c||u&1)&&_(e,"--page-width",l[0].paperSize.width+"mm"),(!c||u&1)&&_(e,"--page-height",l[0].paperSize.height+"mm"),(!c||u&1)&&_(e,"--back-border-width",(l[0].cardBackBorder||0)+"mm")},i(l){if(!c){for(let u=0;u<o.length;u+=1)p(a[u]);c=!0}},o(l){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)k(a[u]);c=!1},d(l){l&&f(e),V(a,l)}}}const E=63.5,P=88.9;function te(h,e,c){let o,a;H(h,Z,t=>c(2,o=t)),H(h,x,t=>c(0,a=t)),E+(a.cardBackBorder||0)*2,P+(a.cardBackBorder||0)*2;const l=(()=>{const t=Math.floor(a.paperSize.width/E),B=Math.floor(a.paperSize.height/P);return t*B})(),u=U(o,l);return[a,u]}class ae extends N{constructor(e){super();R(this,e,te,ee,T,{})}}export{ae as default};
