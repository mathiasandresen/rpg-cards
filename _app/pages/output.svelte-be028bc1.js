import{S as N,i as Q,s as T,e as y,k as j,c as $,a as w,d as f,n as S,b as g,aH as _,f as v,x as m,j as V,m as L,aJ as z,o as G,G as H,u as k,v as M,w as C,W as D,R as W,aL as U,r as E}from"../chunks/vendor-b94a67b2.js";import{C as X,a as Y,d as Z,p as x}from"../chunks/card-dcc74feb.js";import"../chunks/card-content-types-0008bb00.js";function q(u,e,c){const s=u.slice();return s[7]=e[c],s}function J(u,e,c){const s=u.slice();return s[10]=e[c],s}function O(u,e,c){const s=u.slice();return s[10]=e[c],s}function R(u){let e,c,s,a;return c=new X({props:{card:u[10]}}),{c(){e=y("div"),V(c.$$.fragment),s=j(),this.h()},l(n){e=$(n,"DIV",{style:!0,class:!0});var l=w(e);L(c.$$.fragment,l),s=S(l),l.forEach(f),this.h()},h(){g(e,"style",`--card-color: ${u[10].color};`),g(e,"class","card-slot svelte-1yo2udp"),z(e,"with-border",u[0].cardBackBorder>0)},m(n,l){v(n,e,l),G(c,e,null),H(e,s),a=!0},p(n,l){l&1&&z(e,"with-border",n[0].cardBackBorder>0)},i(n){a||(m(c.$$.fragment,n),a=!0)},o(n){k(c.$$.fragment,n),a=!1},d(n){n&&f(e),M(c)}}}function A(u){let e,c,s,a;return c=new Y({props:{card:u[10]}}),{c(){e=y("div"),V(c.$$.fragment),s=j(),this.h()},l(n){e=$(n,"DIV",{style:!0,class:!0});var l=w(e);L(c.$$.fragment,l),s=S(l),l.forEach(f),this.h()},h(){g(e,"style",`--card-color: ${u[10].color};`),g(e,"class","card-slot backside svelte-1yo2udp"),z(e,"with-border",u[0].cardBackBorder>0)},m(n,l){v(n,e,l),G(c,e,null),H(e,s),a=!0},p(n,l){l&1&&z(e,"with-border",n[0].cardBackBorder>0)},i(n){a||(m(c.$$.fragment,n),a=!0)},o(n){k(c.$$.fragment,n),a=!1},d(n){n&&f(e),M(c)}}}function F(u){let e,c,s,a,n,l,h=u[7],t=[];for(let r=0;r<h.length;r+=1)t[r]=R(O(u,h,r));const B=r=>k(t[r],1,1,()=>{t[r]=null});let b=u[7],d=[];for(let r=0;r<b.length;r+=1)d[r]=A(J(u,b,r));const K=r=>k(d[r],1,1,()=>{d[r]=null});return{c(){e=y("div");for(let r=0;r<t.length;r+=1)t[r].c();c=j(),s=y("div");for(let r=0;r<d.length;r+=1)d[r].c();a=j(),n=y("div"),this.h()},l(r){e=$(r,"DIV",{class:!0});var i=w(e);for(let p=0;p<t.length;p+=1)t[p].l(i);i.forEach(f),c=S(r),s=$(r,"DIV",{class:!0,style:!0});var o=w(s);for(let p=0;p<d.length;p+=1)d[p].l(o);o.forEach(f),a=S(r),n=$(r,"DIV",{style:!0}),w(n).forEach(f),this.h()},h(){g(e,"class","paper svelte-1yo2udp"),g(s,"class","paper backside svelte-1yo2udp"),_(s,"--adjust-x",(u[0].adjust.x||0)+"mm"),_(s,"--adjust-y",(u[0].adjust.y||0)+"mm"),_(n,"break-after","page")},m(r,i){v(r,e,i);for(let o=0;o<t.length;o+=1)t[o].m(e,null);v(r,c,i),v(r,s,i);for(let o=0;o<d.length;o+=1)d[o].m(s,null);v(r,a,i),v(r,n,i),l=!0},p(r,i){if(i&3){h=r[7];let o;for(o=0;o<h.length;o+=1){const p=O(r,h,o);t[o]?(t[o].p(p,i),m(t[o],1)):(t[o]=R(p),t[o].c(),m(t[o],1),t[o].m(e,null))}for(E(),o=h.length;o<t.length;o+=1)B(o);C()}if(i&3){b=r[7];let o;for(o=0;o<b.length;o+=1){const p=J(r,b,o);d[o]?(d[o].p(p,i),m(d[o],1)):(d[o]=A(p),d[o].c(),m(d[o],1),d[o].m(s,null))}for(E(),o=b.length;o<d.length;o+=1)K(o);C()}(!l||i&1)&&_(s,"--adjust-x",(r[0].adjust.x||0)+"mm"),(!l||i&1)&&_(s,"--adjust-y",(r[0].adjust.y||0)+"mm")},i(r){if(!l){for(let i=0;i<h.length;i+=1)m(t[i]);for(let i=0;i<b.length;i+=1)m(d[i]);l=!0}},o(r){t=t.filter(Boolean);for(let i=0;i<t.length;i+=1)k(t[i]);d=d.filter(Boolean);for(let i=0;i<d.length;i+=1)k(d[i]);l=!1},d(r){r&&f(e),D(t,r),r&&f(c),r&&f(s),D(d,r),r&&f(a),r&&f(n)}}}function ee(u){let e,c,s=u[1],a=[];for(let l=0;l<s.length;l+=1)a[l]=F(q(u,s,l));const n=l=>k(a[l],1,1,()=>{a[l]=null});return{c(){e=y("div");for(let l=0;l<a.length;l+=1)a[l].c();this.h()},l(l){e=$(l,"DIV",{id:!0,class:!0,style:!0});var h=w(e);for(let t=0;t<a.length;t+=1)a[t].l(h);h.forEach(f),this.h()},h(){g(e,"id","output"),g(e,"class","wrapper svelte-1yo2udp"),_(e,"--page-width",u[0].paperSize.width+"mm"),_(e,"--page-height",u[0].paperSize.height+"mm"),_(e,"--back-border-width",(u[0].cardBackBorder||0)+"mm"),_(e,"--card-width",I+"mm"),_(e,"--card-height",P+"mm")},m(l,h){v(l,e,h);for(let t=0;t<a.length;t+=1)a[t].m(e,null);c=!0},p(l,[h]){if(h&3){s=l[1];let t;for(t=0;t<s.length;t+=1){const B=q(l,s,t);a[t]?(a[t].p(B,h),m(a[t],1)):(a[t]=F(B),a[t].c(),m(a[t],1),a[t].m(e,null))}for(E(),t=s.length;t<a.length;t+=1)n(t);C()}(!c||h&1)&&_(e,"--page-width",l[0].paperSize.width+"mm"),(!c||h&1)&&_(e,"--page-height",l[0].paperSize.height+"mm"),(!c||h&1)&&_(e,"--back-border-width",(l[0].cardBackBorder||0)+"mm")},i(l){if(!c){for(let h=0;h<s.length;h+=1)m(a[h]);c=!0}},o(l){a=a.filter(Boolean);for(let h=0;h<a.length;h+=1)k(a[h]);c=!1},d(l){l&&f(e),D(a,l)}}}const I=63.5,P=88.9;function te(u,e,c){let s,a;W(u,Z,t=>c(2,s=t)),W(u,x,t=>c(0,a=t)),I+(a.cardBackBorder||0)*2,P+(a.cardBackBorder||0)*2;const l=(()=>{const t=Math.floor(a.paperSize.width/I),B=Math.floor(a.paperSize.height/P);return t*B})(),h=U(s,l);return[a,h]}class oe extends N{constructor(e){super();Q(this,e,te,ee,T,{})}}export{oe as default};
