import{S as J,i as K,s as Q,e as w,k as E,c as y,a as $,d as f,m as P,b as B,f as _,g as v,q as m,w as M,x as T,aL as j,y as O,I as X,o as k,B as F,p as z,X as D,T as C,aN as R,n as I}from"../chunks/vendor-ae3b66bf.js";import{C as U,a as Y,d as Z,p as x}from"../chunks/card-43bacf1c.js";import"../chunks/card-content-types-b3dc54d7.js";function V(n,e,c){const s=n.slice();return s[9]=e[c],s}function W(n,e,c){const s=n.slice();return s[12]=e[c],s}function G(n,e,c){const s=n.slice();return s[12]=e[c],s}function A(n){let e,c,s,a;return c=new U({props:{card:n[12]}}),{c(){e=w("div"),M(c.$$.fragment),s=E(),this.h()},l(i){e=y(i,"DIV",{style:!0,class:!0});var r=$(e);T(c.$$.fragment,r),s=P(r),r.forEach(f),this.h()},h(){B(e,"style",`--card-color: ${n[12].color};`),B(e,"class","card-slot svelte-1yo2udp"),j(e,"with-border",n[0].cardBackBorder>0)},m(i,r){v(i,e,r),O(c,e,null),X(e,s),a=!0},p(i,r){r&1&&j(e,"with-border",i[0].cardBackBorder>0)},i(i){a||(m(c.$$.fragment,i),a=!0)},o(i){k(c.$$.fragment,i),a=!1},d(i){i&&f(e),F(c)}}}function L(n){let e,c,s,a;return c=new Y({props:{card:n[12]}}),{c(){e=w("div"),M(c.$$.fragment),s=E(),this.h()},l(i){e=y(i,"DIV",{style:!0,class:!0});var r=$(e);T(c.$$.fragment,r),s=P(r),r.forEach(f),this.h()},h(){B(e,"style",`--card-color: ${n[12].color};`),B(e,"class","card-slot backside svelte-1yo2udp"),j(e,"with-border",n[0].cardBackBorder>0)},m(i,r){v(i,e,r),O(c,e,null),X(e,s),a=!0},p(i,r){r&1&&j(e,"with-border",i[0].cardBackBorder>0)},i(i){a||(m(c.$$.fragment,i),a=!0)},o(i){k(c.$$.fragment,i),a=!1},d(i){i&&f(e),F(c)}}}function N(n){let e,c,s,a,i,r,d=n[9],l=[];for(let t=0;t<d.length;t+=1)l[t]=A(G(n,d,t));const S=t=>k(l[t],1,1,()=>{l[t]=null});let g=n[9],u=[];for(let t=0;t<g.length;t+=1)u[t]=L(W(n,g,t));const b=t=>k(u[t],1,1,()=>{u[t]=null});return{c(){e=w("div");for(let t=0;t<l.length;t+=1)l[t].c();c=E(),s=w("div");for(let t=0;t<u.length;t+=1)u[t].c();a=E(),i=w("div"),this.h()},l(t){e=y(t,"DIV",{class:!0});var h=$(e);for(let p=0;p<l.length;p+=1)l[p].l(h);h.forEach(f),c=P(t),s=y(t,"DIV",{class:!0,style:!0});var o=$(s);for(let p=0;p<u.length;p+=1)u[p].l(o);o.forEach(f),a=P(t),i=y(t,"DIV",{style:!0}),$(i).forEach(f),this.h()},h(){B(e,"class","paper svelte-1yo2udp"),B(s,"class","paper backside svelte-1yo2udp"),_(s,"--adjust-x",(n[0].adjust.x||0)+"mm"),_(s,"--adjust-y",(n[0].adjust.y||0)+"mm"),_(i,"break-after","page")},m(t,h){v(t,e,h);for(let o=0;o<l.length;o+=1)l[o].m(e,null);v(t,c,h),v(t,s,h);for(let o=0;o<u.length;o+=1)u[o].m(s,null);v(t,a,h),v(t,i,h),r=!0},p(t,h){if(h&9){d=t[9];let o;for(o=0;o<d.length;o+=1){const p=G(t,d,o);l[o]?(l[o].p(p,h),m(l[o],1)):(l[o]=A(p),l[o].c(),m(l[o],1),l[o].m(e,null))}for(I(),o=d.length;o<l.length;o+=1)S(o);z()}if(h&9){g=t[9];let o;for(o=0;o<g.length;o+=1){const p=W(t,g,o);u[o]?(u[o].p(p,h),m(u[o],1)):(u[o]=L(p),u[o].c(),m(u[o],1),u[o].m(s,null))}for(I(),o=g.length;o<u.length;o+=1)b(o);z()}(!r||h&1)&&_(s,"--adjust-x",(t[0].adjust.x||0)+"mm"),(!r||h&1)&&_(s,"--adjust-y",(t[0].adjust.y||0)+"mm")},i(t){if(!r){for(let h=0;h<d.length;h+=1)m(l[h]);for(let h=0;h<g.length;h+=1)m(u[h]);r=!0}},o(t){l=l.filter(Boolean);for(let h=0;h<l.length;h+=1)k(l[h]);u=u.filter(Boolean);for(let h=0;h<u.length;h+=1)k(u[h]);r=!1},d(t){t&&f(e),D(l,t),t&&f(c),t&&f(s),D(u,t),t&&f(a),t&&f(i)}}}function ee(n){let e,c,s=n[3],a=[];for(let r=0;r<s.length;r+=1)a[r]=N(V(n,s,r));const i=r=>k(a[r],1,1,()=>{a[r]=null});return{c(){e=w("div");for(let r=0;r<a.length;r+=1)a[r].c();this.h()},l(r){e=y(r,"DIV",{id:!0,class:!0,style:!0});var d=$(e);for(let l=0;l<a.length;l+=1)a[l].l(d);d.forEach(f),this.h()},h(){B(e,"id","output"),B(e,"class","wrapper svelte-1yo2udp"),_(e,"--page-width",n[0].paperSize.width+"mm"),_(e,"--page-height",n[0].paperSize.height+"mm"),_(e,"--back-border-width",(n[0].cardBackBorder||0)+"mm"),_(e,"--card-width",n[1]+"mm"),_(e,"--card-height",n[2]+"mm")},m(r,d){v(r,e,d);for(let l=0;l<a.length;l+=1)a[l].m(e,null);c=!0},p(r,[d]){if(d&9){s=r[3];let l;for(l=0;l<s.length;l+=1){const S=V(r,s,l);a[l]?(a[l].p(S,d),m(a[l],1)):(a[l]=N(S),a[l].c(),m(a[l],1),a[l].m(e,null))}for(I(),l=s.length;l<a.length;l+=1)i(l);z()}(!c||d&1)&&_(e,"--page-width",r[0].paperSize.width+"mm"),(!c||d&1)&&_(e,"--page-height",r[0].paperSize.height+"mm"),(!c||d&1)&&_(e,"--back-border-width",(r[0].cardBackBorder||0)+"mm")},i(r){if(!c){for(let d=0;d<s.length;d+=1)m(a[d]);c=!0}},o(r){a=a.filter(Boolean);for(let d=0;d<a.length;d+=1)k(a[d]);c=!1},d(r){r&&f(e),D(a,r)}}}const q=2,H=5;function te(n,e,c){let s,a;C(n,Z,b=>c(4,s=b)),C(n,x,b=>c(0,a=b));const i=a.cardSize.width,r=i+(a.cardBackBorder||0)*2+q/2,d=a.cardSize.height,l=d+(a.cardBackBorder||0)*2+q/2,g=(()=>{const b=Math.floor((a.paperSize.width-H*2)/r),t=Math.floor((a.paperSize.height-H*2)/l);return b*t})(),u=R(s,g);return[a,i,d,u]}class oe extends J{constructor(e){super();K(this,e,te,ee,Q,{})}}export{oe as default};
