import{S as F,i as J,s as Q,e as w,k as S,c as y,a as $,d as f,n as E,b as v,aA as _,f as k,x as m,j as C,m as V,aK as P,o as W,G,u as b,v as A,w as z,W as D,R as M,aM as U,r as I}from"../chunks/vendor-74849787.js";import{C as X,a as Y,d as Z,p as x}from"../chunks/card-c7604857.js";import"../chunks/card-content-types-f11df5d0.js";function H(i,e,c){const s=i.slice();return s[9]=e[c],s}function L(i,e,c){const s=i.slice();return s[12]=e[c],s}function N(i,e,c){const s=i.slice();return s[12]=e[c],s}function q(i){let e,c,s,a;return c=new X({props:{card:i[12]}}),{c(){e=w("div"),C(c.$$.fragment),s=S(),this.h()},l(n){e=y(n,"DIV",{style:!0,class:!0});var r=$(e);V(c.$$.fragment,r),s=E(r),r.forEach(f),this.h()},h(){v(e,"style",`--card-color: ${i[12].color};`),v(e,"class","card-slot svelte-1yo2udp"),P(e,"with-border",i[0].cardBackBorder>0)},m(n,r){k(n,e,r),W(c,e,null),G(e,s),a=!0},p(n,r){r&1&&P(e,"with-border",n[0].cardBackBorder>0)},i(n){a||(m(c.$$.fragment,n),a=!0)},o(n){b(c.$$.fragment,n),a=!1},d(n){n&&f(e),A(c)}}}function K(i){let e,c,s,a;return c=new Y({props:{card:i[12]}}),{c(){e=w("div"),C(c.$$.fragment),s=S(),this.h()},l(n){e=y(n,"DIV",{style:!0,class:!0});var r=$(e);V(c.$$.fragment,r),s=E(r),r.forEach(f),this.h()},h(){v(e,"style",`--card-color: ${i[12].color};`),v(e,"class","card-slot backside svelte-1yo2udp"),P(e,"with-border",i[0].cardBackBorder>0)},m(n,r){k(n,e,r),W(c,e,null),G(e,s),a=!0},p(n,r){r&1&&P(e,"with-border",n[0].cardBackBorder>0)},i(n){a||(m(c.$$.fragment,n),a=!0)},o(n){b(c.$$.fragment,n),a=!1},d(n){n&&f(e),A(c)}}}function O(i){let e,c,s,a,n,r,d=i[9],l=[];for(let t=0;t<d.length;t+=1)l[t]=q(N(i,d,t));const j=t=>b(l[t],1,1,()=>{l[t]=null});let g=i[9],u=[];for(let t=0;t<g.length;t+=1)u[t]=K(L(i,g,t));const B=t=>b(u[t],1,1,()=>{u[t]=null});return{c(){e=w("div");for(let t=0;t<l.length;t+=1)l[t].c();c=S(),s=w("div");for(let t=0;t<u.length;t+=1)u[t].c();a=S(),n=w("div"),this.h()},l(t){e=y(t,"DIV",{class:!0});var h=$(e);for(let p=0;p<l.length;p+=1)l[p].l(h);h.forEach(f),c=E(t),s=y(t,"DIV",{class:!0,style:!0});var o=$(s);for(let p=0;p<u.length;p+=1)u[p].l(o);o.forEach(f),a=E(t),n=y(t,"DIV",{style:!0}),$(n).forEach(f),this.h()},h(){v(e,"class","paper svelte-1yo2udp"),v(s,"class","paper backside svelte-1yo2udp"),_(s,"--adjust-x",(i[0].adjust.x||0)+"mm"),_(s,"--adjust-y",(i[0].adjust.y||0)+"mm"),_(n,"break-after","page")},m(t,h){k(t,e,h);for(let o=0;o<l.length;o+=1)l[o].m(e,null);k(t,c,h),k(t,s,h);for(let o=0;o<u.length;o+=1)u[o].m(s,null);k(t,a,h),k(t,n,h),r=!0},p(t,h){if(h&9){d=t[9];let o;for(o=0;o<d.length;o+=1){const p=N(t,d,o);l[o]?(l[o].p(p,h),m(l[o],1)):(l[o]=q(p),l[o].c(),m(l[o],1),l[o].m(e,null))}for(I(),o=d.length;o<l.length;o+=1)j(o);z()}if(h&9){g=t[9];let o;for(o=0;o<g.length;o+=1){const p=L(t,g,o);u[o]?(u[o].p(p,h),m(u[o],1)):(u[o]=K(p),u[o].c(),m(u[o],1),u[o].m(s,null))}for(I(),o=g.length;o<u.length;o+=1)B(o);z()}(!r||h&1)&&_(s,"--adjust-x",(t[0].adjust.x||0)+"mm"),(!r||h&1)&&_(s,"--adjust-y",(t[0].adjust.y||0)+"mm")},i(t){if(!r){for(let h=0;h<d.length;h+=1)m(l[h]);for(let h=0;h<g.length;h+=1)m(u[h]);r=!0}},o(t){l=l.filter(Boolean);for(let h=0;h<l.length;h+=1)b(l[h]);u=u.filter(Boolean);for(let h=0;h<u.length;h+=1)b(u[h]);r=!1},d(t){t&&f(e),D(l,t),t&&f(c),t&&f(s),D(u,t),t&&f(a),t&&f(n)}}}function ee(i){let e,c,s=i[3],a=[];for(let r=0;r<s.length;r+=1)a[r]=O(H(i,s,r));const n=r=>b(a[r],1,1,()=>{a[r]=null});return{c(){e=w("div");for(let r=0;r<a.length;r+=1)a[r].c();this.h()},l(r){e=y(r,"DIV",{id:!0,class:!0,style:!0});var d=$(e);for(let l=0;l<a.length;l+=1)a[l].l(d);d.forEach(f),this.h()},h(){v(e,"id","output"),v(e,"class","wrapper svelte-1yo2udp"),_(e,"--page-width",i[0].paperSize.width+"mm"),_(e,"--page-height",i[0].paperSize.height+"mm"),_(e,"--back-border-width",(i[0].cardBackBorder||0)+"mm"),_(e,"--card-width",i[1]+"mm"),_(e,"--card-height",i[2]+"mm")},m(r,d){k(r,e,d);for(let l=0;l<a.length;l+=1)a[l].m(e,null);c=!0},p(r,[d]){if(d&9){s=r[3];let l;for(l=0;l<s.length;l+=1){const j=H(r,s,l);a[l]?(a[l].p(j,d),m(a[l],1)):(a[l]=O(j),a[l].c(),m(a[l],1),a[l].m(e,null))}for(I(),l=s.length;l<a.length;l+=1)n(l);z()}(!c||d&1)&&_(e,"--page-width",r[0].paperSize.width+"mm"),(!c||d&1)&&_(e,"--page-height",r[0].paperSize.height+"mm"),(!c||d&1)&&_(e,"--back-border-width",(r[0].cardBackBorder||0)+"mm")},i(r){if(!c){for(let d=0;d<s.length;d+=1)m(a[d]);c=!0}},o(r){a=a.filter(Boolean);for(let d=0;d<a.length;d+=1)b(a[d]);c=!1},d(r){r&&f(e),D(a,r)}}}const R=2,T=5;function te(i,e,c){let s,a;M(i,Z,B=>c(4,s=B)),M(i,x,B=>c(0,a=B));const n=a.cardSize.width,r=n+(a.cardBackBorder||0)*2+R/2,d=a.cardSize.height,l=d+(a.cardBackBorder||0)*2+R/2,g=(()=>{const B=Math.floor((a.paperSize.width-T*2)/r),t=Math.floor((a.paperSize.height-T*2)/l);return B*t})(),u=U(s,g);return[a,n,d,u]}class oe extends F{constructor(e){super();J(this,e,te,ee,Q,{})}}export{oe as default};
