var g_=Object.defineProperty,b_=Object.defineProperties;var __=Object.getOwnPropertyDescriptors;var hl=Object.getOwnPropertySymbols;var rc=Object.prototype.hasOwnProperty,lc=Object.prototype.propertyIsEnumerable;var sc=(i,e,t)=>e in i?g_(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,ci=(i,e)=>{for(var t in e||(e={}))rc.call(e,t)&&sc(i,t,e[t]);if(hl)for(var t of hl(e))lc.call(e,t)&&sc(i,t,e[t]);return i},Vs=(i,e)=>b_(i,__(e));var oc=(i,e)=>{var t={};for(var n in i)rc.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&hl)for(var n of hl(i))e.indexOf(n)<0&&lc.call(i,n)&&(t[n]=i[n]);return t};import{S as ke,i as ye,s as we,H as ce,C as G,e as M,c as I,a as V,d as g,L as Y,g as w,I as he,J as de,K as me,z as pe,q as _,o as k,M as ae,N as Ki,O as Et,r as Po,P as Ve,b as z,G as F,Q as E,R as W,T as Es,U as Xn,V as eu,W as tu,X as Ge,l as re,n as ge,p as be,v as ti,w as N,k as U,x as Q,m as q,y as L,B,Y as Ga,t as Z,h as K,j as $e,Z as ue,_ as v_,$ as $l,a0 as Um,E as ie,a1 as Yi,a2 as Xa,a3 as k_,a4 as ac,a5 as dl,a6 as je,a7 as He,A as qm,a8 as Ue,a9 as Bi,aa as Mo,u as y_,ab as fc,ac as uc,D as w_,ad as nu,ae as O_,af as S_,ag as $m,ah as C_,ai as Gm,aj as iu,f as Ht,ak as A_,al as Xm,am as Zm,an as cc}from"../chunks/index-f5ae0f2b.js";import{w as Km}from"../chunks/index-110dbbcd.js";/* empty css                                                        */import{S as Un,i as E_,g as D_,C as hc}from"../chunks/card-content-types-636390fa.js";import{d as nn,m as cs,c as Cn,s as Qi,p as hs,r as Gl,g as T_,G as Ym,D as Xl,C as P_,a as M_}from"../chunks/card-d11a4468.js";function I_(){const i=window?window.getComputedStyle(document.body,null):{};return parseInt(i&&i.getPropertyValue("padding-right")||0,10)}function R_(){let i=document.createElement("div");i.style.position="absolute",i.style.top="-9999px",i.style.width="50px",i.style.height="50px",i.style.overflow="scroll",document.body.appendChild(i);const e=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),e}function xm(i){document.body.style.paddingRight=i>0?`${i}px`:null}function N_(){return window?document.body.clientWidth<window.innerWidth:!1}function L_(i){const e=typeof i;return i!=null&&(e=="object"||e=="function")}function B_(){const i=R_(),e=document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")[0],t=e?parseInt(e.style.paddingRight||0,10):0;N_()&&xm(t+i)}function dc(i,e,t){return t===!0||t===""?i?"col":`col-${e}`:t==="auto"?i?"col-auto":`col-${e}-auto`:i?`col-${t}`:`col-${e}-${t}`}function Q_(i,...e){return i.addEventListener(...e),()=>i.removeEventListener(...e)}function Jm(i){let e="";if(typeof i=="string"||typeof i=="number")e+=i;else if(typeof i=="object")if(Array.isArray(i))e=i.map(Jm).filter(Boolean).join(" ");else for(let t in i)i[t]&&(e&&(e+=" "),e+=t);return e}function Re(...i){return i.map(Jm).filter(Boolean).join(" ")}function fr(i){if(!i)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(i);const n=Number.parseFloat(e),s=Number.parseFloat(t);return!n&&!s?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*1e3)}function ep(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const e=Math.random()*16|0;return(i=="x"?e:e&3|8).toString(16)})}function z_(i){let e,t;const n=i[7].default,s=ce(n,i,i[6],null);let l=[{class:i[0]},i[2]],r={};for(let o=0;o<l.length;o+=1)r=G(r,l[o]);return{c(){e=M("div"),s&&s.c(),this.h()},l(o){e=I(o,"DIV",{class:!0});var a=V(e);s&&s.l(a),a.forEach(g),this.h()},h(){Y(e,r)},m(o,a){w(o,e,a),s&&s.m(e,null),t=!0},p(o,[a]){s&&s.p&&(!t||a&64)&&he(s,n,o,o[6],t?me(n,o[6],a,null):de(o[6]),null),Y(e,r=pe(l,[(!t||a&1)&&{class:o[0]},a&4&&o[2]]))},i(o){t||(_(s,o),t=!0)},o(o){k(s,o),t=!1},d(o){o&&g(e),s&&s.d(o)}}}function V_(i,e,t){let n;const s=["flush","stayOpen","class"];let l=ae(e,s),r,{$$slots:o={},$$scope:a}=e;const f=Ki();let{flush:u=!1}=e,{stayOpen:c=!1}=e,{class:h=""}=e;const d=Km();return Et(i,d,m=>t(8,r=m)),Po("accordion",{open:d,stayOpen:c,toggle:m=>{r===m?d.set():d.set(m),f("toggle",{[m]:r===m})}}),i.$$set=m=>{e=G(G({},e),Ve(m)),t(2,l=ae(e,s)),"flush"in m&&t(3,u=m.flush),"stayOpen"in m&&t(4,c=m.stayOpen),"class"in m&&t(5,h=m.class),"$$scope"in m&&t(6,a=m.$$scope)},i.$$.update=()=>{i.$$.dirty&40&&t(0,n=Re(h,"accordion",{"accordion-flush":u}))},[n,d,l,u,c,h,a,o]}class su extends ke{constructor(e){super();ye(this,e,V_,z_,we,{flush:3,stayOpen:4,class:5})}}function F_(i){let e,t,n,s,l;const r=i[4].default,o=ce(r,i,i[3],null);let a=[{class:"accordion-header"},i[1]],f={};for(let u=0;u<a.length;u+=1)f=G(f,a[u]);return{c(){e=M("h2"),t=M("button"),o&&o.c(),this.h()},l(u){e=I(u,"H2",{class:!0});var c=V(e);t=I(c,"BUTTON",{type:!0,class:!0});var h=V(t);o&&o.l(h),h.forEach(g),c.forEach(g),this.h()},h(){z(t,"type","button"),z(t,"class",i[0]),Y(e,f)},m(u,c){w(u,e,c),F(e,t),o&&o.m(t,null),n=!0,s||(l=E(t,"click",i[5]),s=!0)},p(u,[c]){o&&o.p&&(!n||c&8)&&he(o,r,u,u[3],n?me(r,u[3],c,null):de(u[3]),null),(!n||c&1)&&z(t,"class",u[0]),Y(e,f=pe(a,[{class:"accordion-header"},c&2&&u[1]]))},i(u){n||(_(o,u),n=!0)},o(u){k(o,u),n=!1},d(u){u&&g(e),o&&o.d(u),s=!1,l()}}}function W_(i,e,t){let n;const s=["class"];let l=ae(e,s),{$$slots:r={},$$scope:o}=e,{class:a=""}=e;function f(u){W.call(this,i,u)}return i.$$set=u=>{e=G(G({},e),Ve(u)),t(1,l=ae(e,s)),"class"in u&&t(2,a=u.class),"$$scope"in u&&t(3,o=u.$$scope)},i.$$.update=()=>{i.$$.dirty&4&&t(0,n=Re(a,"accordion-button"))},[n,l,a,o,r,f]}class j_ extends ke{constructor(e){super();ye(this,e,W_,F_,we,{class:2})}}function H_(i){return i.style.display="block",{duration:fr(i),tick:t=>{t===0&&i.classList.add("show")}}}function U_(i){return i.classList.remove("show"),{duration:fr(i),tick:t=>{t===0&&(i.style.display="none")}}}function q_(i,e){const t=e.horizontal?"width":"height";return i.style[t]=`${i.getBoundingClientRect()[t]}px`,i.classList.add("collapsing"),i.classList.remove("collapse","show"),{duration:fr(i),tick:s=>{s>0?i.style[t]="":s===0&&(i.classList.remove("collapsing"),i.classList.add("collapse"))}}}function $_(i,e){const t=e.horizontal,n=t?"width":"height";return i.classList.add("collapsing"),i.classList.remove("collapse","show"),i.style[n]=0,{duration:fr(i),tick:l=>{l<1?t?i.style.width=`${i.scrollWidth}px`:i.style.height=`${i.scrollHeight}px`:(i.classList.remove("collapsing"),i.classList.add("collapse","show"),i.style[n]="")}}}function G_(i){return i.style.display="block",{duration:fr(i),tick:t=>{t>0&&i.classList.add("show")}}}function X_(i){return i.classList.remove("show"),{duration:fr(i),tick:t=>{t===1&&(i.style.display="none")}}}const mc=["touchstart","click"];var Z_=(i,e)=>{let t;if(typeof i=="string"&&typeof window!="undefined"&&document&&document.createElement){let n=document.querySelectorAll(i);if(n.length||(n=document.querySelectorAll(`#${i}`)),!n.length)throw new Error(`The target '${i}' could not be identified in the dom, tip: check spelling`);mc.forEach(s=>{n.forEach(l=>{l.addEventListener(s,e)})}),t=()=>{mc.forEach(s=>{n.forEach(l=>{l.removeEventListener(s,e)})})}}return()=>{typeof t=="function"&&(t(),t=void 0)}};function pc(i){let e,t,n,s,l,r,o;const a=i[16].default,f=ce(a,i,i[15],null);let u=[{style:t=i[2]?void 0:"overflow: hidden;"},i[9],{class:i[8]}],c={};for(let h=0;h<u.length;h+=1)c=G(c,u[h]);return{c(){e=M("div"),f&&f.c(),this.h()},l(h){e=I(h,"DIV",{style:!0,class:!0});var d=V(e);f&&f.l(d),d.forEach(g),this.h()},h(){Y(e,c)},m(h,d){w(h,e,d),f&&f.m(e,null),l=!0,r||(o=[E(e,"introstart",i[17]),E(e,"introend",i[18]),E(e,"outrostart",i[19]),E(e,"outroend",i[20]),E(e,"introstart",function(){Xn(i[3])&&i[3].apply(this,arguments)}),E(e,"introend",function(){Xn(i[4])&&i[4].apply(this,arguments)}),E(e,"outrostart",function(){Xn(i[5])&&i[5].apply(this,arguments)}),E(e,"outroend",function(){Xn(i[6])&&i[6].apply(this,arguments)})],r=!0)},p(h,d){i=h,f&&f.p&&(!l||d&32768)&&he(f,a,i,i[15],l?me(a,i[15],d,null):de(i[15]),null),Y(e,c=pe(u,[(!l||d&4&&t!==(t=i[2]?void 0:"overflow: hidden;"))&&{style:t},d&512&&i[9],(!l||d&256)&&{class:i[8]}]))},i(h){l||(_(f,h),Es(()=>{s&&s.end(1),n=eu(e,$_,{horizontal:i[1]}),n.start()}),l=!0)},o(h){k(f,h),n&&n.invalidate(),h&&(s=tu(e,q_,{horizontal:i[1]})),l=!1},d(h){h&&g(e),f&&f.d(h),h&&s&&s.end(),r=!1,Ge(o)}}}function K_(i){let e,t,n,s;Es(i[21]);let l=i[0]&&pc(i);return{c(){l&&l.c(),e=re()},l(r){l&&l.l(r),e=re()},m(r,o){l&&l.m(r,o),w(r,e,o),t=!0,n||(s=E(window,"resize",i[21]),n=!0)},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&_(l,1)):(l=pc(r),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(ge(),k(l,1,1,()=>{l=null}),be())},i(r){t||(_(l),t=!0)},o(r){k(l),t=!1},d(r){l&&l.d(r),r&&g(e),n=!1,s()}}}function Y_(i,e,t){let n;const s=["isOpen","class","horizontal","navbar","onEntering","onEntered","onExiting","onExited","expand","toggler"];let l=ae(e,s),{$$slots:r={},$$scope:o}=e;const a=Ki();let{isOpen:f=!1}=e,{class:u=""}=e,{horizontal:c=!1}=e,{navbar:h=!1}=e,{onEntering:d=()=>a("opening")}=e,{onEntered:m=()=>a("open")}=e,{onExiting:p=()=>a("closing")}=e,{onExited:b=()=>a("close")}=e,{expand:y=!1}=e,{toggler:O=null}=e;ti(()=>Z_(O,j=>{t(0,f=!f),j.preventDefault()}));let C=0,D=!1;const A={};A.xs=0,A.sm=576,A.md=768,A.lg=992,A.xl=1200;function P(){a("update",f)}function S(j){W.call(this,i,j)}function H(j){W.call(this,i,j)}function X(j){W.call(this,i,j)}function $(j){W.call(this,i,j)}function ne(){t(7,C=window.innerWidth)}return i.$$set=j=>{e=G(G({},e),Ve(j)),t(9,l=ae(e,s)),"isOpen"in j&&t(0,f=j.isOpen),"class"in j&&t(10,u=j.class),"horizontal"in j&&t(1,c=j.horizontal),"navbar"in j&&t(2,h=j.navbar),"onEntering"in j&&t(3,d=j.onEntering),"onEntered"in j&&t(4,m=j.onEntered),"onExiting"in j&&t(5,p=j.onExiting),"onExited"in j&&t(6,b=j.onExited),"expand"in j&&t(11,y=j.expand),"toggler"in j&&t(12,O=j.toggler),"$$scope"in j&&t(15,o=j.$$scope)},i.$$.update=()=>{i.$$.dirty&1030&&t(8,n=Re(u,{"collapse-horizontal":c,"navbar-collapse":h})),i.$$.dirty&26757&&h&&y&&(C>=A[y]&&!f?(t(0,f=!0),t(13,D=!0),P()):C<A[y]&&D&&(t(0,f=!1),t(13,D=!1),P()))},[f,c,h,d,m,p,b,C,n,l,u,y,O,D,A,o,r,S,H,X,$,ne]}class x_ extends ke{constructor(e){super();ye(this,e,Y_,K_,we,{isOpen:0,class:10,horizontal:1,navbar:2,onEntering:3,onEntered:4,onExiting:5,onExited:6,expand:11,toggler:12})}}const J_=i=>({}),gc=i=>({});function ev(i){let e,t,n;const s=i[9].header,l=ce(s,i,i[16],gc);return{c(){l&&l.c(),e=U(),t=Z(i[0])},l(r){l&&l.l(r),e=q(r),t=K(r,i[0])},m(r,o){l&&l.m(r,o),w(r,e,o),w(r,t,o),n=!0},p(r,o){l&&l.p&&(!n||o&65536)&&he(l,s,r,r[16],n?me(s,r[16],o,J_):de(r[16]),gc),(!n||o&1)&&$e(t,r[0])},i(r){n||(_(l,r),n=!0)},o(r){k(l,r),n=!1},d(r){l&&l.d(r),r&&g(e),r&&g(t)}}}function tv(i){let e,t;const n=i[9].default,s=ce(n,i,i[16],null);return{c(){e=M("div"),s&&s.c(),this.h()},l(l){e=I(l,"DIV",{class:!0});var r=V(e);s&&s.l(r),r.forEach(g),this.h()},h(){z(e,"class","accordion-body")},m(l,r){w(l,e,r),s&&s.m(e,null),t=!0},p(l,r){s&&s.p&&(!t||r&65536)&&he(s,n,l,l[16],t?me(n,l[16],r,null):de(l[16]),null)},i(l){t||(_(s,l),t=!0)},o(l){k(s,l),t=!1},d(l){l&&g(e),s&&s.d(l)}}}function nv(i){let e,t,n,s,l;return t=new j_({props:{class:!i[2]&&"collapsed",$$slots:{default:[ev]},$$scope:{ctx:i}}}),t.$on("click",i[10]),s=new x_({props:{isOpen:i[2],class:"accordion-collapse",$$slots:{default:[tv]},$$scope:{ctx:i}}}),s.$on("introstart",i[11]),s.$on("introend",i[12]),s.$on("outrostart",i[13]),s.$on("outroend",i[14]),{c(){e=M("div"),N(t.$$.fragment),n=U(),N(s.$$.fragment),this.h()},l(r){e=I(r,"DIV",{class:!0});var o=V(e);Q(t.$$.fragment,o),n=q(o),Q(s.$$.fragment,o),o.forEach(g),this.h()},h(){z(e,"class",i[3])},m(r,o){w(r,e,o),L(t,e,null),F(e,n),L(s,e,null),i[15](e),l=!0},p(r,[o]){const a={};o&4&&(a.class=!r[2]&&"collapsed"),o&65537&&(a.$$scope={dirty:o,ctx:r}),t.$set(a);const f={};o&4&&(f.isOpen=r[2]),o&65536&&(f.$$scope={dirty:o,ctx:r}),s.$set(f),(!l||o&8)&&z(e,"class",r[3])},i(r){l||(_(t.$$.fragment,r),_(s.$$.fragment,r),l=!0)},o(r){k(t.$$.fragment,r),k(s.$$.fragment,r),l=!1},d(r){r&&g(e),B(t),B(s),i[15](null)}}}function iv(i,e,t){let n,s,l,{$$slots:r={},$$scope:o}=e,{class:a=""}=e,{header:f=""}=e,{active:u=!1}=e,c;const h=Ki(),{stayOpen:d,toggle:m,open:p}=Ga("accordion");Et(i,p,S=>t(8,l=S)),ti(()=>{u&&m(c)});const b=()=>{d&&t(6,u=!u),m(c),h("toggle",!s)},y=()=>b();function O(S){W.call(this,i,S)}function C(S){W.call(this,i,S)}function D(S){W.call(this,i,S)}function A(S){W.call(this,i,S)}function P(S){ue[S?"unshift":"push"](()=>{c=S,t(1,c)})}return i.$$set=S=>{"class"in S&&t(7,a=S.class),"header"in S&&t(0,f=S.header),"active"in S&&t(6,u=S.active),"$$scope"in S&&t(16,o=S.$$scope)},i.$$.update=()=>{i.$$.dirty&128&&t(3,n=Re(a,"accordion-item")),i.$$.dirty&322&&t(2,s=d?u:l===c)},[f,c,s,n,p,b,u,a,l,r,y,O,C,D,A,P,o]}class Sr extends ke{constructor(e){super();ye(this,e,iv,nv,we,{class:7,header:0,active:6})}}function sv(i){const e=i-1;return e*e*e+1}function Zl(i,{delay:e=0,duration:t=400,easing:n=v_}={}){const s=+getComputedStyle(i).opacity;return{delay:e,duration:t,easing:n,css:l=>`opacity: ${l*s}`}}const rv=i=>({}),bc=i=>({});function _c(i){let e,t,n,s,l,r,o,a=(i[3]||i[10].heading)&&vc(i),f=i[5]&&kc(i);const u=[ov,lv],c=[];function h(p,b){return p[1]?0:1}s=h(i),l=c[s]=u[s](i);let d=[i[9],{class:i[7]},{role:"alert"}],m={};for(let p=0;p<d.length;p+=1)m=G(m,d[p]);return{c(){e=M("div"),a&&a.c(),t=U(),f&&f.c(),n=U(),l.c(),this.h()},l(p){e=I(p,"DIV",{class:!0,role:!0});var b=V(e);a&&a.l(b),t=q(b),f&&f.l(b),n=q(b),l.l(b),b.forEach(g),this.h()},h(){Y(e,m)},m(p,b){w(p,e,b),a&&a.m(e,null),F(e,t),f&&f.m(e,null),F(e,n),c[s].m(e,null),o=!0},p(p,b){i=p,i[3]||i[10].heading?a?(a.p(i,b),b&1032&&_(a,1)):(a=vc(i),a.c(),_(a,1),a.m(e,t)):a&&(ge(),k(a,1,1,()=>{a=null}),be()),i[5]?f?f.p(i,b):(f=kc(i),f.c(),f.m(e,n)):f&&(f.d(1),f=null);let y=s;s=h(i),s===y?c[s].p(i,b):(ge(),k(c[y],1,1,()=>{c[y]=null}),be(),l=c[s],l?l.p(i,b):(l=c[s]=u[s](i),l.c()),_(l,1),l.m(e,null)),Y(e,m=pe(d,[b&512&&i[9],(!o||b&128)&&{class:i[7]},{role:"alert"}]))},i(p){o||(_(a),_(l),Es(()=>{r||(r=$l(e,Zl,i[4],!0)),r.run(1)}),o=!0)},o(p){k(a),k(l),r||(r=$l(e,Zl,i[4],!1)),r.run(0),o=!1},d(p){p&&g(e),a&&a.d(),f&&f.d(),c[s].d(),p&&r&&r.end()}}}function vc(i){let e,t,n;const s=i[18].heading,l=ce(s,i,i[17],bc);return{c(){e=M("h4"),t=Z(i[3]),l&&l.c(),this.h()},l(r){e=I(r,"H4",{class:!0});var o=V(e);t=K(o,i[3]),l&&l.l(o),o.forEach(g),this.h()},h(){z(e,"class","alert-heading")},m(r,o){w(r,e,o),F(e,t),l&&l.m(e,null),n=!0},p(r,o){(!n||o&8)&&$e(t,r[3]),l&&l.p&&(!n||o&131072)&&he(l,s,r,r[17],n?me(s,r[17],o,rv):de(r[17]),bc)},i(r){n||(_(l,r),n=!0)},o(r){k(l,r),n=!1},d(r){r&&g(e),l&&l.d(r)}}}function kc(i){let e,t,n;return{c(){e=M("button"),this.h()},l(s){e=I(s,"BUTTON",{type:!0,class:!0,"aria-label":!0}),V(e).forEach(g),this.h()},h(){z(e,"type","button"),z(e,"class",i[6]),z(e,"aria-label",i[2])},m(s,l){w(s,e,l),t||(n=E(e,"click",function(){Xn(i[8])&&i[8].apply(this,arguments)}),t=!0)},p(s,l){i=s,l&64&&z(e,"class",i[6]),l&4&&z(e,"aria-label",i[2])},d(s){s&&g(e),t=!1,n()}}}function lv(i){let e;const t=i[18].default,n=ce(t,i,i[17],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&131072)&&he(n,t,s,s[17],e?me(t,s[17],l,null):de(s[17]),null)},i(s){e||(_(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function ov(i){let e;return{c(){e=Z(i[1])},l(t){e=K(t,i[1])},m(t,n){w(t,e,n)},p(t,n){n&2&&$e(e,t[1])},i:ie,o:ie,d(t){t&&g(e)}}}function av(i){let e,t,n=i[0]&&_c(i);return{c(){n&&n.c(),e=re()},l(s){n&&n.l(s),e=re()},m(s,l){n&&n.m(s,l),w(s,e,l),t=!0},p(s,[l]){s[0]?n?(n.p(s,l),l&1&&_(n,1)):(n=_c(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ge(),k(n,1,1,()=>{n=null}),be())},i(s){t||(_(n),t=!0)},o(s){k(n),t=!1},d(s){n&&n.d(s),s&&g(e)}}}function fv(i,e,t){let n,s,l,r;const o=["class","children","color","closeClassName","closeAriaLabel","dismissible","heading","isOpen","toggle","fade","transition"];let a=ae(e,o),{$$slots:f={},$$scope:u}=e;const c=Um(f);let{class:h=""}=e,{children:d=void 0}=e,{color:m="success"}=e,{closeClassName:p=""}=e,{closeAriaLabel:b="Close"}=e,{dismissible:y=!1}=e,{heading:O=void 0}=e,{isOpen:C=!0}=e,{toggle:D=void 0}=e,{fade:A=!0}=e,{transition:P={duration:A?400:0}}=e;return i.$$set=S=>{e=G(G({},e),Ve(S)),t(9,a=ae(e,o)),"class"in S&&t(11,h=S.class),"children"in S&&t(1,d=S.children),"color"in S&&t(12,m=S.color),"closeClassName"in S&&t(13,p=S.closeClassName),"closeAriaLabel"in S&&t(2,b=S.closeAriaLabel),"dismissible"in S&&t(14,y=S.dismissible),"heading"in S&&t(3,O=S.heading),"isOpen"in S&&t(0,C=S.isOpen),"toggle"in S&&t(15,D=S.toggle),"fade"in S&&t(16,A=S.fade),"transition"in S&&t(4,P=S.transition),"$$scope"in S&&t(17,u=S.$$scope)},i.$$.update=()=>{i.$$.dirty&49152&&t(5,n=y||D),i.$$.dirty&32768&&t(8,s=D||(()=>t(0,C=!1))),i.$$.dirty&6176&&t(7,l=Re(h,"alert",`alert-${m}`,{"alert-dismissible":n})),i.$$.dirty&8192&&t(6,r=Re("btn-close",p))},[C,d,b,O,P,n,r,l,s,a,c,h,m,p,y,D,A,u,f]}class tp extends ke{constructor(e){super();ye(this,e,fv,av,we,{class:11,children:1,color:12,closeClassName:13,closeAriaLabel:2,dismissible:14,heading:3,isOpen:0,toggle:15,fade:16,transition:4})}}function uv(i){let e,t,n,s;const l=[dv,hv],r=[];function o(u,c){return u[0]?0:1}t=o(i),n=r[t]=l[t](i);let a=[i[3],{class:i[2]}],f={};for(let u=0;u<a.length;u+=1)f=G(f,a[u]);return{c(){e=M("span"),n.c(),this.h()},l(u){e=I(u,"SPAN",{class:!0});var c=V(e);n.l(c),c.forEach(g),this.h()},h(){Y(e,f)},m(u,c){w(u,e,c),r[t].m(e,null),s=!0},p(u,c){let h=t;t=o(u),t===h?r[t].p(u,c):(ge(),k(r[h],1,1,()=>{r[h]=null}),be(),n=r[t],n?n.p(u,c):(n=r[t]=l[t](u),n.c()),_(n,1),n.m(e,null)),Y(e,f=pe(a,[c&8&&u[3],(!s||c&4)&&{class:u[2]}]))},i(u){s||(_(n),s=!0)},o(u){k(n),s=!1},d(u){u&&g(e),r[t].d()}}}function cv(i){let e,t,n,s;const l=[pv,mv],r=[];function o(u,c){return u[0]?0:1}t=o(i),n=r[t]=l[t](i);let a=[i[3],{href:i[1]},{class:i[2]}],f={};for(let u=0;u<a.length;u+=1)f=G(f,a[u]);return{c(){e=M("a"),n.c(),this.h()},l(u){e=I(u,"A",{href:!0,class:!0});var c=V(e);n.l(c),c.forEach(g),this.h()},h(){Y(e,f)},m(u,c){w(u,e,c),r[t].m(e,null),s=!0},p(u,c){let h=t;t=o(u),t===h?r[t].p(u,c):(ge(),k(r[h],1,1,()=>{r[h]=null}),be(),n=r[t],n?n.p(u,c):(n=r[t]=l[t](u),n.c()),_(n,1),n.m(e,null)),Y(e,f=pe(a,[c&8&&u[3],(!s||c&2)&&{href:u[1]},(!s||c&4)&&{class:u[2]}]))},i(u){s||(_(n),s=!0)},o(u){k(n),s=!1},d(u){u&&g(e),r[t].d()}}}function hv(i){let e;const t=i[8].default,n=ce(t,i,i[7],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&128)&&he(n,t,s,s[7],e?me(t,s[7],l,null):de(s[7]),null)},i(s){e||(_(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function dv(i){let e;return{c(){e=Z(i[0])},l(t){e=K(t,i[0])},m(t,n){w(t,e,n)},p(t,n){n&1&&$e(e,t[0])},i:ie,o:ie,d(t){t&&g(e)}}}function mv(i){let e;const t=i[8].default,n=ce(t,i,i[7],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&128)&&he(n,t,s,s[7],e?me(t,s[7],l,null):de(s[7]),null)},i(s){e||(_(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function pv(i){let e;return{c(){e=Z(i[0])},l(t){e=K(t,i[0])},m(t,n){w(t,e,n)},p(t,n){n&1&&$e(e,t[0])},i:ie,o:ie,d(t){t&&g(e)}}}function gv(i){let e,t,n,s;const l=[cv,uv],r=[];function o(a,f){return a[1]?0:1}return e=o(i),t=r[e]=l[e](i),{c(){t.c(),n=re()},l(a){t.l(a),n=re()},m(a,f){r[e].m(a,f),w(a,n,f),s=!0},p(a,[f]){let u=e;e=o(a),e===u?r[e].p(a,f):(ge(),k(r[u],1,1,()=>{r[u]=null}),be(),t=r[e],t?t.p(a,f):(t=r[e]=l[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){s||(_(t),s=!0)},o(a){k(t),s=!1},d(a){r[e].d(a),a&&g(n)}}}function bv(i,e,t){let n;const s=["class","children","color","href","pill"];let l=ae(e,s),{$$slots:r={},$$scope:o}=e,{class:a=""}=e,{children:f=void 0}=e,{color:u="secondary"}=e,{href:c=void 0}=e,{pill:h=!1}=e;return i.$$set=d=>{e=G(G({},e),Ve(d)),t(3,l=ae(e,s)),"class"in d&&t(4,a=d.class),"children"in d&&t(0,f=d.children),"color"in d&&t(5,u=d.color),"href"in d&&t(1,c=d.href),"pill"in d&&t(6,h=d.pill),"$$scope"in d&&t(7,o=d.$$scope)},i.$$.update=()=>{i.$$.dirty&112&&t(2,n=Re(a,"badge",`bg-${u}`,h?"rounded-pill":!1))},[f,c,n,l,a,u,h,o,r]}class _v extends ke{constructor(e){super();ye(this,e,bv,gv,we,{class:4,children:0,color:5,href:1,pill:6})}}function vv(i){let e,t,n,s,l;const r=i[19].default,o=ce(r,i,i[18],null),a=o||Ov(i);let f=[i[9],{class:i[7]},{disabled:i[2]},{value:i[5]},{"aria-label":t=i[8]||i[6]},{style:i[4]}],u={};for(let c=0;c<f.length;c+=1)u=G(u,f[c]);return{c(){e=M("button"),a&&a.c(),this.h()},l(c){e=I(c,"BUTTON",{class:!0,"aria-label":!0,style:!0});var h=V(e);a&&a.l(h),h.forEach(g),this.h()},h(){Y(e,u)},m(c,h){w(c,e,h),a&&a.m(e,null),e.autofocus&&e.focus(),i[23](e),n=!0,s||(l=E(e,"click",i[21]),s=!0)},p(c,h){o?o.p&&(!n||h&262144)&&he(o,r,c,c[18],n?me(r,c[18],h,null):de(c[18]),null):a&&a.p&&(!n||h&262146)&&a.p(c,n?h:-1),Y(e,u=pe(f,[h&512&&c[9],(!n||h&128)&&{class:c[7]},(!n||h&4)&&{disabled:c[2]},(!n||h&32)&&{value:c[5]},(!n||h&320&&t!==(t=c[8]||c[6]))&&{"aria-label":t},(!n||h&16)&&{style:c[4]}]))},i(c){n||(_(a,c),n=!0)},o(c){k(a,c),n=!1},d(c){c&&g(e),a&&a.d(c),i[23](null),s=!1,l()}}}function kv(i){let e,t,n,s,l,r,o;const a=[Cv,Sv],f=[];function u(d,m){return d[1]?0:1}t=u(i),n=f[t]=a[t](i);let c=[i[9],{class:i[7]},{disabled:i[2]},{href:i[3]},{"aria-label":s=i[8]||i[6]},{style:i[4]}],h={};for(let d=0;d<c.length;d+=1)h=G(h,c[d]);return{c(){e=M("a"),n.c(),this.h()},l(d){e=I(d,"A",{class:!0,disabled:!0,href:!0,"aria-label":!0,style:!0});var m=V(e);n.l(m),m.forEach(g),this.h()},h(){Y(e,h)},m(d,m){w(d,e,m),f[t].m(e,null),i[22](e),l=!0,r||(o=E(e,"click",i[20]),r=!0)},p(d,m){let p=t;t=u(d),t===p?f[t].p(d,m):(ge(),k(f[p],1,1,()=>{f[p]=null}),be(),n=f[t],n?n.p(d,m):(n=f[t]=a[t](d),n.c()),_(n,1),n.m(e,null)),Y(e,h=pe(c,[m&512&&d[9],(!l||m&128)&&{class:d[7]},(!l||m&4)&&{disabled:d[2]},(!l||m&8)&&{href:d[3]},(!l||m&320&&s!==(s=d[8]||d[6]))&&{"aria-label":s},(!l||m&16)&&{style:d[4]}]))},i(d){l||(_(n),l=!0)},o(d){k(n),l=!1},d(d){d&&g(e),f[t].d(),i[22](null),r=!1,o()}}}function yv(i){let e;const t=i[19].default,n=ce(t,i,i[18],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&262144)&&he(n,t,s,s[18],e?me(t,s[18],l,null):de(s[18]),null)},i(s){e||(_(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function wv(i){let e;return{c(){e=Z(i[1])},l(t){e=K(t,i[1])},m(t,n){w(t,e,n)},p(t,n){n&2&&$e(e,t[1])},i:ie,o:ie,d(t){t&&g(e)}}}function Ov(i){let e,t,n,s;const l=[wv,yv],r=[];function o(a,f){return a[1]?0:1}return e=o(i),t=r[e]=l[e](i),{c(){t.c(),n=re()},l(a){t.l(a),n=re()},m(a,f){r[e].m(a,f),w(a,n,f),s=!0},p(a,f){let u=e;e=o(a),e===u?r[e].p(a,f):(ge(),k(r[u],1,1,()=>{r[u]=null}),be(),t=r[e],t?t.p(a,f):(t=r[e]=l[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){s||(_(t),s=!0)},o(a){k(t),s=!1},d(a){r[e].d(a),a&&g(n)}}}function Sv(i){let e;const t=i[19].default,n=ce(t,i,i[18],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&262144)&&he(n,t,s,s[18],e?me(t,s[18],l,null):de(s[18]),null)},i(s){e||(_(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function Cv(i){let e;return{c(){e=Z(i[1])},l(t){e=K(t,i[1])},m(t,n){w(t,e,n)},p(t,n){n&2&&$e(e,t[1])},i:ie,o:ie,d(t){t&&g(e)}}}function Av(i){let e,t,n,s;const l=[kv,vv],r=[];function o(a,f){return a[3]?0:1}return e=o(i),t=r[e]=l[e](i),{c(){t.c(),n=re()},l(a){t.l(a),n=re()},m(a,f){r[e].m(a,f),w(a,n,f),s=!0},p(a,[f]){let u=e;e=o(a),e===u?r[e].p(a,f):(ge(),k(r[u],1,1,()=>{r[u]=null}),be(),t=r[e],t?t.p(a,f):(t=r[e]=l[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){s||(_(t),s=!0)},o(a){k(t),s=!1},d(a){r[e].d(a),a&&g(n)}}}function Ev(i,e,t){let n,s,l;const r=["class","active","block","children","close","color","disabled","href","inner","outline","size","style","value","white"];let o=ae(e,r),{$$slots:a={},$$scope:f}=e,{class:u=""}=e,{active:c=!1}=e,{block:h=!1}=e,{children:d=void 0}=e,{close:m=!1}=e,{color:p="secondary"}=e,{disabled:b=!1}=e,{href:y=""}=e,{inner:O=void 0}=e,{outline:C=!1}=e,{size:D=null}=e,{style:A=""}=e,{value:P=""}=e,{white:S=!1}=e;function H(j){W.call(this,i,j)}function X(j){W.call(this,i,j)}function $(j){ue[j?"unshift":"push"](()=>{O=j,t(0,O)})}function ne(j){ue[j?"unshift":"push"](()=>{O=j,t(0,O)})}return i.$$set=j=>{t(24,e=G(G({},e),Ve(j))),t(9,o=ae(e,r)),"class"in j&&t(10,u=j.class),"active"in j&&t(11,c=j.active),"block"in j&&t(12,h=j.block),"children"in j&&t(1,d=j.children),"close"in j&&t(13,m=j.close),"color"in j&&t(14,p=j.color),"disabled"in j&&t(2,b=j.disabled),"href"in j&&t(3,y=j.href),"inner"in j&&t(0,O=j.inner),"outline"in j&&t(15,C=j.outline),"size"in j&&t(16,D=j.size),"style"in j&&t(4,A=j.style),"value"in j&&t(5,P=j.value),"white"in j&&t(17,S=j.white),"$$scope"in j&&t(18,f=j.$$scope)},i.$$.update=()=>{t(8,n=e["aria-label"]),i.$$.dirty&261120&&t(7,s=Re(u,m?"btn-close":"btn",m||`btn${C?"-outline":""}-${p}`,D?`btn-${D}`:!1,h?"d-block w-100":!1,{active:c,"btn-close-white":m&&S})),i.$$.dirty&8192&&t(6,l=m?"Close":null)},e=Ve(e),[O,d,b,y,A,P,l,s,n,o,u,c,h,m,p,C,D,S,f,a,H,X,$,ne]}class ct extends ke{constructor(e){super();ye(this,e,Ev,Av,we,{class:10,active:11,block:12,children:1,close:13,color:14,disabled:2,href:3,inner:0,outline:15,size:16,style:4,value:5,white:17})}}function Ys(i,e){var t=i.getBoundingClientRect(),n=1,s=1;return{width:t.width/n,height:t.height/s,top:t.top/s,right:t.right/n,bottom:t.bottom/s,left:t.left/n,x:t.left/n,y:t.top/s}}function Vn(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var e=i.ownerDocument;return e&&e.defaultView||window}return i}function ru(i){var e=Vn(i),t=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:t,scrollTop:n}}function Mr(i){var e=Vn(i).Element;return i instanceof e||i instanceof Element}function Pn(i){var e=Vn(i).HTMLElement;return i instanceof e||i instanceof HTMLElement}function np(i){if(typeof ShadowRoot=="undefined")return!1;var e=Vn(i).ShadowRoot;return i instanceof e||i instanceof ShadowRoot}function Dv(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function Tv(i){return i===Vn(i)||!Pn(i)?ru(i):Dv(i)}function Jn(i){return i?(i.nodeName||"").toLowerCase():null}function xi(i){return((Mr(i)?i.ownerDocument:i.document)||window.document).documentElement}function lu(i){return Ys(xi(i)).left+ru(i).scrollLeft}function ki(i){return Vn(i).getComputedStyle(i)}function ou(i){var e=ki(i),t=e.overflow,n=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+s+n)}function Pv(i){var e=i.getBoundingClientRect(),t=e.width/i.offsetWidth||1,n=e.height/i.offsetHeight||1;return t!==1||n!==1}function Mv(i,e,t){t===void 0&&(t=!1);var n=Pn(e);Pn(e)&&Pv(e);var s=xi(e),l=Ys(i),r={scrollLeft:0,scrollTop:0},o={x:0,y:0};return(n||!n&&!t)&&((Jn(e)!=="body"||ou(s))&&(r=Tv(e)),Pn(e)?(o=Ys(e),o.x+=e.clientLeft,o.y+=e.clientTop):s&&(o.x=lu(s))),{x:l.left+r.scrollLeft-o.x,y:l.top+r.scrollTop-o.y,width:l.width,height:l.height}}function au(i){var e=Ys(i),t=i.offsetWidth,n=i.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:i.offsetLeft,y:i.offsetTop,width:t,height:n}}function Io(i){return Jn(i)==="html"?i:i.assignedSlot||i.parentNode||(np(i)?i.host:null)||xi(i)}function ip(i){return["html","body","#document"].indexOf(Jn(i))>=0?i.ownerDocument.body:Pn(i)&&ou(i)?i:ip(Io(i))}function Cr(i,e){var t;e===void 0&&(e=[]);var n=ip(i),s=n===((t=i.ownerDocument)==null?void 0:t.body),l=Vn(n),r=s?[l].concat(l.visualViewport||[],ou(n)?n:[]):n,o=e.concat(r);return s?o:o.concat(Cr(Io(r)))}function Iv(i){return["table","td","th"].indexOf(Jn(i))>=0}function yc(i){return!Pn(i)||ki(i).position==="fixed"?null:i.offsetParent}function Rv(i){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,t=navigator.userAgent.indexOf("Trident")!==-1;if(t&&Pn(i)){var n=ki(i);if(n.position==="fixed")return null}for(var s=Io(i);Pn(s)&&["html","body"].indexOf(Jn(s))<0;){var l=ki(s);if(l.transform!=="none"||l.perspective!=="none"||l.contain==="paint"||["transform","perspective"].indexOf(l.willChange)!==-1||e&&l.willChange==="filter"||e&&l.filter&&l.filter!=="none")return s;s=s.parentNode}return null}function Zr(i){for(var e=Vn(i),t=yc(i);t&&Iv(t)&&ki(t).position==="static";)t=yc(t);return t&&(Jn(t)==="html"||Jn(t)==="body"&&ki(t).position==="static")?e:t||Rv(i)||e}var vn="top",Mn="bottom",In="right",kn="left",fu="auto",Kr=[vn,Mn,In,kn],xs="start",Ir="end",Nv="clippingParents",sp="viewport",cr="popper",Lv="reference",wc=Kr.reduce(function(i,e){return i.concat([e+"-"+xs,e+"-"+Ir])},[]),rp=[].concat(Kr,[fu]).reduce(function(i,e){return i.concat([e,e+"-"+xs,e+"-"+Ir])},[]),Bv="beforeRead",Qv="read",zv="afterRead",Vv="beforeMain",Fv="main",Wv="afterMain",jv="beforeWrite",Hv="write",Uv="afterWrite",qv=[Bv,Qv,zv,Vv,Fv,Wv,jv,Hv,Uv];function $v(i){var e=new Map,t=new Set,n=[];i.forEach(function(l){e.set(l.name,l)});function s(l){t.add(l.name);var r=[].concat(l.requires||[],l.requiresIfExists||[]);r.forEach(function(o){if(!t.has(o)){var a=e.get(o);a&&s(a)}}),n.push(l)}return i.forEach(function(l){t.has(l.name)||s(l)}),n}function Gv(i){var e=$v(i);return qv.reduce(function(t,n){return t.concat(e.filter(function(s){return s.phase===n}))},[])}function Xv(i){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(i())})})),e}}function xn(i){return i.split("-")[0]}function Zv(i){var e=i.reduce(function(t,n){var s=t[n.name];return t[n.name]=s?Object.assign({},s,n,{options:Object.assign({},s.options,n.options),data:Object.assign({},s.data,n.data)}):n,t},{});return Object.keys(e).map(function(t){return e[t]})}function Kv(i){var e=Vn(i),t=xi(i),n=e.visualViewport,s=t.clientWidth,l=t.clientHeight,r=0,o=0;return n&&(s=n.width,l=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(r=n.offsetLeft,o=n.offsetTop)),{width:s,height:l,x:r+lu(i),y:o}}var ji=Math.max,Rr=Math.min,ml=Math.round;function Yv(i){var e,t=xi(i),n=ru(i),s=(e=i.ownerDocument)==null?void 0:e.body,l=ji(t.scrollWidth,t.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),r=ji(t.scrollHeight,t.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),o=-n.scrollLeft+lu(i),a=-n.scrollTop;return ki(s||t).direction==="rtl"&&(o+=ji(t.clientWidth,s?s.clientWidth:0)-l),{width:l,height:r,x:o,y:a}}function lp(i,e){var t=e.getRootNode&&e.getRootNode();if(i.contains(e))return!0;if(t&&np(t)){var n=e;do{if(n&&i.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Za(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function xv(i){var e=Ys(i);return e.top=e.top+i.clientTop,e.left=e.left+i.clientLeft,e.bottom=e.top+i.clientHeight,e.right=e.left+i.clientWidth,e.width=i.clientWidth,e.height=i.clientHeight,e.x=e.left,e.y=e.top,e}function Oc(i,e){return e===sp?Za(Kv(i)):Pn(e)?xv(e):Za(Yv(xi(i)))}function Jv(i){var e=Cr(Io(i)),t=["absolute","fixed"].indexOf(ki(i).position)>=0,n=t&&Pn(i)?Zr(i):i;return Mr(n)?e.filter(function(s){return Mr(s)&&lp(s,n)&&Jn(s)!=="body"}):[]}function ek(i,e,t){var n=e==="clippingParents"?Jv(i):[].concat(e),s=[].concat(n,[t]),l=s[0],r=s.reduce(function(o,a){var f=Oc(i,a);return o.top=ji(f.top,o.top),o.right=Rr(f.right,o.right),o.bottom=Rr(f.bottom,o.bottom),o.left=ji(f.left,o.left),o},Oc(i,l));return r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}function Js(i){return i.split("-")[1]}function uu(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function op(i){var e=i.reference,t=i.element,n=i.placement,s=n?xn(n):null,l=n?Js(n):null,r=e.x+e.width/2-t.width/2,o=e.y+e.height/2-t.height/2,a;switch(s){case vn:a={x:r,y:e.y-t.height};break;case Mn:a={x:r,y:e.y+e.height};break;case In:a={x:e.x+e.width,y:o};break;case kn:a={x:e.x-t.width,y:o};break;default:a={x:e.x,y:e.y}}var f=s?uu(s):null;if(f!=null){var u=f==="y"?"height":"width";switch(l){case xs:a[f]=a[f]-(e[u]/2-t[u]/2);break;case Ir:a[f]=a[f]+(e[u]/2-t[u]/2);break}}return a}function ap(){return{top:0,right:0,bottom:0,left:0}}function fp(i){return Object.assign({},ap(),i)}function up(i,e){return e.reduce(function(t,n){return t[n]=i,t},{})}function Nr(i,e){e===void 0&&(e={});var t=e,n=t.placement,s=n===void 0?i.placement:n,l=t.boundary,r=l===void 0?Nv:l,o=t.rootBoundary,a=o===void 0?sp:o,f=t.elementContext,u=f===void 0?cr:f,c=t.altBoundary,h=c===void 0?!1:c,d=t.padding,m=d===void 0?0:d,p=fp(typeof m!="number"?m:up(m,Kr)),b=u===cr?Lv:cr,y=i.rects.popper,O=i.elements[h?b:u],C=ek(Mr(O)?O:O.contextElement||xi(i.elements.popper),r,a),D=Ys(i.elements.reference),A=op({reference:D,element:y,strategy:"absolute",placement:s}),P=Za(Object.assign({},y,A)),S=u===cr?P:D,H={top:C.top-S.top+p.top,bottom:S.bottom-C.bottom+p.bottom,left:C.left-S.left+p.left,right:S.right-C.right+p.right},X=i.modifiersData.offset;if(u===cr&&X){var $=X[s];Object.keys(H).forEach(function(ne){var j=[In,Mn].indexOf(ne)>=0?1:-1,R=[vn,Mn].indexOf(ne)>=0?"y":"x";H[ne]+=$[R]*j})}return H}var Sc={placement:"bottom",modifiers:[],strategy:"absolute"};function Cc(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function tk(i){i===void 0&&(i={});var e=i,t=e.defaultModifiers,n=t===void 0?[]:t,s=e.defaultOptions,l=s===void 0?Sc:s;return function(o,a,f){f===void 0&&(f=l);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Sc,l),modifiersData:{},elements:{reference:o,popper:a},attributes:{},styles:{}},c=[],h=!1,d={state:u,setOptions:function(y){var O=typeof y=="function"?y(u.options):y;p(),u.options=Object.assign({},l,u.options,O),u.scrollParents={reference:Mr(o)?Cr(o):o.contextElement?Cr(o.contextElement):[],popper:Cr(a)};var C=Gv(Zv([].concat(n,u.options.modifiers)));return u.orderedModifiers=C.filter(function(D){return D.enabled}),m(),d.update()},forceUpdate:function(){if(!h){var y=u.elements,O=y.reference,C=y.popper;if(!!Cc(O,C)){u.rects={reference:Mv(O,Zr(C),u.options.strategy==="fixed"),popper:au(C)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function($){return u.modifiersData[$.name]=Object.assign({},$.data)});for(var D=0;D<u.orderedModifiers.length;D++){if(u.reset===!0){u.reset=!1,D=-1;continue}var A=u.orderedModifiers[D],P=A.fn,S=A.options,H=S===void 0?{}:S,X=A.name;typeof P=="function"&&(u=P({state:u,options:H,name:X,instance:d})||u)}}}},update:Xv(function(){return new Promise(function(b){d.forceUpdate(),b(u)})}),destroy:function(){p(),h=!0}};if(!Cc(o,a))return d;d.setOptions(f).then(function(b){!h&&f.onFirstUpdate&&f.onFirstUpdate(b)});function m(){u.orderedModifiers.forEach(function(b){var y=b.name,O=b.options,C=O===void 0?{}:O,D=b.effect;if(typeof D=="function"){var A=D({state:u,name:y,instance:d,options:C}),P=function(){};c.push(A||P)}})}function p(){c.forEach(function(b){return b()}),c=[]}return d}}var pl={passive:!0};function nk(i){var e=i.state,t=i.instance,n=i.options,s=n.scroll,l=s===void 0?!0:s,r=n.resize,o=r===void 0?!0:r,a=Vn(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return l&&f.forEach(function(u){u.addEventListener("scroll",t.update,pl)}),o&&a.addEventListener("resize",t.update,pl),function(){l&&f.forEach(function(u){u.removeEventListener("scroll",t.update,pl)}),o&&a.removeEventListener("resize",t.update,pl)}}var ik={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:nk,data:{}};function sk(i){var e=i.state,t=i.name;e.modifiersData[t]=op({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var rk={name:"popperOffsets",enabled:!0,phase:"read",fn:sk,data:{}},lk={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ok(i){var e=i.x,t=i.y,n=window,s=n.devicePixelRatio||1;return{x:ml(ml(e*s)/s)||0,y:ml(ml(t*s)/s)||0}}function Ac(i){var e,t=i.popper,n=i.popperRect,s=i.placement,l=i.variation,r=i.offsets,o=i.position,a=i.gpuAcceleration,f=i.adaptive,u=i.roundOffsets,c=u===!0?ok(r):typeof u=="function"?u(r):r,h=c.x,d=h===void 0?0:h,m=c.y,p=m===void 0?0:m,b=r.hasOwnProperty("x"),y=r.hasOwnProperty("y"),O=kn,C=vn,D=window;if(f){var A=Zr(t),P="clientHeight",S="clientWidth";A===Vn(t)&&(A=xi(t),ki(A).position!=="static"&&o==="absolute"&&(P="scrollHeight",S="scrollWidth")),A=A,(s===vn||(s===kn||s===In)&&l===Ir)&&(C=Mn,p-=A[P]-n.height,p*=a?1:-1),(s===kn||(s===vn||s===Mn)&&l===Ir)&&(O=In,d-=A[S]-n.width,d*=a?1:-1)}var H=Object.assign({position:o},f&&lk);if(a){var X;return Object.assign({},H,(X={},X[C]=y?"0":"",X[O]=b?"0":"",X.transform=(D.devicePixelRatio||1)<=1?"translate("+d+"px, "+p+"px)":"translate3d("+d+"px, "+p+"px, 0)",X))}return Object.assign({},H,(e={},e[C]=y?p+"px":"",e[O]=b?d+"px":"",e.transform="",e))}function ak(i){var e=i.state,t=i.options,n=t.gpuAcceleration,s=n===void 0?!0:n,l=t.adaptive,r=l===void 0?!0:l,o=t.roundOffsets,a=o===void 0?!0:o,f={placement:xn(e.placement),variation:Js(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Ac(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:r,roundOffsets:a})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Ac(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var fk={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ak,data:{}};function uk(i){var e=i.state;Object.keys(e.elements).forEach(function(t){var n=e.styles[t]||{},s=e.attributes[t]||{},l=e.elements[t];!Pn(l)||!Jn(l)||(Object.assign(l.style,n),Object.keys(s).forEach(function(r){var o=s[r];o===!1?l.removeAttribute(r):l.setAttribute(r,o===!0?"":o)}))})}function ck(i){var e=i.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(n){var s=e.elements[n],l=e.attributes[n]||{},r=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:t[n]),o=r.reduce(function(a,f){return a[f]="",a},{});!Pn(s)||!Jn(s)||(Object.assign(s.style,o),Object.keys(l).forEach(function(a){s.removeAttribute(a)}))})}}var hk={name:"applyStyles",enabled:!0,phase:"write",fn:uk,effect:ck,requires:["computeStyles"]};function dk(i,e,t){var n=xn(i),s=[kn,vn].indexOf(n)>=0?-1:1,l=typeof t=="function"?t(Object.assign({},e,{placement:i})):t,r=l[0],o=l[1];return r=r||0,o=(o||0)*s,[kn,In].indexOf(n)>=0?{x:o,y:r}:{x:r,y:o}}function mk(i){var e=i.state,t=i.options,n=i.name,s=t.offset,l=s===void 0?[0,0]:s,r=rp.reduce(function(u,c){return u[c]=dk(c,e.rects,l),u},{}),o=r[e.placement],a=o.x,f=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=a,e.modifiersData.popperOffsets.y+=f),e.modifiersData[n]=r}var pk={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:mk},gk={left:"right",right:"left",bottom:"top",top:"bottom"};function Rl(i){return i.replace(/left|right|bottom|top/g,function(e){return gk[e]})}var bk={start:"end",end:"start"};function Ec(i){return i.replace(/start|end/g,function(e){return bk[e]})}function _k(i,e){e===void 0&&(e={});var t=e,n=t.placement,s=t.boundary,l=t.rootBoundary,r=t.padding,o=t.flipVariations,a=t.allowedAutoPlacements,f=a===void 0?rp:a,u=Js(n),c=u?o?wc:wc.filter(function(m){return Js(m)===u}):Kr,h=c.filter(function(m){return f.indexOf(m)>=0});h.length===0&&(h=c);var d=h.reduce(function(m,p){return m[p]=Nr(i,{placement:p,boundary:s,rootBoundary:l,padding:r})[xn(p)],m},{});return Object.keys(d).sort(function(m,p){return d[m]-d[p]})}function vk(i){if(xn(i)===fu)return[];var e=Rl(i);return[Ec(i),e,Ec(e)]}function kk(i){var e=i.state,t=i.options,n=i.name;if(!e.modifiersData[n]._skip){for(var s=t.mainAxis,l=s===void 0?!0:s,r=t.altAxis,o=r===void 0?!0:r,a=t.fallbackPlacements,f=t.padding,u=t.boundary,c=t.rootBoundary,h=t.altBoundary,d=t.flipVariations,m=d===void 0?!0:d,p=t.allowedAutoPlacements,b=e.options.placement,y=xn(b),O=y===b,C=a||(O||!m?[Rl(b)]:vk(b)),D=[b].concat(C).reduce(function(Ye,et){return Ye.concat(xn(et)===fu?_k(e,{placement:et,boundary:u,rootBoundary:c,padding:f,flipVariations:m,allowedAutoPlacements:p}):et)},[]),A=e.rects.reference,P=e.rects.popper,S=new Map,H=!0,X=D[0],$=0;$<D.length;$++){var ne=D[$],j=xn(ne),R=Js(ne)===xs,te=[vn,Mn].indexOf(j)>=0,Se=te?"width":"height",Ce=Nr(e,{placement:ne,boundary:u,rootBoundary:c,altBoundary:h,padding:f}),ee=te?R?In:kn:R?Mn:vn;A[Se]>P[Se]&&(ee=Rl(ee));var Ie=Rl(ee),Ne=[];if(l&&Ne.push(Ce[j]<=0),o&&Ne.push(Ce[ee]<=0,Ce[Ie]<=0),Ne.every(function(Ye){return Ye})){X=ne,H=!1;break}S.set(ne,Ne)}if(H)for(var De=m?3:1,Je=function(et){var st=D.find(function(se){var rt=S.get(se);if(rt)return rt.slice(0,et).every(function(ht){return ht})});if(st)return X=st,"break"},We=De;We>0;We--){var Ze=Je(We);if(Ze==="break")break}e.placement!==X&&(e.modifiersData[n]._skip=!0,e.placement=X,e.reset=!0)}}var yk={name:"flip",enabled:!0,phase:"main",fn:kk,requiresIfExists:["offset"],data:{_skip:!1}};function wk(i){return i==="x"?"y":"x"}function Nl(i,e,t){return ji(i,Rr(e,t))}function Ok(i){var e=i.state,t=i.options,n=i.name,s=t.mainAxis,l=s===void 0?!0:s,r=t.altAxis,o=r===void 0?!1:r,a=t.boundary,f=t.rootBoundary,u=t.altBoundary,c=t.padding,h=t.tether,d=h===void 0?!0:h,m=t.tetherOffset,p=m===void 0?0:m,b=Nr(e,{boundary:a,rootBoundary:f,padding:c,altBoundary:u}),y=xn(e.placement),O=Js(e.placement),C=!O,D=uu(y),A=wk(D),P=e.modifiersData.popperOffsets,S=e.rects.reference,H=e.rects.popper,X=typeof p=="function"?p(Object.assign({},e.rects,{placement:e.placement})):p,$={x:0,y:0};if(!!P){if(l||o){var ne=D==="y"?vn:kn,j=D==="y"?Mn:In,R=D==="y"?"height":"width",te=P[D],Se=P[D]+b[ne],Ce=P[D]-b[j],ee=d?-H[R]/2:0,Ie=O===xs?S[R]:H[R],Ne=O===xs?-H[R]:-S[R],De=e.elements.arrow,Je=d&&De?au(De):{width:0,height:0},We=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:ap(),Ze=We[ne],Ye=We[j],et=Nl(0,S[R],Je[R]),st=C?S[R]/2-ee-et-Ze-X:Ie-et-Ze-X,se=C?-S[R]/2+ee+et+Ye+X:Ne+et+Ye+X,rt=e.elements.arrow&&Zr(e.elements.arrow),ht=rt?D==="y"?rt.clientTop||0:rt.clientLeft||0:0,Wt=e.modifiersData.offset?e.modifiersData.offset[e.placement][D]:0,ve=P[D]+st-Wt-ht,Oe=P[D]+se-Wt;if(l){var pt=Nl(d?Rr(Se,ve):Se,te,d?ji(Ce,Oe):Ce);P[D]=pt,$[D]=pt-te}if(o){var dt=D==="x"?vn:kn,fe=D==="x"?Mn:In,ft=P[A],_e=ft+b[dt],Be=ft-b[fe],St=Nl(d?Rr(_e,ve):_e,ft,d?ji(Be,Oe):Be);P[A]=St,$[A]=St-ft}}e.modifiersData[n]=$}}var Sk={name:"preventOverflow",enabled:!0,phase:"main",fn:Ok,requiresIfExists:["offset"]},Ck=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,fp(typeof e!="number"?e:up(e,Kr))};function Ak(i){var e,t=i.state,n=i.name,s=i.options,l=t.elements.arrow,r=t.modifiersData.popperOffsets,o=xn(t.placement),a=uu(o),f=[kn,In].indexOf(o)>=0,u=f?"height":"width";if(!(!l||!r)){var c=Ck(s.padding,t),h=au(l),d=a==="y"?vn:kn,m=a==="y"?Mn:In,p=t.rects.reference[u]+t.rects.reference[a]-r[a]-t.rects.popper[u],b=r[a]-t.rects.reference[a],y=Zr(l),O=y?a==="y"?y.clientHeight||0:y.clientWidth||0:0,C=p/2-b/2,D=c[d],A=O-h[u]-c[m],P=O/2-h[u]/2+C,S=Nl(D,P,A),H=a;t.modifiersData[n]=(e={},e[H]=S,e.centerOffset=S-P,e)}}function Ek(i){var e=i.state,t=i.options,n=t.element,s=n===void 0?"[data-popper-arrow]":n;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||!lp(e.elements.popper,s)||(e.elements.arrow=s))}var Dk={name:"arrow",enabled:!0,phase:"main",fn:Ak,effect:Ek,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Dc(i,e,t){return t===void 0&&(t={x:0,y:0}),{top:i.top-e.height-t.y,right:i.right-e.width+t.x,bottom:i.bottom-e.height+t.y,left:i.left-e.width-t.x}}function Tc(i){return[vn,In,Mn,kn].some(function(e){return i[e]>=0})}function Tk(i){var e=i.state,t=i.name,n=e.rects.reference,s=e.rects.popper,l=e.modifiersData.preventOverflow,r=Nr(e,{elementContext:"reference"}),o=Nr(e,{altBoundary:!0}),a=Dc(r,n),f=Dc(o,s,l),u=Tc(a),c=Tc(f);e.modifiersData[t]={referenceClippingOffsets:a,popperEscapeOffsets:f,isReferenceHidden:u,hasPopperEscaped:c},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":c})}var Pk={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Tk},Mk=[ik,rk,fk,hk,pk,yk,Sk,Dk,Pk],cp=tk({defaultModifiers:Mk});function Ik(i){let e,t;const n=i[6].default,s=ce(n,i,i[5],null);let l=[i[1],{class:i[0]}],r={};for(let o=0;o<l.length;o+=1)r=G(r,l[o]);return{c(){e=M("div"),s&&s.c(),this.h()},l(o){e=I(o,"DIV",{class:!0});var a=V(e);s&&s.l(a),a.forEach(g),this.h()},h(){Y(e,r)},m(o,a){w(o,e,a),s&&s.m(e,null),t=!0},p(o,[a]){s&&s.p&&(!t||a&32)&&he(s,n,o,o[5],t?me(n,o[5],a,null):de(o[5]),null),Y(e,r=pe(l,[a&2&&o[1],(!t||a&1)&&{class:o[0]}]))},i(o){t||(_(s,o),t=!0)},o(o){k(s,o),t=!1},d(o){o&&g(e),s&&s.d(o)}}}function Rk(i,e,t){let n;const s=["class","size","vertical"];let l=ae(e,s),{$$slots:r={},$$scope:o}=e,{class:a=""}=e,{size:f=""}=e,{vertical:u=!1}=e;return i.$$set=c=>{e=G(G({},e),Ve(c)),t(1,l=ae(e,s)),"class"in c&&t(2,a=c.class),"size"in c&&t(3,f=c.size),"vertical"in c&&t(4,u=c.vertical),"$$scope"in c&&t(5,o=c.$$scope)},i.$$.update=()=>{i.$$.dirty&28&&t(0,n=Re(a,f?`btn-group-${f}`:!1,u?"btn-group-vertical":"btn-group"))},[n,l,a,f,u,o,r]}class Nk extends ke{constructor(e){super();ye(this,e,Rk,Ik,we,{class:2,size:3,vertical:4})}}function Lk(i){let e,t;const n=i[10].default,s=ce(n,i,i[9],null);let l=[i[1],{class:i[0]}],r={};for(let o=0;o<l.length;o+=1)r=G(r,l[o]);return{c(){e=M("div"),s&&s.c(),this.h()},l(o){e=I(o,"DIV",{class:!0});var a=V(e);s&&s.l(a),a.forEach(g),this.h()},h(){Y(e,r)},m(o,a){w(o,e,a),s&&s.m(e,null),t=!0},p(o,[a]){s&&s.p&&(!t||a&512)&&he(s,n,o,o[9],t?me(n,o[9],a,null):de(o[9]),null),Y(e,r=pe(l,[a&2&&o[1],(!t||a&1)&&{class:o[0]}]))},i(o){t||(_(s,o),t=!0)},o(o){k(s,o),t=!1},d(o){o&&g(e),s&&s.d(o)}}}function Bk(i,e,t){let n;const s=["class","sm","md","lg","xl","xxl","fluid"];let l=ae(e,s),{$$slots:r={},$$scope:o}=e,{class:a=""}=e,{sm:f=void 0}=e,{md:u=void 0}=e,{lg:c=void 0}=e,{xl:h=void 0}=e,{xxl:d=void 0}=e,{fluid:m=!1}=e;return i.$$set=p=>{e=G(G({},e),Ve(p)),t(1,l=ae(e,s)),"class"in p&&t(2,a=p.class),"sm"in p&&t(3,f=p.sm),"md"in p&&t(4,u=p.md),"lg"in p&&t(5,c=p.lg),"xl"in p&&t(6,h=p.xl),"xxl"in p&&t(7,d=p.xxl),"fluid"in p&&t(8,m=p.fluid),"$$scope"in p&&t(9,o=p.$$scope)},i.$$.update=()=>{i.$$.dirty&508&&t(0,n=Re(a,{"container-sm":f,"container-md":u,"container-lg":c,"container-xl":h,"container-xxl":d,"container-fluid":m,container:!f&&!u&&!c&&!h&&!d&&!m}))},[n,l,a,f,u,c,h,d,m,o,r]}class Qk extends ke{constructor(e){super();ye(this,e,Bk,Lk,we,{class:2,sm:3,md:4,lg:5,xl:6,xxl:7,fluid:8})}}function zk(i){let e,t,n,s;const l=i[6].default,r=ce(l,i,i[5],null);let o=[i[1],{class:i[0]}],a={};for(let f=0;f<o.length;f+=1)a=G(a,o[f]);return{c(){e=M("form"),r&&r.c(),this.h()},l(f){e=I(f,"FORM",{class:!0});var u=V(e);r&&r.l(u),u.forEach(g),this.h()},h(){Y(e,a)},m(f,u){w(f,e,u),r&&r.m(e,null),t=!0,n||(s=E(e,"submit",i[7]),n=!0)},p(f,[u]){r&&r.p&&(!t||u&32)&&he(r,l,f,f[5],t?me(l,f[5],u,null):de(f[5]),null),Y(e,a=pe(o,[u&2&&f[1],(!t||u&1)&&{class:f[0]}]))},i(f){t||(_(r,f),t=!0)},o(f){k(r,f),t=!1},d(f){f&&g(e),r&&r.d(f),n=!1,s()}}}function Vk(i,e,t){let n;const s=["class","inline","validated"];let l=ae(e,s),{$$slots:r={},$$scope:o}=e,{class:a=""}=e,{inline:f=!1}=e,{validated:u=!1}=e;function c(h){W.call(this,i,h)}return i.$$set=h=>{e=G(G({},e),Ve(h)),t(1,l=ae(e,s)),"class"in h&&t(2,a=h.class),"inline"in h&&t(3,f=h.inline),"validated"in h&&t(4,u=h.validated),"$$scope"in h&&t(5,o=h.$$scope)},i.$$.update=()=>{i.$$.dirty&28&&t(0,n=Re(a,{"form-inline":f,"was-validated":u}))},[n,l,a,f,u,o,r,c]}class hp extends ke{constructor(e){super();ye(this,e,Vk,zk,we,{class:2,inline:3,validated:4})}}const Fk=i=>({}),Pc=i=>({});function Wk(i){let e,t,n,s=[i[11],{class:i[9]},{id:i[8]},{type:"checkbox"},{disabled:i[3]},{name:i[5]},{__value:i[7]}],l={};for(let r=0;r<s.length;r+=1)l=G(l,s[r]);return{c(){e=M("input"),this.h()},l(r){e=I(r,"INPUT",{class:!0,id:!0,type:!0,name:!0}),this.h()},h(){Y(e,l)},m(r,o){w(r,e,o),e.autofocus&&e.focus(),e.checked=i[0],i[38](e),t||(n=[E(e,"blur",i[28]),E(e,"change",i[29]),E(e,"focus",i[30]),E(e,"input",i[31]),E(e,"change",i[37])],t=!0)},p(r,o){Y(e,l=pe(s,[o[0]&2048&&r[11],o[0]&512&&{class:r[9]},o[0]&256&&{id:r[8]},{type:"checkbox"},o[0]&8&&{disabled:r[3]},o[0]&32&&{name:r[5]},o[0]&128&&{__value:r[7]}])),o[0]&1&&(e.checked=r[0])},d(r){r&&g(e),i[38](null),t=!1,Ge(n)}}}function jk(i){let e,t,n,s=[i[11],{class:i[9]},{id:i[8]},{type:"checkbox"},{disabled:i[3]},{name:i[5]},{__value:i[7]}],l={};for(let r=0;r<s.length;r+=1)l=G(l,s[r]);return{c(){e=M("input"),this.h()},l(r){e=I(r,"INPUT",{class:!0,id:!0,type:!0,name:!0}),this.h()},h(){Y(e,l)},m(r,o){w(r,e,o),e.autofocus&&e.focus(),e.checked=i[0],i[36](e),t||(n=[E(e,"blur",i[24]),E(e,"change",i[25]),E(e,"focus",i[26]),E(e,"input",i[27]),E(e,"change",i[35])],t=!0)},p(r,o){Y(e,l=pe(s,[o[0]&2048&&r[11],o[0]&512&&{class:r[9]},o[0]&256&&{id:r[8]},{type:"checkbox"},o[0]&8&&{disabled:r[3]},o[0]&32&&{name:r[5]},o[0]&128&&{__value:r[7]}])),o[0]&1&&(e.checked=r[0])},d(r){r&&g(e),i[36](null),t=!1,Ge(n)}}}function Hk(i){let e,t,n,s=[i[11],{class:i[9]},{id:i[8]},{type:"radio"},{disabled:i[3]},{name:i[5]},{__value:i[7]}],l={};for(let r=0;r<s.length;r+=1)l=G(l,s[r]);return{c(){e=M("input"),this.h()},l(r){e=I(r,"INPUT",{class:!0,id:!0,type:!0,name:!0}),this.h()},h(){Y(e,l),i[33][0].push(e)},m(r,o){w(r,e,o),e.autofocus&&e.focus(),e.checked=e.__value===i[1],i[34](e),t||(n=[E(e,"blur",i[20]),E(e,"change",i[21]),E(e,"focus",i[22]),E(e,"input",i[23]),E(e,"change",i[32])],t=!0)},p(r,o){Y(e,l=pe(s,[o[0]&2048&&r[11],o[0]&512&&{class:r[9]},o[0]&256&&{id:r[8]},{type:"radio"},o[0]&8&&{disabled:r[3]},o[0]&32&&{name:r[5]},o[0]&128&&{__value:r[7]}])),o[0]&2&&(e.checked=e.__value===r[1])},d(r){r&&g(e),i[33][0].splice(i[33][0].indexOf(e),1),i[34](null),t=!1,Ge(n)}}}function Mc(i){let e,t;const n=i[19].label,s=ce(n,i,i[18],Pc),l=s||Uk(i);return{c(){e=M("label"),l&&l.c(),this.h()},l(r){e=I(r,"LABEL",{class:!0,for:!0});var o=V(e);l&&l.l(o),o.forEach(g),this.h()},h(){z(e,"class","form-check-label"),z(e,"for",i[8])},m(r,o){w(r,e,o),l&&l.m(e,null),t=!0},p(r,o){s?s.p&&(!t||o[0]&262144)&&he(s,n,r,r[18],t?me(n,r[18],o,Fk):de(r[18]),Pc):l&&l.p&&(!t||o[0]&16)&&l.p(r,t?o:[-1,-1]),(!t||o[0]&256)&&z(e,"for",r[8])},i(r){t||(_(l,r),t=!0)},o(r){k(l,r),t=!1},d(r){r&&g(e),l&&l.d(r)}}}function Uk(i){let e;return{c(){e=Z(i[4])},l(t){e=K(t,i[4])},m(t,n){w(t,e,n)},p(t,n){n[0]&16&&$e(e,t[4])},d(t){t&&g(e)}}}function qk(i){let e,t,n;function s(a,f){return a[6]==="radio"?Hk:a[6]==="switch"?jk:Wk}let l=s(i),r=l(i),o=i[4]&&Mc(i);return{c(){e=M("div"),r.c(),t=U(),o&&o.c(),this.h()},l(a){e=I(a,"DIV",{class:!0});var f=V(e);r.l(f),t=q(f),o&&o.l(f),f.forEach(g),this.h()},h(){z(e,"class",i[10])},m(a,f){w(a,e,f),r.m(e,null),F(e,t),o&&o.m(e,null),n=!0},p(a,f){l===(l=s(a))&&r?r.p(a,f):(r.d(1),r=l(a),r&&(r.c(),r.m(e,t))),a[4]?o?(o.p(a,f),f[0]&16&&_(o,1)):(o=Mc(a),o.c(),_(o,1),o.m(e,null)):o&&(ge(),k(o,1,1,()=>{o=null}),be()),(!n||f[0]&1024)&&z(e,"class",a[10])},i(a){n||(_(o),n=!0)},o(a){k(o),n=!1},d(a){a&&g(e),r.d(),o&&o.d()}}}function $k(i,e,t){let n,s,l;const r=["class","checked","disabled","group","id","inline","inner","invalid","label","name","size","type","valid","value"];let o=ae(e,r),{$$slots:a={},$$scope:f}=e,{class:u=""}=e,{checked:c=!1}=e,{disabled:h=!1}=e,{group:d=void 0}=e,{id:m=void 0}=e,{inline:p=!1}=e,{inner:b=void 0}=e,{invalid:y=!1}=e,{label:O=""}=e,{name:C=""}=e,{size:D=""}=e,{type:A="checkbox"}=e,{valid:P=!1}=e,{value:S=void 0}=e;const H=[[]];function X(se){W.call(this,i,se)}function $(se){W.call(this,i,se)}function ne(se){W.call(this,i,se)}function j(se){W.call(this,i,se)}function R(se){W.call(this,i,se)}function te(se){W.call(this,i,se)}function Se(se){W.call(this,i,se)}function Ce(se){W.call(this,i,se)}function ee(se){W.call(this,i,se)}function Ie(se){W.call(this,i,se)}function Ne(se){W.call(this,i,se)}function De(se){W.call(this,i,se)}function Je(){d=this.__value,t(1,d)}function We(se){ue[se?"unshift":"push"](()=>{b=se,t(2,b)})}function Ze(){c=this.checked,t(0,c)}function Ye(se){ue[se?"unshift":"push"](()=>{b=se,t(2,b)})}function et(){c=this.checked,t(0,c)}function st(se){ue[se?"unshift":"push"](()=>{b=se,t(2,b)})}return i.$$set=se=>{e=G(G({},e),Ve(se)),t(11,o=ae(e,r)),"class"in se&&t(12,u=se.class),"checked"in se&&t(0,c=se.checked),"disabled"in se&&t(3,h=se.disabled),"group"in se&&t(1,d=se.group),"id"in se&&t(13,m=se.id),"inline"in se&&t(14,p=se.inline),"inner"in se&&t(2,b=se.inner),"invalid"in se&&t(15,y=se.invalid),"label"in se&&t(4,O=se.label),"name"in se&&t(5,C=se.name),"size"in se&&t(16,D=se.size),"type"in se&&t(6,A=se.type),"valid"in se&&t(17,P=se.valid),"value"in se&&t(7,S=se.value),"$$scope"in se&&t(18,f=se.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&86080&&t(10,n=Re(u,"form-check",{"form-switch":A==="switch","form-check-inline":p,[`form-control-${D}`]:D})),i.$$.dirty[0]&163840&&t(9,s=Re("form-check-input",{"is-invalid":y,"is-valid":P})),i.$$.dirty[0]&8208&&t(8,l=m||O)},[c,d,b,h,O,C,A,S,l,s,n,o,u,m,p,y,D,P,f,a,X,$,ne,j,R,te,Se,Ce,ee,Ie,Ne,De,Je,H,We,Ze,Ye,et,st]}class Gk extends ke{constructor(e){super();ye(this,e,$k,qk,we,{class:12,checked:0,disabled:3,group:1,id:13,inline:14,inner:2,invalid:15,label:4,name:5,size:16,type:6,valid:17,value:7},null,[-1,-1])}}function Xk(i){let e,t;const n=i[6].default,s=ce(n,i,i[5],null);let l=[i[1],{class:i[0]}],r={};for(let o=0;o<l.length;o+=1)r=G(r,l[o]);return{c(){e=M("div"),s&&s.c(),this.h()},l(o){e=I(o,"DIV",{class:!0});var a=V(e);s&&s.l(a),a.forEach(g),this.h()},h(){Y(e,r)},m(o,a){w(o,e,a),s&&s.m(e,null),t=!0},p(o,[a]){s&&s.p&&(!t||a&32)&&he(s,n,o,o[5],t?me(n,o[5],a,null):de(o[5]),null),Y(e,r=pe(l,[a&2&&o[1],(!t||a&1)&&{class:o[0]}]))},i(o){t||(_(s,o),t=!0)},o(o){k(s,o),t=!1},d(o){o&&g(e),s&&s.d(o)}}}function Zk(i,e,t){const n=["class","valid","tooltip"];let s=ae(e,n),{$$slots:l={},$$scope:r}=e,{class:o=""}=e,{valid:a=void 0}=e,{tooltip:f=!1}=e,u;return i.$$set=c=>{e=G(G({},e),Ve(c)),t(1,s=ae(e,n)),"class"in c&&t(2,o=c.class),"valid"in c&&t(3,a=c.valid),"tooltip"in c&&t(4,f=c.tooltip),"$$scope"in c&&t(5,r=c.$$scope)},i.$$.update=()=>{if(i.$$.dirty&28){const c=f?"tooltip":"feedback";t(0,u=Re(o,a?`valid-${c}`:`invalid-${c}`))}},[u,s,o,a,f,r,l]}class dp extends ke{constructor(e){super();ye(this,e,Zk,Xk,we,{class:2,valid:3,tooltip:4})}}const Kk=i=>({}),Ic=i=>({}),Yk=i=>({}),Rc=i=>({});function xk(i){let e,t,n;const s=i[12].default,l=ce(s,i,i[11],null);let r=(i[0]||i[4].label)&&Nc(i),o=[i[3],{class:i[2]}],a={};for(let f=0;f<o.length;f+=1)a=G(a,o[f]);return{c(){e=M("div"),l&&l.c(),t=U(),r&&r.c(),this.h()},l(f){e=I(f,"DIV",{class:!0});var u=V(e);l&&l.l(u),t=q(u),r&&r.l(u),u.forEach(g),this.h()},h(){Y(e,a)},m(f,u){w(f,e,u),l&&l.m(e,null),F(e,t),r&&r.m(e,null),n=!0},p(f,u){l&&l.p&&(!n||u&2048)&&he(l,s,f,f[11],n?me(s,f[11],u,null):de(f[11]),null),f[0]||f[4].label?r?(r.p(f,u),u&17&&_(r,1)):(r=Nc(f),r.c(),_(r,1),r.m(e,null)):r&&(ge(),k(r,1,1,()=>{r=null}),be()),Y(e,a=pe(o,[u&8&&f[3],(!n||u&4)&&{class:f[2]}]))},i(f){n||(_(l,f),_(r),n=!0)},o(f){k(l,f),k(r),n=!1},d(f){f&&g(e),l&&l.d(f),r&&r.d()}}}function Jk(i){let e,t,n;const s=i[12].default,l=ce(s,i,i[11],null);let r=(i[0]||i[4].label)&&Lc(i),o=[i[3],{class:i[2]}],a={};for(let f=0;f<o.length;f+=1)a=G(a,o[f]);return{c(){e=M("fieldset"),l&&l.c(),t=U(),r&&r.c(),this.h()},l(f){e=I(f,"FIELDSET",{class:!0});var u=V(e);l&&l.l(u),t=q(u),r&&r.l(u),u.forEach(g),this.h()},h(){Y(e,a)},m(f,u){w(f,e,u),l&&l.m(e,null),F(e,t),r&&r.m(e,null),n=!0},p(f,u){l&&l.p&&(!n||u&2048)&&he(l,s,f,f[11],n?me(s,f[11],u,null):de(f[11]),null),f[0]||f[4].label?r?(r.p(f,u),u&17&&_(r,1)):(r=Lc(f),r.c(),_(r,1),r.m(e,null)):r&&(ge(),k(r,1,1,()=>{r=null}),be()),Y(e,a=pe(o,[u&8&&f[3],(!n||u&4)&&{class:f[2]}]))},i(f){n||(_(l,f),_(r),n=!0)},o(f){k(l,f),k(r),n=!1},d(f){f&&g(e),l&&l.d(f),r&&r.d()}}}function Nc(i){let e,t,n,s;const l=i[12].label,r=ce(l,i,i[11],Ic);return{c(){e=M("label"),t=Z(i[0]),n=U(),r&&r.c()},l(o){e=I(o,"LABEL",{});var a=V(e);t=K(a,i[0]),n=q(a),r&&r.l(a),a.forEach(g)},m(o,a){w(o,e,a),F(e,t),F(e,n),r&&r.m(e,null),s=!0},p(o,a){(!s||a&1)&&$e(t,o[0]),r&&r.p&&(!s||a&2048)&&he(r,l,o,o[11],s?me(l,o[11],a,Kk):de(o[11]),Ic)},i(o){s||(_(r,o),s=!0)},o(o){k(r,o),s=!1},d(o){o&&g(e),r&&r.d(o)}}}function Lc(i){let e,t,n,s;const l=i[12].label,r=ce(l,i,i[11],Rc);return{c(){e=M("label"),t=Z(i[0]),n=U(),r&&r.c()},l(o){e=I(o,"LABEL",{});var a=V(e);t=K(a,i[0]),n=q(a),r&&r.l(a),a.forEach(g)},m(o,a){w(o,e,a),F(e,t),F(e,n),r&&r.m(e,null),s=!0},p(o,a){(!s||a&1)&&$e(t,o[0]),r&&r.p&&(!s||a&2048)&&he(r,l,o,o[11],s?me(l,o[11],a,Yk):de(o[11]),Rc)},i(o){s||(_(r,o),s=!0)},o(o){k(r,o),s=!1},d(o){o&&g(e),r&&r.d(o)}}}function ey(i){let e,t,n,s;const l=[Jk,xk],r=[];function o(a,f){return a[1]==="fieldset"?0:1}return e=o(i),t=r[e]=l[e](i),{c(){t.c(),n=re()},l(a){t.l(a),n=re()},m(a,f){r[e].m(a,f),w(a,n,f),s=!0},p(a,[f]){let u=e;e=o(a),e===u?r[e].p(a,f):(ge(),k(r[u],1,1,()=>{r[u]=null}),be(),t=r[e],t?t.p(a,f):(t=r[e]=l[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){s||(_(t),s=!0)},o(a){k(t),s=!1},d(a){r[e].d(a),a&&g(n)}}}function ty(i,e,t){let n;const s=["class","check","disabled","floating","inline","label","row","tag"];let l=ae(e,s),{$$slots:r={},$$scope:o}=e;const a=Um(r);let{class:f=""}=e,{check:u=!1}=e,{disabled:c=!1}=e,{floating:h=!1}=e,{inline:d=!1}=e,{label:m=""}=e,{row:p=!1}=e,{tag:b=null}=e;return i.$$set=y=>{e=G(G({},e),Ve(y)),t(3,l=ae(e,s)),"class"in y&&t(5,f=y.class),"check"in y&&t(6,u=y.check),"disabled"in y&&t(7,c=y.disabled),"floating"in y&&t(8,h=y.floating),"inline"in y&&t(9,d=y.inline),"label"in y&&t(0,m=y.label),"row"in y&&t(10,p=y.row),"tag"in y&&t(1,b=y.tag),"$$scope"in y&&t(11,o=y.$$scope)},i.$$.update=()=>{i.$$.dirty&2016&&t(2,n=Re(f,"mb-3",{row:p,"form-check":u,"form-check-inline":u&&d,"form-floating":h,disabled:u&&c}))},[m,b,n,l,a,f,u,c,h,d,p,o,r]}class tn extends ke{constructor(e){super();ye(this,e,ty,ey,we,{class:5,check:6,disabled:7,floating:8,inline:9,label:0,row:10,tag:1})}}function ny(i){let e,t=[i[1],{class:i[0]}],n={};for(let s=0;s<t.length;s+=1)n=G(n,t[s]);return{c(){e=M("i"),this.h()},l(s){e=I(s,"I",{class:!0}),V(e).forEach(g),this.h()},h(){Y(e,n)},m(s,l){w(s,e,l)},p(s,[l]){Y(e,n=pe(t,[l&2&&s[1],l&1&&{class:s[0]}]))},i:ie,o:ie,d(s){s&&g(e)}}}function iy(i,e,t){let n;const s=["class","name"];let l=ae(e,s),{class:r=""}=e,{name:o=""}=e;return i.$$set=a=>{e=G(G({},e),Ve(a)),t(1,l=ae(e,s)),"class"in a&&t(2,r=a.class),"name"in a&&t(3,o=a.name)},i.$$.update=()=>{i.$$.dirty&12&&t(0,n=Re(r,`bi-${o}`))},[n,l,r,o]}class Rt extends ke{constructor(e){super();ye(this,e,iy,ny,we,{class:2,name:3})}}function sy(i){let e,t;const n=i[1].default,s=ce(n,i,i[0],null);return{c(){e=M("div"),s&&s.c()},l(l){e=I(l,"DIV",{});var r=V(e);s&&s.l(r),r.forEach(g)},m(l,r){w(l,e,r),s&&s.m(e,null),t=!0},p(l,[r]){s&&s.p&&(!t||r&1)&&he(s,n,l,l[0],t?me(n,l[0],r,null):de(l[0]),null)},i(l){t||(_(s,l),t=!0)},o(l){k(s,l),t=!1},d(l){l&&g(e),s&&s.d(l)}}}function ry(i,e,t){let{$$slots:n={},$$scope:s}=e;return i.$$set=l=>{"$$scope"in l&&t(0,s=l.$$scope)},[s,n]}class cu extends ke{constructor(e){super();ye(this,e,ry,sy,we,{})}}function Bc(i,e,t){const n=i.slice();return n[210]=e[t],n}function ly(i){let e,t,n,s;const l=i[24].default,r=ce(l,i,i[209],null);let o=[i[21],{class:i[18]},{name:i[13]},{disabled:i[8]},{readonly:i[15]}],a={};for(let f=0;f<o.length;f+=1)a=G(a,o[f]);return{c(){e=M("select"),r&&r.c(),this.h()},l(f){e=I(f,"SELECT",{class:!0,name:!0,readonly:!0});var u=V(e);r&&r.l(u),u.forEach(g),this.h()},h(){Y(e,a),i[6]===void 0&&Es(()=>i[207].call(e))},m(f,u){w(f,e,u),r&&r.m(e,null),(a.multiple?ac:dl)(e,a.value),e.autofocus&&e.focus(),dl(e,i[6]),i[208](e),t=!0,n||(s=[E(e,"blur",i[156]),E(e,"change",i[157]),E(e,"focus",i[158]),E(e,"input",i[159]),E(e,"change",i[207])],n=!0)},p(f,u){r&&r.p&&(!t||u[6]&8388608)&&he(r,l,f,f[209],t?me(l,f[209],u,null):de(f[209]),null),Y(e,a=pe(o,[u[0]&2097152&&f[21],(!t||u[0]&262144)&&{class:f[18]},(!t||u[0]&8192)&&{name:f[13]},(!t||u[0]&256)&&{disabled:f[8]},(!t||u[0]&32768)&&{readonly:f[15]}])),u[0]&2400512&&"value"in a&&(a.multiple?ac:dl)(e,a.value),u[0]&64&&dl(e,f[6])},i(f){t||(_(r,f),t=!0)},o(f){k(r,f),t=!1},d(f){f&&g(e),r&&r.d(f),i[208](null),n=!1,Ge(s)}}}function oy(i){let e,t,n,s=[i[21],{class:i[18]},{disabled:i[8]},{name:i[13]},{placeholder:i[14]},{readOnly:i[15]}],l={};for(let r=0;r<s.length;r+=1)l=G(l,s[r]);return{c(){e=M("textarea"),this.h()},l(r){e=I(r,"TEXTAREA",{class:!0,name:!0,placeholder:!0}),V(e).forEach(g),this.h()},h(){Y(e,l)},m(r,o){w(r,e,o),e.autofocus&&e.focus(),je(e,i[6]),i[206](e),t||(n=[E(e,"blur",i[149]),E(e,"change",i[150]),E(e,"focus",i[151]),E(e,"input",i[152]),E(e,"keydown",i[153]),E(e,"keypress",i[154]),E(e,"keyup",i[155]),E(e,"input",i[205])],t=!0)},p(r,o){Y(e,l=pe(s,[o[0]&2097152&&r[21],o[0]&262144&&{class:r[18]},o[0]&256&&{disabled:r[8]},o[0]&8192&&{name:r[13]},o[0]&16384&&{placeholder:r[14]},o[0]&32768&&{readOnly:r[15]}])),o[0]&64&&je(e,r[6])},i:ie,o:ie,d(r){r&&g(e),i[206](null),t=!1,Ge(n)}}}function ay(i){let e,t,n,s;const l=[Ey,Ay,Cy,Sy,Oy,wy,yy,ky,vy,_y,by,gy,py,my,dy,hy,cy,uy,fy],r=[];function o(a,f){return a[16]==="text"?0:a[16]==="password"?1:a[16]==="color"?2:a[16]==="email"?3:a[16]==="file"?4:a[16]==="checkbox"||a[16]==="radio"||a[16]==="switch"?5:a[16]==="url"?6:a[16]==="number"?7:a[16]==="date"?8:a[16]==="time"?9:a[16]==="datetime"?10:a[16]==="datetime-local"?11:a[16]==="month"?12:a[16]==="color"?13:a[16]==="range"?14:a[16]==="search"?15:a[16]==="tel"?16:a[16]==="week"?17:18}return e=o(i),t=r[e]=l[e](i),{c(){t.c(),n=re()},l(a){t.l(a),n=re()},m(a,f){r[e].m(a,f),w(a,n,f),s=!0},p(a,f){let u=e;e=o(a),e===u?r[e].p(a,f):(ge(),k(r[u],1,1,()=>{r[u]=null}),be(),t=r[e],t?t.p(a,f):(t=r[e]=l[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){s||(_(t),s=!0)},o(a){k(t),s=!1},d(a){r[e].d(a),a&&g(n)}}}function fy(i){let e,t,n,s=[i[21],{type:i[16]},{readOnly:i[15]},{class:i[18]},{name:i[13]},{disabled:i[8]},{placeholder:i[14]},{value:i[6]}],l={};for(let r=0;r<s.length;r+=1)l=G(l,s[r]);return{c(){e=M("input"),this.h()},l(r){e=I(r,"INPUT",{type:!0,class:!0,name:!0,placeholder:!0}),this.h()},h(){Y(e,l)},m(r,o){w(r,e,o),e.value=l.value,e.autofocus&&e.focus(),t||(n=[E(e,"blur",i[144]),E(e,"change",i[20]),E(e,"focus",i[145]),E(e,"input",i[20]),E(e,"keydown",i[146]),E(e,"keypress",i[147]),E(e,"keyup",i[148])],t=!0)},p(r,o){Y(e,l=pe(s,[o[0]&2097152&&r[21],o[0]&65536&&{type:r[16]},o[0]&32768&&{readOnly:r[15]},o[0]&262144&&{class:r[18]},o[0]&8192&&{name:r[13]},o[0]&256&&{disabled:r[8]},o[0]&16384&&{placeholder:r[14]},o[0]&64&&e.value!==r[6]&&{value:r[6]}])),"value"in l&&(e.value=l.value)},i:ie,o:ie,d(r){r&&g(e),t=!1,Ge(n)}}}function uy(i){let e,t,n,s=[i[21],{class:i[18]},{type:"week"},{disabled:i[8]},{name:i[13]},{placeholder:i[14]},{readOnly:i[15]}],l={};for(let r=0;r<s.length;r+=1)l=G(l,s[r]);return{c(){e=M("input"),this.h()},l(r){e=I(r,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0}),this.h()},h(){Y(e,l)},m(r,o){w(r,e,o),e.autofocus&&e.focus(),je(e,i[6]),i[204](e),t||(n=[E(e,"blur",i[137]),E(e,"change",i[138]),E(e,"focus",i[139]),E(e,"input",i[140]),E(e,"keydown",i[141]),E(e,"keypress",i[142]),E(e,"keyup",i[143]),E(e,"input",i[203])],t=!0)},p(r,o){Y(e,l=pe(s,[o[0]&2097152&&r[21],o[0]&262144&&{class:r[18]},{type:"week"},o[0]&256&&{disabled:r[8]},o[0]&8192&&{name:r[13]},o[0]&16384&&{placeholder:r[14]},o[0]&32768&&{readOnly:r[15]}])),o[0]&64&&je(e,r[6])},i:ie,o:ie,d(r){r&&g(e),i[204](null),t=!1,Ge(n)}}}function cy(i){let e,t,n,s=[i[21],{class:i[18]},{type:"tel"},{disabled:i[8]},{name:i[13]},{placeholder:i[14]},{readOnly:i[15]},{size:i[1]}],l={};for(let r=0;r<s.length;r+=1)l=G(l,s[r]);return{c(){e=M("input"),this.h()},l(r){e=I(r,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0,size:!0}),this.h()},h(){Y(e,l)},m(r,o){w(r,e,o),e.autofocus&&e.focus(),je(e,i[6]),i[202](e),t||(n=[E(e,"blur",i[130]),E(e,"change",i[131]),E(e,"focus",i[132]),E(e,"input",i[133]),E(e,"keydown",i[134]),E(e,"keypress",i[135]),E(e,"keyup",i[136]),E(e,"input",i[201])],t=!0)},p(r,o){Y(e,l=pe(s,[o[0]&2097152&&r[21],o[0]&262144&&{class:r[18]},{type:"tel"},o[0]&256&&{disabled:r[8]},o[0]&8192&&{name:r[13]},o[0]&16384&&{placeholder:r[14]},o[0]&32768&&{readOnly:r[15]},o[0]&2&&{size:r[1]}])),o[0]&64&&je(e,r[6])},i:ie,o:ie,d(r){r&&g(e),i[202](null),t=!1,Ge(n)}}}function hy(i){let e,t,n,s=[i[21],{class:i[18]},{type:"search"},{disabled:i[8]},{name:i[13]},{placeholder:i[14]},{readOnly:i[15]},{size:i[1]}],l={};for(let r=0;r<s.length;r+=1)l=G(l,s[r]);return{c(){e=M("input"),this.h()},l(r){e=I(r,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0,size:!0}),this.h()},h(){Y(e,l)},m(r,o){w(r,e,o),e.autofocus&&e.focus(),je(e,i[6]),i[200](e),t||(n=[E(e,"blur",i[123]),E(e,"change",i[124]),E(e,"focus",i[125]),E(e,"input",i[126]),E(e,"keydown",i[127]),E(e,"keypress",i[128]),E(e,"keyup",i[129]),E(e,"input",i[199])],t=!0)},p(r,o){Y(e,l=pe(s,[o[0]&2097152&&r[21],o[0]&262144&&{class:r[18]},{type:"search"},o[0]&256&&{disabled:r[8]},o[0]&8192&&{name:r[13]},o[0]&16384&&{placeholder:r[14]},o[0]&32768&&{readOnly:r[15]},o[0]&2&&{size:r[1]}])),o[0]&64&&je(e,r[6])},i:ie,o:ie,d(r){r&&g(e),i[200](null),t=!1,Ge(n)}}}function dy(i){let e,t,n,s=[i[21],{type:"range"},{readOnly:i[15]},{class:i[18]},{name:i[13]},{disabled:i[8]},{placeholder:i[14]}],l={};for(let r=0;r<s.length;r+=1)l=G(l,s[r]);return{c(){e=M("input"),this.h()},l(r){e=I(r,"INPUT",{type:!0,class:!0,name:!0,placeholder:!0}),this.h()},h(){Y(e,l)},m(r,o){w(r,e,o),e.autofocus&&e.focus(),je(e,i[6]),i[198](e),t||(n=[E(e,"blur",i[116]),E(e,"change",i[117]),E(e,"focus",i[118]),E(e,"input",i[119]),E(e,"keydown",i[120]),E(e,"keypress",i[121]),E(e,"keyup",i[122]),E(e,"change",i[197]),E(e,"input",i[197])],t=!0)},p(r,o){Y(e,l=pe(s,[o[0]&2097152&&r[21],{type:"range"},o[0]&32768&&{readOnly:r[15]},o[0]&262144&&{class:r[18]},o[0]&8192&&{name:r[13]},o[0]&256&&{disabled:r[8]},o[0]&16384&&{placeholder:r[14]}])),o[0]&64&&je(e,r[6])},i:ie,o:ie,d(r){r&&g(e),i[198](null),t=!1,Ge(n)}}}function my(i){let e,t,n,s=[i[21],{type:"color"},{readOnly:i[15]},{class:i[18]},{name:i[13]},{disabled:i[8]},{placeholder:i[14]}],l={};for(let r=0;r<s.length;r+=1)l=G(l,s[r]);return{c(){e=M("input"),this.h()},l(r){e=I(r,"INPUT",{type:!0,class:!0,name:!0,placeholder:!0}),this.h()},h(){Y(e,l)},m(r,o){w(r,e,o),e.autofocus&&e.focus(),je(e,i[6]),i[196](e),t||(n=[E(e,"blur",i[109]),E(e,"change",i[110]),E(e,"focus",i[111]),E(e,"input",i[112]),E(e,"keydown",i[113]),E(e,"keypress",i[114]),E(e,"keyup",i[115]),E(e,"input",i[195])],t=!0)},p(r,o){Y(e,l=pe(s,[o[0]&2097152&&r[21],{type:"color"},o[0]&32768&&{readOnly:r[15]},o[0]&262144&&{class:r[18]},o[0]&8192&&{name:r[13]},o[0]&256&&{disabled:r[8]},o[0]&16384&&{placeholder:r[14]}])),o[0]&64&&je(e,r[6])},i:ie,o:ie,d(r){r&&g(e),i[196](null),t=!1,Ge(n)}}}function py(i){let e,t,n,s=[i[21],{class:i[18]},{type:"month"},{disabled:i[8]},{name:i[13]},{placeholder:i[14]},{readOnly:i[15]}],l={};for(let r=0;r<s.length;r+=1)l=G(l,s[r]);return{c(){e=M("input"),this.h()},l(r){e=I(r,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0}),this.h()},h(){Y(e,l)},m(r,o){w(r,e,o),e.autofocus&&e.focus(),je(e,i[6]),i[194](e),t||(n=[E(e,"blur",i[102]),E(e,"change",i[103]),E(e,"focus",i[104]),E(e,"input",i[105]),E(e,"keydown",i[106]),E(e,"keypress",i[107]),E(e,"keyup",i[108]),E(e,"input",i[193])],t=!0)},p(r,o){Y(e,l=pe(s,[o[0]&2097152&&r[21],o[0]&262144&&{class:r[18]},{type:"month"},o[0]&256&&{disabled:r[8]},o[0]&8192&&{name:r[13]},o[0]&16384&&{placeholder:r[14]},o[0]&32768&&{readOnly:r[15]}])),o[0]&64&&je(e,r[6])},i:ie,o:ie,d(r){r&&g(e),i[194](null),t=!1,Ge(n)}}}function gy(i){let e,t,n,s=[i[21],{class:i[18]},{type:"datetime-local"},{disabled:i[8]},{name:i[13]},{placeholder:i[14]},{readOnly:i[15]}],l={};for(let r=0;r<s.length;r+=1)l=G(l,s[r]);return{c(){e=M("input"),this.h()},l(r){e=I(r,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0}),this.h()},h(){Y(e,l)},m(r,o){w(r,e,o),e.autofocus&&e.focus(),je(e,i[6]),i[192](e),t||(n=[E(e,"blur",i[95]),E(e,"change",i[96]),E(e,"focus",i[97]),E(e,"input",i[98]),E(e,"keydown",i[99]),E(e,"keypress",i[100]),E(e,"keyup",i[101]),E(e,"input",i[191])],t=!0)},p(r,o){Y(e,l=pe(s,[o[0]&2097152&&r[21],o[0]&262144&&{class:r[18]},{type:"datetime-local"},o[0]&256&&{disabled:r[8]},o[0]&8192&&{name:r[13]},o[0]&16384&&{placeholder:r[14]},o[0]&32768&&{readOnly:r[15]}])),o[0]&64&&je(e,r[6])},i:ie,o:ie,d(r){r&&g(e),i[192](null),t=!1,Ge(n)}}}function by(i){let e,t,n,s=[i[21],{type:"datetime"},{readOnly:i[15]},{class:i[18]},{name:i[13]},{disabled:i[8]},{placeholder:i[14]}],l={};for(let r=0;r<s.length;r+=1)l=G(l,s[r]);return{c(){e=M("input"),this.h()},l(r){e=I(r,"INPUT",{type:!0,class:!0,name:!0,placeholder:!0}),this.h()},h(){Y(e,l)},m(r,o){w(r,e,o),e.autofocus&&e.focus(),je(e,i[6]),i[190](e),t||(n=[E(e,"blur",i[88]),E(e,"change",i[89]),E(e,"focus",i[90]),E(e,"input",i[91]),E(e,"keydown",i[92]),E(e,"keypress",i[93]),E(e,"keyup",i[94]),E(e,"input",i[189])],t=!0)},p(r,o){Y(e,l=pe(s,[o[0]&2097152&&r[21],{type:"datetime"},o[0]&32768&&{readOnly:r[15]},o[0]&262144&&{class:r[18]},o[0]&8192&&{name:r[13]},o[0]&256&&{disabled:r[8]},o[0]&16384&&{placeholder:r[14]}])),o[0]&64&&je(e,r[6])},i:ie,o:ie,d(r){r&&g(e),i[190](null),t=!1,Ge(n)}}}function _y(i){let e,t,n,s=[i[21],{class:i[18]},{type:"time"},{disabled:i[8]},{name:i[13]},{placeholder:i[14]},{readOnly:i[15]}],l={};for(let r=0;r<s.length;r+=1)l=G(l,s[r]);return{c(){e=M("input"),this.h()},l(r){e=I(r,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0}),this.h()},h(){Y(e,l)},m(r,o){w(r,e,o),e.autofocus&&e.focus(),je(e,i[6]),i[188](e),t||(n=[E(e,"blur",i[81]),E(e,"change",i[82]),E(e,"focus",i[83]),E(e,"input",i[84]),E(e,"keydown",i[85]),E(e,"keypress",i[86]),E(e,"keyup",i[87]),E(e,"input",i[187])],t=!0)},p(r,o){Y(e,l=pe(s,[o[0]&2097152&&r[21],o[0]&262144&&{class:r[18]},{type:"time"},o[0]&256&&{disabled:r[8]},o[0]&8192&&{name:r[13]},o[0]&16384&&{placeholder:r[14]},o[0]&32768&&{readOnly:r[15]}])),o[0]&64&&je(e,r[6])},i:ie,o:ie,d(r){r&&g(e),i[188](null),t=!1,Ge(n)}}}function vy(i){let e,t,n,s=[i[21],{class:i[18]},{type:"date"},{disabled:i[8]},{name:i[13]},{placeholder:i[14]},{readOnly:i[15]}],l={};for(let r=0;r<s.length;r+=1)l=G(l,s[r]);return{c(){e=M("input"),this.h()},l(r){e=I(r,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0}),this.h()},h(){Y(e,l)},m(r,o){w(r,e,o),e.autofocus&&e.focus(),je(e,i[6]),i[186](e),t||(n=[E(e,"blur",i[74]),E(e,"change",i[75]),E(e,"focus",i[76]),E(e,"input",i[77]),E(e,"keydown",i[78]),E(e,"keypress",i[79]),E(e,"keyup",i[80]),E(e,"input",i[185])],t=!0)},p(r,o){Y(e,l=pe(s,[o[0]&2097152&&r[21],o[0]&262144&&{class:r[18]},{type:"date"},o[0]&256&&{disabled:r[8]},o[0]&8192&&{name:r[13]},o[0]&16384&&{placeholder:r[14]},o[0]&32768&&{readOnly:r[15]}])),o[0]&64&&je(e,r[6])},i:ie,o:ie,d(r){r&&g(e),i[186](null),t=!1,Ge(n)}}}function ky(i){let e,t,n,s=[i[21],{class:i[18]},{type:"number"},{readOnly:i[15]},{name:i[13]},{disabled:i[8]},{placeholder:i[14]}],l={};for(let r=0;r<s.length;r+=1)l=G(l,s[r]);return{c(){e=M("input"),this.h()},l(r){e=I(r,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0}),this.h()},h(){Y(e,l)},m(r,o){w(r,e,o),e.autofocus&&e.focus(),je(e,i[6]),i[184](e),t||(n=[E(e,"blur",i[67]),E(e,"change",i[68]),E(e,"focus",i[69]),E(e,"input",i[70]),E(e,"keydown",i[71]),E(e,"keypress",i[72]),E(e,"keyup",i[73]),E(e,"input",i[183])],t=!0)},p(r,o){Y(e,l=pe(s,[o[0]&2097152&&r[21],o[0]&262144&&{class:r[18]},{type:"number"},o[0]&32768&&{readOnly:r[15]},o[0]&8192&&{name:r[13]},o[0]&256&&{disabled:r[8]},o[0]&16384&&{placeholder:r[14]}])),o[0]&64&&Xa(e.value)!==r[6]&&je(e,r[6])},i:ie,o:ie,d(r){r&&g(e),i[184](null),t=!1,Ge(n)}}}function yy(i){let e,t,n,s=[i[21],{class:i[18]},{type:"url"},{disabled:i[8]},{name:i[13]},{placeholder:i[14]},{readOnly:i[15]},{size:i[1]}],l={};for(let r=0;r<s.length;r+=1)l=G(l,s[r]);return{c(){e=M("input"),this.h()},l(r){e=I(r,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0,size:!0}),this.h()},h(){Y(e,l)},m(r,o){w(r,e,o),e.autofocus&&e.focus(),je(e,i[6]),i[182](e),t||(n=[E(e,"blur",i[60]),E(e,"change",i[61]),E(e,"focus",i[62]),E(e,"input",i[63]),E(e,"keydown",i[64]),E(e,"keypress",i[65]),E(e,"keyup",i[66]),E(e,"input",i[181])],t=!0)},p(r,o){Y(e,l=pe(s,[o[0]&2097152&&r[21],o[0]&262144&&{class:r[18]},{type:"url"},o[0]&256&&{disabled:r[8]},o[0]&8192&&{name:r[13]},o[0]&16384&&{placeholder:r[14]},o[0]&32768&&{readOnly:r[15]},o[0]&2&&{size:r[1]}])),o[0]&64&&je(e,r[6])},i:ie,o:ie,d(r){r&&g(e),i[182](null),t=!1,Ge(n)}}}function wy(i){let e,t,n,s,l,r;const o=[i[21],{class:i[7]},{size:i[0]},{type:i[16]},{disabled:i[8]},{invalid:i[10]},{label:i[11]},{name:i[13]},{placeholder:i[14]},{readonly:i[15]},{valid:i[17]}];function a(d){i[170](d)}function f(d){i[171](d)}function u(d){i[172](d)}function c(d){i[173](d)}let h={};for(let d=0;d<o.length;d+=1)h=G(h,o[d]);return i[2]!==void 0&&(h.checked=i[2]),i[5]!==void 0&&(h.inner=i[5]),i[4]!==void 0&&(h.group=i[4]),i[6]!==void 0&&(h.value=i[6]),e=new Gk({props:h}),ue.push(()=>He(e,"checked",a)),ue.push(()=>He(e,"inner",f)),ue.push(()=>He(e,"group",u)),ue.push(()=>He(e,"value",c)),e.$on("blur",i[174]),e.$on("change",i[175]),e.$on("focus",i[176]),e.$on("input",i[177]),e.$on("keydown",i[178]),e.$on("keypress",i[179]),e.$on("keyup",i[180]),{c(){N(e.$$.fragment)},l(d){Q(e.$$.fragment,d)},m(d,m){L(e,d,m),r=!0},p(d,m){const p=m[0]&2354561?pe(o,[m[0]&2097152&&qm(d[21]),m[0]&128&&{class:d[7]},m[0]&1&&{size:d[0]},m[0]&65536&&{type:d[16]},m[0]&256&&{disabled:d[8]},m[0]&1024&&{invalid:d[10]},m[0]&2048&&{label:d[11]},m[0]&8192&&{name:d[13]},m[0]&16384&&{placeholder:d[14]},m[0]&32768&&{readonly:d[15]},m[0]&131072&&{valid:d[17]}]):{};!t&&m[0]&4&&(t=!0,p.checked=d[2],Ue(()=>t=!1)),!n&&m[0]&32&&(n=!0,p.inner=d[5],Ue(()=>n=!1)),!s&&m[0]&16&&(s=!0,p.group=d[4],Ue(()=>s=!1)),!l&&m[0]&64&&(l=!0,p.value=d[6],Ue(()=>l=!1)),e.$set(p)},i(d){r||(_(e.$$.fragment,d),r=!0)},o(d){k(e.$$.fragment,d),r=!1},d(d){B(e,d)}}}function Oy(i){let e,t,n,s=[i[21],{class:i[18]},{type:"file"},{disabled:i[8]},{invalid:i[10]},{multiple:i[12]},{name:i[13]},{placeholder:i[14]},{readOnly:i[15]},{valid:i[17]}],l={};for(let r=0;r<s.length;r+=1)l=G(l,s[r]);return{c(){e=M("input"),this.h()},l(r){e=I(r,"INPUT",{class:!0,type:!0,invalid:!0,name:!0,placeholder:!0,valid:!0}),this.h()},h(){Y(e,l)},m(r,o){w(r,e,o),e.autofocus&&e.focus(),i[169](e),t||(n=[E(e,"blur",i[53]),E(e,"change",i[54]),E(e,"focus",i[55]),E(e,"input",i[56]),E(e,"keydown",i[57]),E(e,"keypress",i[58]),E(e,"keyup",i[59]),E(e,"change",i[168])],t=!0)},p(r,o){Y(e,l=pe(s,[o[0]&2097152&&r[21],o[0]&262144&&{class:r[18]},{type:"file"},o[0]&256&&{disabled:r[8]},o[0]&1024&&{invalid:r[10]},o[0]&4096&&{multiple:r[12]},o[0]&8192&&{name:r[13]},o[0]&16384&&{placeholder:r[14]},o[0]&32768&&{readOnly:r[15]},o[0]&131072&&{valid:r[17]}]))},i:ie,o:ie,d(r){r&&g(e),i[169](null),t=!1,Ge(n)}}}function Sy(i){let e,t,n,s=[i[21],{class:i[18]},{type:"email"},{disabled:i[8]},{multiple:i[12]},{name:i[13]},{placeholder:i[14]},{readOnly:i[15]},{size:i[1]}],l={};for(let r=0;r<s.length;r+=1)l=G(l,s[r]);return{c(){e=M("input"),this.h()},l(r){e=I(r,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0,size:!0}),this.h()},h(){Y(e,l)},m(r,o){w(r,e,o),e.autofocus&&e.focus(),je(e,i[6]),i[167](e),t||(n=[E(e,"blur",i[46]),E(e,"change",i[47]),E(e,"focus",i[48]),E(e,"input",i[49]),E(e,"keydown",i[50]),E(e,"keypress",i[51]),E(e,"keyup",i[52]),E(e,"input",i[166])],t=!0)},p(r,o){Y(e,l=pe(s,[o[0]&2097152&&r[21],o[0]&262144&&{class:r[18]},{type:"email"},o[0]&256&&{disabled:r[8]},o[0]&4096&&{multiple:r[12]},o[0]&8192&&{name:r[13]},o[0]&16384&&{placeholder:r[14]},o[0]&32768&&{readOnly:r[15]},o[0]&2&&{size:r[1]}])),o[0]&64&&e.value!==r[6]&&je(e,r[6])},i:ie,o:ie,d(r){r&&g(e),i[167](null),t=!1,Ge(n)}}}function Cy(i){let e,t,n,s=[i[21],{class:i[18]},{type:"color"},{disabled:i[8]},{name:i[13]},{placeholder:i[14]},{readOnly:i[15]}],l={};for(let r=0;r<s.length;r+=1)l=G(l,s[r]);return{c(){e=M("input"),this.h()},l(r){e=I(r,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0}),this.h()},h(){Y(e,l)},m(r,o){w(r,e,o),e.autofocus&&e.focus(),je(e,i[6]),i[165](e),t||(n=[E(e,"blur",i[39]),E(e,"change",i[40]),E(e,"focus",i[41]),E(e,"input",i[42]),E(e,"keydown",i[43]),E(e,"keypress",i[44]),E(e,"keyup",i[45]),E(e,"input",i[164])],t=!0)},p(r,o){Y(e,l=pe(s,[o[0]&2097152&&r[21],o[0]&262144&&{class:r[18]},{type:"color"},o[0]&256&&{disabled:r[8]},o[0]&8192&&{name:r[13]},o[0]&16384&&{placeholder:r[14]},o[0]&32768&&{readOnly:r[15]}])),o[0]&64&&je(e,r[6])},i:ie,o:ie,d(r){r&&g(e),i[165](null),t=!1,Ge(n)}}}function Ay(i){let e,t,n,s=[i[21],{class:i[18]},{type:"password"},{disabled:i[8]},{name:i[13]},{placeholder:i[14]},{readOnly:i[15]},{size:i[1]}],l={};for(let r=0;r<s.length;r+=1)l=G(l,s[r]);return{c(){e=M("input"),this.h()},l(r){e=I(r,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0,size:!0}),this.h()},h(){Y(e,l)},m(r,o){w(r,e,o),e.autofocus&&e.focus(),je(e,i[6]),i[163](e),t||(n=[E(e,"blur",i[32]),E(e,"change",i[33]),E(e,"focus",i[34]),E(e,"input",i[35]),E(e,"keydown",i[36]),E(e,"keypress",i[37]),E(e,"keyup",i[38]),E(e,"input",i[162])],t=!0)},p(r,o){Y(e,l=pe(s,[o[0]&2097152&&r[21],o[0]&262144&&{class:r[18]},{type:"password"},o[0]&256&&{disabled:r[8]},o[0]&8192&&{name:r[13]},o[0]&16384&&{placeholder:r[14]},o[0]&32768&&{readOnly:r[15]},o[0]&2&&{size:r[1]}])),o[0]&64&&e.value!==r[6]&&je(e,r[6])},i:ie,o:ie,d(r){r&&g(e),i[163](null),t=!1,Ge(n)}}}function Ey(i){let e,t,n,s=[i[21],{class:i[18]},{type:"text"},{disabled:i[8]},{name:i[13]},{placeholder:i[14]},{readOnly:i[15]},{size:i[1]}],l={};for(let r=0;r<s.length;r+=1)l=G(l,s[r]);return{c(){e=M("input"),this.h()},l(r){e=I(r,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0,size:!0}),this.h()},h(){Y(e,l)},m(r,o){w(r,e,o),e.autofocus&&e.focus(),je(e,i[6]),i[161](e),t||(n=[E(e,"blur",i[25]),E(e,"change",i[26]),E(e,"focus",i[27]),E(e,"input",i[28]),E(e,"keydown",i[29]),E(e,"keypress",i[30]),E(e,"keyup",i[31]),E(e,"input",i[160])],t=!0)},p(r,o){Y(e,l=pe(s,[o[0]&2097152&&r[21],o[0]&262144&&{class:r[18]},{type:"text"},o[0]&256&&{disabled:r[8]},o[0]&8192&&{name:r[13]},o[0]&16384&&{placeholder:r[14]},o[0]&32768&&{readOnly:r[15]},o[0]&2&&{size:r[1]}])),o[0]&64&&e.value!==r[6]&&je(e,r[6])},i:ie,o:ie,d(r){r&&g(e),i[161](null),t=!1,Ge(n)}}}function Qc(i){let e,t,n,s,l;const r=[Ty,Dy],o=[];function a(f,u){return u[0]&512&&(e=null),e==null&&(e=!!Array.isArray(f[9])),e?0:1}return t=a(i,[-1,-1,-1,-1,-1,-1,-1]),n=o[t]=r[t](i),{c(){n.c(),s=re()},l(f){n.l(f),s=re()},m(f,u){o[t].m(f,u),w(f,s,u),l=!0},p(f,u){let c=t;t=a(f,u),t===c?o[t].p(f,u):(ge(),k(o[c],1,1,()=>{o[c]=null}),be(),n=o[t],n?n.p(f,u):(n=o[t]=r[t](f),n.c()),_(n,1),n.m(s.parentNode,s))},i(f){l||(_(n),l=!0)},o(f){k(n),l=!1},d(f){o[t].d(f),f&&g(s)}}}function Dy(i){let e,t;return e=new dp({props:{valid:i[17],$$slots:{default:[Py]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s[0]&131072&&(l.valid=n[17]),s[0]&512|s[6]&8388608&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Ty(i){let e,t,n=i[9],s=[];for(let r=0;r<n.length;r+=1)s[r]=zc(Bc(i,n,r));const l=r=>k(s[r],1,1,()=>{s[r]=null});return{c(){for(let r=0;r<s.length;r+=1)s[r].c();e=re()},l(r){for(let o=0;o<s.length;o+=1)s[o].l(r);e=re()},m(r,o){for(let a=0;a<s.length;a+=1)s[a].m(r,o);w(r,e,o),t=!0},p(r,o){if(o[0]&131584){n=r[9];let a;for(a=0;a<n.length;a+=1){const f=Bc(r,n,a);s[a]?(s[a].p(f,o),_(s[a],1)):(s[a]=zc(f),s[a].c(),_(s[a],1),s[a].m(e.parentNode,e))}for(ge(),a=n.length;a<s.length;a+=1)l(a);be()}},i(r){if(!t){for(let o=0;o<n.length;o+=1)_(s[o]);t=!0}},o(r){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)k(s[o]);t=!1},d(r){Yi(s,r),r&&g(e)}}}function Py(i){let e;return{c(){e=Z(i[9])},l(t){e=K(t,i[9])},m(t,n){w(t,e,n)},p(t,n){n[0]&512&&$e(e,t[9])},d(t){t&&g(e)}}}function My(i){let e=i[210]+"",t;return{c(){t=Z(e)},l(n){t=K(n,e)},m(n,s){w(n,t,s)},p(n,s){s[0]&512&&e!==(e=n[210]+"")&&$e(t,e)},d(n){n&&g(t)}}}function zc(i){let e,t;return e=new dp({props:{valid:i[17],$$slots:{default:[My]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s[0]&131072&&(l.valid=n[17]),s[0]&512|s[6]&8388608&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Iy(i){let e,t,n,s,l;const r=[ay,oy,ly],o=[];function a(u,c){return u[19]==="input"?0:u[19]==="textarea"?1:u[19]==="select"&&!u[12]?2:-1}~(e=a(i))&&(t=o[e]=r[e](i));let f=i[9]&&Qc(i);return{c(){t&&t.c(),n=U(),f&&f.c(),s=re()},l(u){t&&t.l(u),n=q(u),f&&f.l(u),s=re()},m(u,c){~e&&o[e].m(u,c),w(u,n,c),f&&f.m(u,c),w(u,s,c),l=!0},p(u,c){let h=e;e=a(u),e===h?~e&&o[e].p(u,c):(t&&(ge(),k(o[h],1,1,()=>{o[h]=null}),be()),~e?(t=o[e],t?t.p(u,c):(t=o[e]=r[e](u),t.c()),_(t,1),t.m(n.parentNode,n)):t=null),u[9]?f?(f.p(u,c),c[0]&512&&_(f,1)):(f=Qc(u),f.c(),_(f,1),f.m(s.parentNode,s)):f&&(ge(),k(f,1,1,()=>{f=null}),be())},i(u){l||(_(t),_(f),l=!0)},o(u){k(t),k(f),l=!1},d(u){~e&&o[e].d(u),u&&g(n),f&&f.d(u),u&&g(s)}}}function Ry(i,e,t){const n=["class","bsSize","checked","color","disabled","feedback","files","group","inner","invalid","label","multiple","name","placeholder","plaintext","readonly","size","type","valid","value"];let s=ae(e,n),{$$slots:l={},$$scope:r}=e,{class:o=""}=e,{bsSize:a=void 0}=e,{checked:f=!1}=e,{color:u=void 0}=e,{disabled:c=void 0}=e,{feedback:h=void 0}=e,{files:d=void 0}=e,{group:m=void 0}=e,{inner:p=void 0}=e,{invalid:b=!1}=e,{label:y=void 0}=e,{multiple:O=void 0}=e,{name:C=""}=e,{placeholder:D=""}=e,{plaintext:A=!1}=e,{readonly:P=void 0}=e,{size:S=void 0}=e,{type:H="text"}=e,{valid:X=!1}=e,{value:$=""}=e,ne,j;const R=v=>{t(6,$=v.target.value)};function te(v){W.call(this,i,v)}function Se(v){W.call(this,i,v)}function Ce(v){W.call(this,i,v)}function ee(v){W.call(this,i,v)}function Ie(v){W.call(this,i,v)}function Ne(v){W.call(this,i,v)}function De(v){W.call(this,i,v)}function Je(v){W.call(this,i,v)}function We(v){W.call(this,i,v)}function Ze(v){W.call(this,i,v)}function Ye(v){W.call(this,i,v)}function et(v){W.call(this,i,v)}function st(v){W.call(this,i,v)}function se(v){W.call(this,i,v)}function rt(v){W.call(this,i,v)}function ht(v){W.call(this,i,v)}function Wt(v){W.call(this,i,v)}function ve(v){W.call(this,i,v)}function Oe(v){W.call(this,i,v)}function pt(v){W.call(this,i,v)}function dt(v){W.call(this,i,v)}function fe(v){W.call(this,i,v)}function ft(v){W.call(this,i,v)}function _e(v){W.call(this,i,v)}function Be(v){W.call(this,i,v)}function St(v){W.call(this,i,v)}function Ct(v){W.call(this,i,v)}function Jt(v){W.call(this,i,v)}function nt(v){W.call(this,i,v)}function Lt(v){W.call(this,i,v)}function Gt(v){W.call(this,i,v)}function en(v){W.call(this,i,v)}function lt(v){W.call(this,i,v)}function vt(v){W.call(this,i,v)}function jt(v){W.call(this,i,v)}function gt(v){W.call(this,i,v)}function bt(v){W.call(this,i,v)}function si(v){W.call(this,i,v)}function un(v){W.call(this,i,v)}function x(v){W.call(this,i,v)}function ze(v){W.call(this,i,v)}function Ts(v){W.call(this,i,v)}function wi(v){W.call(this,i,v)}function Oi(v){W.call(this,i,v)}function Ps(v){W.call(this,i,v)}function Ms(v){W.call(this,i,v)}function Si(v){W.call(this,i,v)}function Is(v){W.call(this,i,v)}function ri(v){W.call(this,i,v)}function li(v){W.call(this,i,v)}function Ci(v){W.call(this,i,v)}function is(v){W.call(this,i,v)}function oi(v){W.call(this,i,v)}function ai(v){W.call(this,i,v)}function ss(v){W.call(this,i,v)}function fi(v){W.call(this,i,v)}function Rs(v){W.call(this,i,v)}function Ns(v){W.call(this,i,v)}function Ls(v){W.call(this,i,v)}function rs(v){W.call(this,i,v)}function ls(v){W.call(this,i,v)}function os(v){W.call(this,i,v)}function Ai(v){W.call(this,i,v)}function Bs(v){W.call(this,i,v)}function sa(v){W.call(this,i,v)}function ra(v){W.call(this,i,v)}function la(v){W.call(this,i,v)}function ol(v){W.call(this,i,v)}function al(v){W.call(this,i,v)}function Qs(v){W.call(this,i,v)}function Ei(v){W.call(this,i,v)}function fl(v){W.call(this,i,v)}function ul(v){W.call(this,i,v)}function oa(v){W.call(this,i,v)}function cl(v){W.call(this,i,v)}function aa(v){W.call(this,i,v)}function fa(v){W.call(this,i,v)}function ua(v){W.call(this,i,v)}function ca(v){W.call(this,i,v)}function ha(v){W.call(this,i,v)}function da(v){W.call(this,i,v)}function T(v){W.call(this,i,v)}function Pe(v){W.call(this,i,v)}function Le(v){W.call(this,i,v)}function qe(v){W.call(this,i,v)}function Xt(v){W.call(this,i,v)}function as(v){W.call(this,i,v)}function Nn(v){W.call(this,i,v)}function Fn(v){W.call(this,i,v)}function Di(v){W.call(this,i,v)}function cn(v){W.call(this,i,v)}function Ti(v){W.call(this,i,v)}function hn(v){W.call(this,i,v)}function zs(v){W.call(this,i,v)}function ma(v){W.call(this,i,v)}function L0(v){W.call(this,i,v)}function B0(v){W.call(this,i,v)}function Q0(v){W.call(this,i,v)}function z0(v){W.call(this,i,v)}function V0(v){W.call(this,i,v)}function F0(v){W.call(this,i,v)}function W0(v){W.call(this,i,v)}function j0(v){W.call(this,i,v)}function H0(v){W.call(this,i,v)}function U0(v){W.call(this,i,v)}function q0(v){W.call(this,i,v)}function $0(v){W.call(this,i,v)}function G0(v){W.call(this,i,v)}function X0(v){W.call(this,i,v)}function Z0(v){W.call(this,i,v)}function K0(v){W.call(this,i,v)}function Y0(v){W.call(this,i,v)}function x0(v){W.call(this,i,v)}function J0(v){W.call(this,i,v)}function eb(v){W.call(this,i,v)}function tb(v){W.call(this,i,v)}function nb(v){W.call(this,i,v)}function ib(v){W.call(this,i,v)}function sb(v){W.call(this,i,v)}function rb(v){W.call(this,i,v)}function lb(v){W.call(this,i,v)}function ob(v){W.call(this,i,v)}function ab(v){W.call(this,i,v)}function fb(v){W.call(this,i,v)}function ub(v){W.call(this,i,v)}function cb(v){W.call(this,i,v)}function hb(v){W.call(this,i,v)}function db(v){W.call(this,i,v)}function mb(v){W.call(this,i,v)}function pb(v){W.call(this,i,v)}function gb(v){W.call(this,i,v)}function bb(v){W.call(this,i,v)}function _b(v){W.call(this,i,v)}function vb(v){W.call(this,i,v)}function kb(v){W.call(this,i,v)}function yb(){$=this.value,t(6,$)}function wb(v){ue[v?"unshift":"push"](()=>{p=v,t(5,p)})}function Ob(){$=this.value,t(6,$)}function Sb(v){ue[v?"unshift":"push"](()=>{p=v,t(5,p)})}function Cb(){$=this.value,t(6,$)}function Ab(v){ue[v?"unshift":"push"](()=>{p=v,t(5,p)})}function Eb(){$=this.value,t(6,$)}function Db(v){ue[v?"unshift":"push"](()=>{p=v,t(5,p)})}function Tb(){d=this.files,$=this.value,t(3,d),t(6,$)}function Pb(v){ue[v?"unshift":"push"](()=>{p=v,t(5,p)})}function Mb(v){f=v,t(2,f)}function Ib(v){p=v,t(5,p)}function Rb(v){m=v,t(4,m)}function Nb(v){$=v,t(6,$)}function Lb(v){W.call(this,i,v)}function Bb(v){W.call(this,i,v)}function Qb(v){W.call(this,i,v)}function zb(v){W.call(this,i,v)}function Vb(v){W.call(this,i,v)}function Fb(v){W.call(this,i,v)}function Wb(v){W.call(this,i,v)}function jb(){$=this.value,t(6,$)}function Hb(v){ue[v?"unshift":"push"](()=>{p=v,t(5,p)})}function Ub(){$=Xa(this.value),t(6,$)}function qb(v){ue[v?"unshift":"push"](()=>{p=v,t(5,p)})}function $b(){$=this.value,t(6,$)}function Gb(v){ue[v?"unshift":"push"](()=>{p=v,t(5,p)})}function Xb(){$=this.value,t(6,$)}function Zb(v){ue[v?"unshift":"push"](()=>{p=v,t(5,p)})}function Kb(){$=this.value,t(6,$)}function Yb(v){ue[v?"unshift":"push"](()=>{p=v,t(5,p)})}function xb(){$=this.value,t(6,$)}function Jb(v){ue[v?"unshift":"push"](()=>{p=v,t(5,p)})}function e_(){$=this.value,t(6,$)}function t_(v){ue[v?"unshift":"push"](()=>{p=v,t(5,p)})}function n_(){$=this.value,t(6,$)}function i_(v){ue[v?"unshift":"push"](()=>{p=v,t(5,p)})}function s_(){$=Xa(this.value),t(6,$)}function r_(v){ue[v?"unshift":"push"](()=>{p=v,t(5,p)})}function l_(){$=this.value,t(6,$)}function o_(v){ue[v?"unshift":"push"](()=>{p=v,t(5,p)})}function a_(){$=this.value,t(6,$)}function f_(v){ue[v?"unshift":"push"](()=>{p=v,t(5,p)})}function u_(){$=this.value,t(6,$)}function c_(v){ue[v?"unshift":"push"](()=>{p=v,t(5,p)})}function h_(){$=this.value,t(6,$)}function d_(v){ue[v?"unshift":"push"](()=>{p=v,t(5,p)})}function m_(){$=k_(this),t(6,$)}function p_(v){ue[v?"unshift":"push"](()=>{p=v,t(5,p)})}return i.$$set=v=>{e=G(G({},e),Ve(v)),t(21,s=ae(e,n)),"class"in v&&t(7,o=v.class),"bsSize"in v&&t(0,a=v.bsSize),"checked"in v&&t(2,f=v.checked),"color"in v&&t(22,u=v.color),"disabled"in v&&t(8,c=v.disabled),"feedback"in v&&t(9,h=v.feedback),"files"in v&&t(3,d=v.files),"group"in v&&t(4,m=v.group),"inner"in v&&t(5,p=v.inner),"invalid"in v&&t(10,b=v.invalid),"label"in v&&t(11,y=v.label),"multiple"in v&&t(12,O=v.multiple),"name"in v&&t(13,C=v.name),"placeholder"in v&&t(14,D=v.placeholder),"plaintext"in v&&t(23,A=v.plaintext),"readonly"in v&&t(15,P=v.readonly),"size"in v&&t(1,S=v.size),"type"in v&&t(16,H=v.type),"valid"in v&&t(17,X=v.valid),"value"in v&&t(6,$=v.value),"$$scope"in v&&t(209,r=v.$$scope)},i.$$.update=()=>{if(i.$$.dirty[0]&12780675){const v=new RegExp("\\D","g");let pa=!1,ui="form-control";switch(t(19,j="input"),H){case"color":ui="form-control form-control-color";break;case"range":ui="form-range";break;case"select":ui="form-select",t(19,j="select");break;case"textarea":t(19,j="textarea");break;case"button":case"reset":case"submit":ui=`btn btn-${u||"secondary"}`,pa=!0;break;case"hidden":case"image":ui=void 0;break;default:ui="form-control",t(19,j="input")}A&&(ui=`${ui}-plaintext`,t(19,j="input")),S&&v.test(S)&&(console.warn(`Please use the prop "bsSize" instead of the "size" to bootstrap's input sizing.`),t(0,a=S),t(1,S=void 0)),t(18,ne=Re(o,ui,{"is-invalid":b,"is-valid":X,[`form-control-${a}`]:a&&!pa,[`btn-${a}`]:a&&pa}))}},[a,S,f,d,m,p,$,o,c,h,b,y,O,C,D,P,H,X,ne,j,R,s,u,A,l,te,Se,Ce,ee,Ie,Ne,De,Je,We,Ze,Ye,et,st,se,rt,ht,Wt,ve,Oe,pt,dt,fe,ft,_e,Be,St,Ct,Jt,nt,Lt,Gt,en,lt,vt,jt,gt,bt,si,un,x,ze,Ts,wi,Oi,Ps,Ms,Si,Is,ri,li,Ci,is,oi,ai,ss,fi,Rs,Ns,Ls,rs,ls,os,Ai,Bs,sa,ra,la,ol,al,Qs,Ei,fl,ul,oa,cl,aa,fa,ua,ca,ha,da,T,Pe,Le,qe,Xt,as,Nn,Fn,Di,cn,Ti,hn,zs,ma,L0,B0,Q0,z0,V0,F0,W0,j0,H0,U0,q0,$0,G0,X0,Z0,K0,Y0,x0,J0,eb,tb,nb,ib,sb,rb,lb,ob,ab,fb,ub,cb,hb,db,mb,pb,gb,bb,_b,vb,kb,yb,wb,Ob,Sb,Cb,Ab,Eb,Db,Tb,Pb,Mb,Ib,Rb,Nb,Lb,Bb,Qb,zb,Vb,Fb,Wb,jb,Hb,Ub,qb,$b,Gb,Xb,Zb,Kb,Yb,xb,Jb,e_,t_,n_,i_,s_,r_,l_,o_,a_,f_,u_,c_,h_,d_,m_,p_,r]}class Ot extends ke{constructor(e){super();ye(this,e,Ry,Iy,we,{class:7,bsSize:0,checked:2,color:22,disabled:8,feedback:9,files:3,group:4,inner:5,invalid:10,label:11,multiple:12,name:13,placeholder:14,plaintext:23,readonly:15,size:1,type:16,valid:17,value:6},null,[-1,-1,-1,-1,-1,-1,-1])}}function Ny(i){let e,t;const n=i[5].default,s=ce(n,i,i[4],null);let l=[i[1],{class:i[0]}],r={};for(let o=0;o<l.length;o+=1)r=G(r,l[o]);return{c(){e=M("div"),s&&s.c(),this.h()},l(o){e=I(o,"DIV",{class:!0});var a=V(e);s&&s.l(a),a.forEach(g),this.h()},h(){Y(e,r)},m(o,a){w(o,e,a),s&&s.m(e,null),t=!0},p(o,[a]){s&&s.p&&(!t||a&16)&&he(s,n,o,o[4],t?me(n,o[4],a,null):de(o[4]),null),Y(e,r=pe(l,[a&2&&o[1],(!t||a&1)&&{class:o[0]}]))},i(o){t||(_(s,o),t=!0)},o(o){k(s,o),t=!1},d(o){o&&g(e),s&&s.d(o)}}}function Ly(i,e,t){let n;const s=["class","size"];let l=ae(e,s),{$$slots:r={},$$scope:o}=e,{class:a=""}=e,{size:f=""}=e;return i.$$set=u=>{e=G(G({},e),Ve(u)),t(1,l=ae(e,s)),"class"in u&&t(2,a=u.class),"size"in u&&t(3,f=u.size),"$$scope"in u&&t(4,o=u.$$scope)},i.$$.update=()=>{i.$$.dirty&12&&t(0,n=Re(a,"input-group",f?`input-group-${f}`:null))},[n,l,a,f,o,r]}class Ji extends ke{constructor(e){super();ye(this,e,Ly,Ny,we,{class:2,size:3})}}function By(i){let e,t;const n=i[4].default,s=ce(n,i,i[3],null);let l=[i[1],{class:i[0]}],r={};for(let o=0;o<l.length;o+=1)r=G(r,l[o]);return{c(){e=M("span"),s&&s.c(),this.h()},l(o){e=I(o,"SPAN",{class:!0});var a=V(e);s&&s.l(a),a.forEach(g),this.h()},h(){Y(e,r)},m(o,a){w(o,e,a),s&&s.m(e,null),t=!0},p(o,[a]){s&&s.p&&(!t||a&8)&&he(s,n,o,o[3],t?me(n,o[3],a,null):de(o[3]),null),Y(e,r=pe(l,[a&2&&o[1],(!t||a&1)&&{class:o[0]}]))},i(o){t||(_(s,o),t=!0)},o(o){k(s,o),t=!1},d(o){o&&g(e),s&&s.d(o)}}}function Qy(i,e,t){let n;const s=["class"];let l=ae(e,s),{$$slots:r={},$$scope:o}=e,{class:a=""}=e;return i.$$set=f=>{e=G(G({},e),Ve(f)),t(1,l=ae(e,s)),"class"in f&&t(2,a=f.class),"$$scope"in f&&t(3,o=f.$$scope)},i.$$.update=()=>{i.$$.dirty&4&&t(0,n=Re(a,"input-group-text"))},[n,l,a,o,r]}class yn extends ke{constructor(e){super();ye(this,e,Qy,By,we,{class:2})}}function zy(i){let e,t;const n=i[15].default,s=ce(n,i,i[14],null);let l=[i[2],{class:i[1]},{for:i[0]}],r={};for(let o=0;o<l.length;o+=1)r=G(r,l[o]);return{c(){e=M("label"),s&&s.c(),this.h()},l(o){e=I(o,"LABEL",{class:!0,for:!0});var a=V(e);s&&s.l(a),a.forEach(g),this.h()},h(){Y(e,r)},m(o,a){w(o,e,a),s&&s.m(e,null),t=!0},p(o,[a]){s&&s.p&&(!t||a&16384)&&he(s,n,o,o[14],t?me(n,o[14],a,null):de(o[14]),null),Y(e,r=pe(l,[a&4&&o[2],(!t||a&2)&&{class:o[1]},(!t||a&1)&&{for:o[0]}]))},i(o){t||(_(s,o),t=!0)},o(o){k(s,o),t=!1},d(o){o&&g(e),s&&s.d(o)}}}function Vy(i,e,t){let n;const s=["class","hidden","check","size","for","xs","sm","md","lg","xl","xxl","widths"];let l=ae(e,s),{$$slots:r={},$$scope:o}=e,{class:a=""}=e,{hidden:f=!1}=e,{check:u=!1}=e,{size:c=""}=e,{for:h=null}=e,{xs:d=""}=e,{sm:m=""}=e,{md:p=""}=e,{lg:b=""}=e,{xl:y=""}=e,{xxl:O=""}=e;const C={xs:d,sm:m,md:p,lg:b,xl:y,xxl:O};let{widths:D=Object.keys(C)}=e;const A=[];return D.forEach(P=>{let S=e[P];if(!S&&S!=="")return;const H=P==="xs";let X;if(L_(S)){const $=H?"-":`-${P}-`;X=dc(H,P,S.size),A.push(Re({[X]:S.size||S.size==="",[`order${$}${S.order}`]:S.order||S.order===0,[`offset${$}${S.offset}`]:S.offset||S.offset===0}))}else X=dc(H,P,S),A.push(X)}),i.$$set=P=>{t(18,e=G(G({},e),Ve(P))),t(2,l=ae(e,s)),"class"in P&&t(3,a=P.class),"hidden"in P&&t(4,f=P.hidden),"check"in P&&t(5,u=P.check),"size"in P&&t(6,c=P.size),"for"in P&&t(0,h=P.for),"xs"in P&&t(7,d=P.xs),"sm"in P&&t(8,m=P.sm),"md"in P&&t(9,p=P.md),"lg"in P&&t(10,b=P.lg),"xl"in P&&t(11,y=P.xl),"xxl"in P&&t(12,O=P.xxl),"widths"in P&&t(13,D=P.widths),"$$scope"in P&&t(14,o=P.$$scope)},i.$$.update=()=>{i.$$.dirty&120&&t(1,n=Re(a,f?"visually-hidden":!1,u?"form-check-label":!1,c?`col-form-label-${c}`:!1,A,A.length?"col-form-label":"form-label"))},e=Ve(e),[h,n,l,a,f,u,c,d,m,p,b,y,O,D,o,r]}class Rn extends ke{constructor(e){super();ye(this,e,Vy,zy,we,{class:3,hidden:4,check:5,size:6,for:0,xs:7,sm:8,md:9,lg:10,xl:11,xxl:12,widths:13})}}function Fy(i){let e,t;const n=i[6].default,s=ce(n,i,i[5],null);let l=[i[2],{class:i[1]}],r={};for(let o=0;o<l.length;o+=1)r=G(r,l[o]);return{c(){e=M("ul"),s&&s.c(),this.h()},l(o){e=I(o,"UL",{class:!0});var a=V(e);s&&s.l(a),a.forEach(g),this.h()},h(){Y(e,r)},m(o,a){w(o,e,a),s&&s.m(e,null),t=!0},p(o,a){s&&s.p&&(!t||a&32)&&he(s,n,o,o[5],t?me(n,o[5],a,null):de(o[5]),null),Y(e,r=pe(l,[a&4&&o[2],(!t||a&2)&&{class:o[1]}]))},i(o){t||(_(s,o),t=!0)},o(o){k(s,o),t=!1},d(o){o&&g(e),s&&s.d(o)}}}function Wy(i){let e,t;const n=i[6].default,s=ce(n,i,i[5],null);let l=[i[2],{class:i[1]}],r={};for(let o=0;o<l.length;o+=1)r=G(r,l[o]);return{c(){e=M("ol"),s&&s.c(),this.h()},l(o){e=I(o,"OL",{class:!0});var a=V(e);s&&s.l(a),a.forEach(g),this.h()},h(){Y(e,r)},m(o,a){w(o,e,a),s&&s.m(e,null),t=!0},p(o,a){s&&s.p&&(!t||a&32)&&he(s,n,o,o[5],t?me(n,o[5],a,null):de(o[5]),null),Y(e,r=pe(l,[a&4&&o[2],(!t||a&2)&&{class:o[1]}]))},i(o){t||(_(s,o),t=!0)},o(o){k(s,o),t=!1},d(o){o&&g(e),s&&s.d(o)}}}function jy(i){let e,t,n,s;const l=[Wy,Fy],r=[];function o(a,f){return a[0]?0:1}return e=o(i),t=r[e]=l[e](i),{c(){t.c(),n=re()},l(a){t.l(a),n=re()},m(a,f){r[e].m(a,f),w(a,n,f),s=!0},p(a,[f]){let u=e;e=o(a),e===u?r[e].p(a,f):(ge(),k(r[u],1,1,()=>{r[u]=null}),be(),t=r[e],t?t.p(a,f):(t=r[e]=l[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){s||(_(t),s=!0)},o(a){k(t),s=!1},d(a){r[e].d(a),a&&g(n)}}}function Hy(i,e,t){let n;const s=["class","flush","numbered"];let l=ae(e,s),{$$slots:r={},$$scope:o}=e,{class:a=""}=e,{flush:f=!1}=e,{numbered:u=!1}=e;return i.$$set=c=>{e=G(G({},e),Ve(c)),t(2,l=ae(e,s)),"class"in c&&t(3,a=c.class),"flush"in c&&t(4,f=c.flush),"numbered"in c&&t(0,u=c.numbered),"$$scope"in c&&t(5,o=c.$$scope)},i.$$.update=()=>{i.$$.dirty&25&&t(1,n=Re(a,"list-group",{"list-group-flush":f,"list-group-numbered":u}))},[u,n,l,a,f,o,r]}class Uy extends ke{constructor(e){super();ye(this,e,Hy,jy,we,{class:3,flush:4,numbered:0})}}function qy(i){let e,t,n,s;const l=i[10].default,r=ce(l,i,i[9],null);let o=[i[5],{class:i[4]},{disabled:i[1]},{active:i[0]}],a={};for(let f=0;f<o.length;f+=1)a=G(a,o[f]);return{c(){e=M("li"),r&&r.c(),this.h()},l(f){e=I(f,"LI",{class:!0,disabled:!0,active:!0});var u=V(e);r&&r.l(u),u.forEach(g),this.h()},h(){Y(e,a)},m(f,u){w(f,e,u),r&&r.m(e,null),t=!0,n||(s=E(e,"click",i[13]),n=!0)},p(f,u){r&&r.p&&(!t||u&512)&&he(r,l,f,f[9],t?me(l,f[9],u,null):de(f[9]),null),Y(e,a=pe(o,[u&32&&f[5],(!t||u&16)&&{class:f[4]},(!t||u&2)&&{disabled:f[1]},(!t||u&1)&&{active:f[0]}]))},i(f){t||(_(r,f),t=!0)},o(f){k(r,f),t=!1},d(f){f&&g(e),r&&r.d(f),n=!1,s()}}}function $y(i){let e,t,n,s;const l=i[10].default,r=ce(l,i,i[9],null);let o=[i[5],{class:i[4]},{type:"button"},{disabled:i[1]},{active:i[0]}],a={};for(let f=0;f<o.length;f+=1)a=G(a,o[f]);return{c(){e=M("button"),r&&r.c(),this.h()},l(f){e=I(f,"BUTTON",{class:!0,type:!0,active:!0});var u=V(e);r&&r.l(u),u.forEach(g),this.h()},h(){Y(e,a)},m(f,u){w(f,e,u),r&&r.m(e,null),e.autofocus&&e.focus(),t=!0,n||(s=E(e,"click",i[12]),n=!0)},p(f,u){r&&r.p&&(!t||u&512)&&he(r,l,f,f[9],t?me(l,f[9],u,null):de(f[9]),null),Y(e,a=pe(o,[u&32&&f[5],(!t||u&16)&&{class:f[4]},{type:"button"},(!t||u&2)&&{disabled:f[1]},(!t||u&1)&&{active:f[0]}]))},i(f){t||(_(r,f),t=!0)},o(f){k(r,f),t=!1},d(f){f&&g(e),r&&r.d(f),n=!1,s()}}}function Gy(i){let e,t,n,s;const l=i[10].default,r=ce(l,i,i[9],null);let o=[i[5],{class:i[4]},{href:i[2]},{disabled:i[1]},{active:i[0]}],a={};for(let f=0;f<o.length;f+=1)a=G(a,o[f]);return{c(){e=M("a"),r&&r.c(),this.h()},l(f){e=I(f,"A",{class:!0,href:!0,disabled:!0,active:!0});var u=V(e);r&&r.l(u),u.forEach(g),this.h()},h(){Y(e,a)},m(f,u){w(f,e,u),r&&r.m(e,null),t=!0,n||(s=E(e,"click",i[11]),n=!0)},p(f,u){r&&r.p&&(!t||u&512)&&he(r,l,f,f[9],t?me(l,f[9],u,null):de(f[9]),null),Y(e,a=pe(o,[u&32&&f[5],(!t||u&16)&&{class:f[4]},(!t||u&4)&&{href:f[2]},(!t||u&2)&&{disabled:f[1]},(!t||u&1)&&{active:f[0]}]))},i(f){t||(_(r,f),t=!0)},o(f){k(r,f),t=!1},d(f){f&&g(e),r&&r.d(f),n=!1,s()}}}function Xy(i){let e,t,n,s;const l=[Gy,$y,qy],r=[];function o(a,f){return a[2]?0:a[3]==="button"?1:2}return e=o(i),t=r[e]=l[e](i),{c(){t.c(),n=re()},l(a){t.l(a),n=re()},m(a,f){r[e].m(a,f),w(a,n,f),s=!0},p(a,[f]){let u=e;e=o(a),e===u?r[e].p(a,f):(ge(),k(r[u],1,1,()=>{r[u]=null}),be(),t=r[e],t?t.p(a,f):(t=r[e]=l[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){s||(_(t),s=!0)},o(a){k(t),s=!1},d(a){r[e].d(a),a&&g(n)}}}function Zy(i,e,t){let n;const s=["class","active","disabled","color","action","href","tag"];let l=ae(e,s),{$$slots:r={},$$scope:o}=e,{class:a=""}=e,{active:f=!1}=e,{disabled:u=!1}=e,{color:c=""}=e,{action:h=!1}=e,{href:d=null}=e,{tag:m=null}=e;function p(O){W.call(this,i,O)}function b(O){W.call(this,i,O)}function y(O){W.call(this,i,O)}return i.$$set=O=>{e=G(G({},e),Ve(O)),t(5,l=ae(e,s)),"class"in O&&t(6,a=O.class),"active"in O&&t(0,f=O.active),"disabled"in O&&t(1,u=O.disabled),"color"in O&&t(7,c=O.color),"action"in O&&t(8,h=O.action),"href"in O&&t(2,d=O.href),"tag"in O&&t(3,m=O.tag),"$$scope"in O&&t(9,o=O.$$scope)},i.$$.update=()=>{i.$$.dirty&459&&t(4,n=Re(a,"list-group-item",{active:f,disabled:u,"list-group-item-action":h||m==="button",[`list-group-item-${c}`]:c}))},[f,u,d,m,n,l,a,c,h,o,r,p,b,y]}class mp extends ke{constructor(e){super();ye(this,e,Zy,Xy,we,{class:6,active:0,disabled:1,color:7,action:8,href:2,tag:3})}}function Vc(i){let e,t,n,s,l,r,o=[i[4],{class:i[3]}],a={};for(let f=0;f<o.length;f+=1)a=G(a,o[f]);return{c(){e=M("div"),this.h()},l(f){e=I(f,"DIV",{class:!0}),V(e).forEach(g),this.h()},h(){Y(e,a),Bi(e,"fade",i[1])},m(f,u){w(f,e,u),s=!0,l||(r=E(e,"click",i[6]),l=!0)},p(f,u){Y(e,a=pe(o,[u&16&&f[4],(!s||u&8)&&{class:f[3]}])),Bi(e,"fade",f[1])},i(f){s||(Es(()=>{n&&n.end(1),t=eu(e,H_,{}),t.start()}),s=!0)},o(f){t&&t.invalidate(),n=tu(e,U_,{}),s=!1},d(f){f&&g(e),f&&n&&n.end(),l=!1,r()}}}function Ky(i){let e,t,n=i[0]&&i[2]&&Vc(i);return{c(){n&&n.c(),e=re()},l(s){n&&n.l(s),e=re()},m(s,l){n&&n.m(s,l),w(s,e,l),t=!0},p(s,[l]){s[0]&&s[2]?n?(n.p(s,l),l&5&&_(n,1)):(n=Vc(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ge(),k(n,1,1,()=>{n=null}),be())},i(s){t||(_(n),t=!0)},o(s){k(n),t=!1},d(s){n&&n.d(s),s&&g(e)}}}function Yy(i,e,t){let n;const s=["class","isOpen","fade"];let l=ae(e,s),{class:r=""}=e,{isOpen:o=!1}=e,{fade:a=!0}=e,f=!1;ti(()=>{t(2,f=!0)});function u(c){W.call(this,i,c)}return i.$$set=c=>{e=G(G({},e),Ve(c)),t(4,l=ae(e,s)),"class"in c&&t(5,r=c.class),"isOpen"in c&&t(0,o=c.isOpen),"fade"in c&&t(1,a=c.fade)},i.$$.update=()=>{i.$$.dirty&32&&t(3,n=Re(r,"modal-backdrop"))},[o,a,f,n,l,r,u]}class xy extends ke{constructor(e){super();ye(this,e,Yy,Ky,we,{class:5,isOpen:0,fade:1})}}function Jy(i){let e,t;const n=i[4].default,s=ce(n,i,i[3],null);let l=[i[1],{class:i[0]}],r={};for(let o=0;o<l.length;o+=1)r=G(r,l[o]);return{c(){e=M("div"),s&&s.c(),this.h()},l(o){e=I(o,"DIV",{class:!0});var a=V(e);s&&s.l(a),a.forEach(g),this.h()},h(){Y(e,r)},m(o,a){w(o,e,a),s&&s.m(e,null),t=!0},p(o,[a]){s&&s.p&&(!t||a&8)&&he(s,n,o,o[3],t?me(n,o[3],a,null):de(o[3]),null),Y(e,r=pe(l,[a&2&&o[1],(!t||a&1)&&{class:o[0]}]))},i(o){t||(_(s,o),t=!0)},o(o){k(s,o),t=!1},d(o){o&&g(e),s&&s.d(o)}}}function e2(i,e,t){let n;const s=["class"];let l=ae(e,s),{$$slots:r={},$$scope:o}=e,{class:a=""}=e;return i.$$set=f=>{e=G(G({},e),Ve(f)),t(1,l=ae(e,s)),"class"in f&&t(2,a=f.class),"$$scope"in f&&t(3,o=f.$$scope)},i.$$.update=()=>{i.$$.dirty&4&&t(0,n=Re(a,"modal-body"))},[n,l,a,o,r]}class Yr extends ke{constructor(e){super();ye(this,e,e2,Jy,we,{class:2})}}const t2=i=>({}),Fc=i=>({});function n2(i){let e;const t=i[8].default,n=ce(t,i,i[7],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&128)&&he(n,t,s,s[7],e?me(t,s[7],l,null):de(s[7]),null)},i(s){e||(_(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function i2(i){let e;return{c(){e=Z(i[2])},l(t){e=K(t,i[2])},m(t,n){w(t,e,n)},p(t,n){n&4&&$e(e,t[2])},i:ie,o:ie,d(t){t&&g(e)}}}function Wc(i){let e,t,n;return{c(){e=M("button"),this.h()},l(s){e=I(s,"BUTTON",{type:!0,class:!0,"aria-label":!0}),V(e).forEach(g),this.h()},h(){z(e,"type","button"),z(e,"class","btn-close"),z(e,"aria-label",i[1])},m(s,l){w(s,e,l),t||(n=E(e,"click",function(){Xn(i[0])&&i[0].apply(this,arguments)}),t=!0)},p(s,l){i=s,l&2&&z(e,"aria-label",i[1])},d(s){s&&g(e),t=!1,n()}}}function s2(i){let e,t=typeof i[0]=="function"&&Wc(i);return{c(){t&&t.c(),e=re()},l(n){t&&t.l(n),e=re()},m(n,s){t&&t.m(n,s),w(n,e,s)},p(n,s){typeof n[0]=="function"?t?t.p(n,s):(t=Wc(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&g(e)}}}function r2(i){let e,t,n,s,l,r;const o=[i2,n2],a=[];function f(p,b){return p[2]?0:1}n=f(i),s=a[n]=o[n](i);const u=i[8].close,c=ce(u,i,i[7],Fc),h=c||s2(i);let d=[i[5],{class:i[4]}],m={};for(let p=0;p<d.length;p+=1)m=G(m,d[p]);return{c(){e=M("div"),t=M("h5"),s.c(),l=U(),h&&h.c(),this.h()},l(p){e=I(p,"DIV",{class:!0});var b=V(e);t=I(b,"H5",{class:!0,id:!0});var y=V(t);s.l(y),y.forEach(g),l=q(b),h&&h.l(b),b.forEach(g),this.h()},h(){z(t,"class","modal-title"),z(t,"id",i[3]),Y(e,m)},m(p,b){w(p,e,b),F(e,t),a[n].m(t,null),F(e,l),h&&h.m(e,null),r=!0},p(p,[b]){let y=n;n=f(p),n===y?a[n].p(p,b):(ge(),k(a[y],1,1,()=>{a[y]=null}),be(),s=a[n],s?s.p(p,b):(s=a[n]=o[n](p),s.c()),_(s,1),s.m(t,null)),(!r||b&8)&&z(t,"id",p[3]),c?c.p&&(!r||b&128)&&he(c,u,p,p[7],r?me(u,p[7],b,t2):de(p[7]),Fc):h&&h.p&&(!r||b&3)&&h.p(p,r?b:-1),Y(e,m=pe(d,[b&32&&p[5],(!r||b&16)&&{class:p[4]}]))},i(p){r||(_(s),_(h,p),r=!0)},o(p){k(s),k(h,p),r=!1},d(p){p&&g(e),a[n].d(),h&&h.d(p)}}}function l2(i,e,t){let n;const s=["class","toggle","closeAriaLabel","children","id"];let l=ae(e,s),{$$slots:r={},$$scope:o}=e,{class:a=""}=e,{toggle:f=void 0}=e,{closeAriaLabel:u="Close"}=e,{children:c=void 0}=e,{id:h=void 0}=e;return i.$$set=d=>{e=G(G({},e),Ve(d)),t(5,l=ae(e,s)),"class"in d&&t(6,a=d.class),"toggle"in d&&t(0,f=d.toggle),"closeAriaLabel"in d&&t(1,u=d.closeAriaLabel),"children"in d&&t(2,c=d.children),"id"in d&&t(3,h=d.id),"$$scope"in d&&t(7,o=d.$$scope)},i.$$.update=()=>{i.$$.dirty&64&&t(4,n=Re(a,"modal-header"))},[f,u,c,h,n,l,a,o,r]}class Ro extends ke{constructor(e){super();ye(this,e,l2,r2,we,{class:6,toggle:0,closeAriaLabel:1,children:2,id:3})}}function o2(i){let e,t;const n=i[3].default,s=ce(n,i,i[2],null);let l=[i[1]],r={};for(let o=0;o<l.length;o+=1)r=G(r,l[o]);return{c(){e=M("div"),s&&s.c(),this.h()},l(o){e=I(o,"DIV",{});var a=V(e);s&&s.l(a),a.forEach(g),this.h()},h(){Y(e,r)},m(o,a){w(o,e,a),s&&s.m(e,null),i[4](e),t=!0},p(o,[a]){s&&s.p&&(!t||a&4)&&he(s,n,o,o[2],t?me(n,o[2],a,null):de(o[2]),null),Y(e,r=pe(l,[a&2&&o[1]]))},i(o){t||(_(s,o),t=!0)},o(o){k(s,o),t=!1},d(o){o&&g(e),s&&s.d(o),i[4](null)}}}function a2(i,e,t){const n=[];let s=ae(e,n),{$$slots:l={},$$scope:r}=e,o,a;ti(()=>{a=document.createElement("div"),document.body.appendChild(a),a.appendChild(o)}),Mo(()=>{typeof document!="undefined"&&document.body.removeChild(a)});function f(u){ue[u?"unshift":"push"](()=>{o=u,t(0,o)})}return i.$$set=u=>{e=G(G({},e),Ve(u)),t(1,s=ae(e,n)),"$$scope"in u&&t(2,r=u.$$scope)},[o,s,r,l,f]}class hu extends ke{constructor(e){super();ye(this,e,a2,o2,we,{})}}const f2=i=>({}),jc=i=>({});function Hc(i){let e,t,n;var s=i[13];function l(r){return{props:{$$slots:{default:[m2]},$$scope:{ctx:r}}}}return s&&(e=new s(l(i))),{c(){e&&N(e.$$.fragment),t=re()},l(r){e&&Q(e.$$.fragment,r),t=re()},m(r,o){e&&L(e,r,o),w(r,t,o),n=!0},p(r,o){const a={};if(o[0]&2119615|o[1]&8&&(a.$$scope={dirty:o,ctx:r}),s!==(s=r[13])){if(e){ge();const f=e;k(f.$$.fragment,1,0,()=>{B(f,1)}),be()}s?(e=new s(l(r)),N(e.$$.fragment),_(e.$$.fragment,1),L(e,t.parentNode,t)):e=null}else s&&e.$set(a)},i(r){n||(e&&_(e.$$.fragment,r),n=!0)},o(r){e&&k(e.$$.fragment,r),n=!1},d(r){r&&g(t),e&&B(e,r)}}}function Uc(i){let e,t,n,s,l,r,o,a,f,u,c,h,d,m;const p=i[31].external,b=ce(p,i,i[34],jc);let y=i[3]&&qc(i);const O=[h2,c2],C=[];function D(A,P){return A[2]?0:1}return r=D(i),o=C[r]=O[r](i),{c(){e=M("div"),b&&b.c(),t=U(),n=M("div"),s=M("div"),y&&y.c(),l=U(),o.c(),this.h()},l(A){e=I(A,"DIV",{"aria-labelledby":!0,class:!0,role:!0});var P=V(e);b&&b.l(P),t=q(P),n=I(P,"DIV",{class:!0,role:!0});var S=V(n);s=I(S,"DIV",{class:!0});var H=V(s);y&&y.l(H),l=q(H),o.l(H),H.forEach(g),S.forEach(g),P.forEach(g),this.h()},h(){z(s,"class",a=Re("modal-content",i[9])),z(n,"class",i[14]),z(n,"role","document"),z(e,"aria-labelledby",i[5]),z(e,"class",f=Re("modal",i[8],{fade:i[10],"position-static":i[0]})),z(e,"role","dialog")},m(A,P){w(A,e,P),b&&b.m(e,null),F(e,t),F(e,n),F(n,s),y&&y.m(s,null),F(s,l),C[r].m(s,null),i[32](n),h=!0,d||(m=[E(e,"introstart",i[33]),E(e,"introend",i[17]),E(e,"outrostart",i[18]),E(e,"outroend",i[19]),E(e,"click",i[16]),E(e,"mousedown",i[20])],d=!0)},p(A,P){b&&b.p&&(!h||P[1]&8)&&he(b,p,A,A[34],h?me(p,A[34],P,f2):de(A[34]),jc),A[3]?y?(y.p(A,P),P[0]&8&&_(y,1)):(y=qc(A),y.c(),_(y,1),y.m(s,l)):y&&(ge(),k(y,1,1,()=>{y=null}),be());let S=r;r=D(A),r===S?C[r].p(A,P):(ge(),k(C[S],1,1,()=>{C[S]=null}),be(),o=C[r],o?o.p(A,P):(o=C[r]=O[r](A),o.c()),_(o,1),o.m(s,null)),(!h||P[0]&512&&a!==(a=Re("modal-content",A[9])))&&z(s,"class",a),(!h||P[0]&16384)&&z(n,"class",A[14]),(!h||P[0]&32)&&z(e,"aria-labelledby",A[5]),(!h||P[0]&1281&&f!==(f=Re("modal",A[8],{fade:A[10],"position-static":A[0]})))&&z(e,"class",f)},i(A){h||(_(b,A),_(y),_(o),Es(()=>{c&&c.end(1),u=eu(e,G_,{}),u.start()}),h=!0)},o(A){k(b,A),k(y),k(o),u&&u.invalidate(),c=tu(e,X_,{}),h=!1},d(A){A&&g(e),b&&b.d(A),y&&y.d(),C[r].d(),i[32](null),A&&c&&c.end(),d=!1,Ge(m)}}}function qc(i){let e,t;return e=new Ro({props:{toggle:i[4],id:i[5],$$slots:{default:[u2]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s[0]&16&&(l.toggle=n[4]),s[0]&32&&(l.id=n[5]),s[0]&8|s[1]&8&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function u2(i){let e;return{c(){e=Z(i[3])},l(t){e=K(t,i[3])},m(t,n){w(t,e,n)},p(t,n){n[0]&8&&$e(e,t[3])},d(t){t&&g(e)}}}function c2(i){let e;const t=i[31].default,n=ce(t,i,i[34],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l[1]&8)&&he(n,t,s,s[34],e?me(t,s[34],l,null):de(s[34]),null)},i(s){e||(_(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function h2(i){let e,t;return e=new Yr({props:{$$slots:{default:[d2]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s[1]&8&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function d2(i){let e;const t=i[31].default,n=ce(t,i,i[34],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l[1]&8)&&he(n,t,s,s[34],e?me(t,s[34],l,null):de(s[34]),null)},i(s){e||(_(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function m2(i){let e,t,n=i[1]&&Uc(i),s=[{class:i[7]},{tabindex:"-1"},i[21]],l={};for(let r=0;r<s.length;r+=1)l=G(l,s[r]);return{c(){e=M("div"),n&&n.c(),this.h()},l(r){e=I(r,"DIV",{class:!0,tabindex:!0});var o=V(e);n&&n.l(o),o.forEach(g),this.h()},h(){Y(e,l)},m(r,o){w(r,e,o),n&&n.m(e,null),t=!0},p(r,o){r[1]?n?(n.p(r,o),o[0]&2&&_(n,1)):(n=Uc(r),n.c(),_(n,1),n.m(e,null)):n&&(ge(),k(n,1,1,()=>{n=null}),be()),Y(e,l=pe(s,[(!t||o[0]&128)&&{class:r[7]},{tabindex:"-1"},o[0]&2097152&&r[21]]))},i(r){t||(_(n),t=!0)},o(r){k(n),t=!1},d(r){r&&g(e),n&&n.d()}}}function $c(i){let e,t,n;var s=i[13];function l(r){return{props:{$$slots:{default:[p2]},$$scope:{ctx:r}}}}return s&&(e=new s(l(i))),{c(){e&&N(e.$$.fragment),t=re()},l(r){e&&Q(e.$$.fragment,r),t=re()},m(r,o){e&&L(e,r,o),w(r,t,o),n=!0},p(r,o){const a={};if(o[0]&1026|o[1]&8&&(a.$$scope={dirty:o,ctx:r}),s!==(s=r[13])){if(e){ge();const f=e;k(f.$$.fragment,1,0,()=>{B(f,1)}),be()}s?(e=new s(l(r)),N(e.$$.fragment),_(e.$$.fragment,1),L(e,t.parentNode,t)):e=null}else s&&e.$set(a)},i(r){n||(e&&_(e.$$.fragment,r),n=!0)},o(r){e&&k(e.$$.fragment,r),n=!1},d(r){r&&g(t),e&&B(e,r)}}}function p2(i){let e,t;return e=new xy({props:{fade:i[10],isOpen:i[1]}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s[0]&1024&&(l.fade=n[10]),s[0]&2&&(l.isOpen=n[1]),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function g2(i){let e,t,n,s=i[11]&&Hc(i),l=i[6]&&!i[0]&&$c(i);return{c(){s&&s.c(),e=U(),l&&l.c(),t=re()},l(r){s&&s.l(r),e=q(r),l&&l.l(r),t=re()},m(r,o){s&&s.m(r,o),w(r,e,o),l&&l.m(r,o),w(r,t,o),n=!0},p(r,o){r[11]?s?(s.p(r,o),o[0]&2048&&_(s,1)):(s=Hc(r),s.c(),_(s,1),s.m(e.parentNode,e)):s&&(ge(),k(s,1,1,()=>{s=null}),be()),r[6]&&!r[0]?l?(l.p(r,o),o[0]&65&&_(l,1)):(l=$c(r),l.c(),_(l,1),l.m(t.parentNode,t)):l&&(ge(),k(l,1,1,()=>{l=null}),be())},i(r){n||(_(s),_(l),n=!0)},o(r){k(s),k(l),n=!1},d(r){s&&s.d(r),r&&g(e),l&&l.d(r),r&&g(t)}}}let hr=0;const ga="modal-dialog";function b2(i,e,t){let n,s;const l=["class","static","isOpen","autoFocus","body","centered","container","fullscreen","header","scrollable","size","toggle","labelledBy","backdrop","wrapClassName","modalClassName","contentClassName","fade","unmountOnClose","returnFocusAfterClose"];let r=ae(e,l),{$$slots:o={},$$scope:a}=e;const f=Ki();let{class:u=""}=e,{static:c=!1}=e,{isOpen:h=!1}=e,{autoFocus:d=!0}=e,{body:m=!1}=e,{centered:p=!1}=e,{container:b=void 0}=e,{fullscreen:y=!1}=e,{header:O=void 0}=e,{scrollable:C=!1}=e,{size:D=""}=e,{toggle:A=void 0}=e,{labelledBy:P=O?`modal-${ep()}`:void 0}=e,{backdrop:S=!0}=e,{wrapClassName:H=""}=e,{modalClassName:X=""}=e,{contentClassName:$=""}=e,{fade:ne=!0}=e,{unmountOnClose:j=!0}=e,{returnFocusAfterClose:R=!0}=e,te=!1,Se=!1,Ce,ee,Ie=h,Ne=te,De,Je,We;ti(()=>{h&&(Ye(),te=!0),te&&d&&Ze()}),Mo(()=>{st(),te&&se()}),y_(()=>{h&&!Ie&&(Ye(),te=!0),d&&te&&!Ne&&Ze(),Ie=h,Ne=te});function Ze(){De&&De.parentNode&&typeof De.parentNode.focus=="function"&&De.parentNode.focus()}function Ye(){try{Ce=document.activeElement}catch{Ce=null}c||(ee=I_(),B_(),hr===0&&(document.body.className=Re(document.body.className,"modal-open")),++hr),t(11,Se=!0)}function et(){Ce&&(typeof Ce.focus=="function"&&R&&Ce.focus(),Ce=null)}function st(){et()}function se(){hr<=1&&document.body.classList.remove("modal-open"),et(),hr=Math.max(0,hr-1),xm(ee)}function rt(fe){if(fe.target===Je){if(!h||!S)return;const ft=De?De.parentNode:null;S===!0&&ft&&fe.target===ft&&A&&(fe.stopPropagation(),A(fe))}}function ht(){f("open"),We=Q_(document,"keydown",fe=>{fe.key&&fe.key==="Escape"&&A&&S===!0&&(We&&We(),A(fe))})}function Wt(){f("closing"),We&&We()}function ve(){f("close"),j&&st(),se(),Se&&(te=!1),t(11,Se=!1)}function Oe(fe){Je=fe.target}function pt(fe){ue[fe?"unshift":"push"](()=>{De=fe,t(12,De)})}const dt=()=>f("opening");return i.$$set=fe=>{e=G(G({},e),Ve(fe)),t(21,r=ae(e,l)),"class"in fe&&t(22,u=fe.class),"static"in fe&&t(0,c=fe.static),"isOpen"in fe&&t(1,h=fe.isOpen),"autoFocus"in fe&&t(23,d=fe.autoFocus),"body"in fe&&t(2,m=fe.body),"centered"in fe&&t(24,p=fe.centered),"container"in fe&&t(25,b=fe.container),"fullscreen"in fe&&t(26,y=fe.fullscreen),"header"in fe&&t(3,O=fe.header),"scrollable"in fe&&t(27,C=fe.scrollable),"size"in fe&&t(28,D=fe.size),"toggle"in fe&&t(4,A=fe.toggle),"labelledBy"in fe&&t(5,P=fe.labelledBy),"backdrop"in fe&&t(6,S=fe.backdrop),"wrapClassName"in fe&&t(7,H=fe.wrapClassName),"modalClassName"in fe&&t(8,X=fe.modalClassName),"contentClassName"in fe&&t(9,$=fe.contentClassName),"fade"in fe&&t(10,ne=fe.fade),"unmountOnClose"in fe&&t(29,j=fe.unmountOnClose),"returnFocusAfterClose"in fe&&t(30,R=fe.returnFocusAfterClose),"$$scope"in fe&&t(34,a=fe.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&490733568&&t(14,n=Re(ga,u,{[`modal-${D}`]:D,"modal-fullscreen":y===!0,[`modal-fullscreen-${y}-down`]:y&&typeof y=="string",[`${ga}-centered`]:p,[`${ga}-scrollable`]:C})),i.$$.dirty[0]&33554433&&t(13,s=b==="inline"||c?cu:hu)},[c,h,m,O,A,P,S,H,X,$,ne,Se,De,s,n,f,rt,ht,Wt,ve,Oe,r,u,d,p,b,y,C,D,j,R,o,pt,dt,a]}class No extends ke{constructor(e){super();ye(this,e,b2,g2,we,{class:22,static:0,isOpen:1,autoFocus:23,body:2,centered:24,container:25,fullscreen:26,header:3,scrollable:27,size:28,toggle:4,labelledBy:5,backdrop:6,wrapClassName:7,modalClassName:8,contentClassName:9,fade:10,unmountOnClose:29,returnFocusAfterClose:30},null,[-1,-1])}}function _2(i){let e,t;const n=i[4].default,s=ce(n,i,i[3],null);let l=[i[1],{class:i[0]}],r={};for(let o=0;o<l.length;o+=1)r=G(r,l[o]);return{c(){e=M("div"),s&&s.c(),this.h()},l(o){e=I(o,"DIV",{class:!0});var a=V(e);s&&s.l(a),a.forEach(g),this.h()},h(){Y(e,r)},m(o,a){w(o,e,a),s&&s.m(e,null),t=!0},p(o,[a]){s&&s.p&&(!t||a&8)&&he(s,n,o,o[3],t?me(n,o[3],a,null):de(o[3]),null),Y(e,r=pe(l,[a&2&&o[1],(!t||a&1)&&{class:o[0]}]))},i(o){t||(_(s,o),t=!0)},o(o){k(s,o),t=!1},d(o){o&&g(e),s&&s.d(o)}}}function v2(i,e,t){let n;const s=["class"];let l=ae(e,s),{$$slots:r={},$$scope:o}=e,{class:a=""}=e;return i.$$set=f=>{e=G(G({},e),Ve(f)),t(1,l=ae(e,s)),"class"in f&&t(2,a=f.class),"$$scope"in f&&t(3,o=f.$$scope)},i.$$.update=()=>{i.$$.dirty&4&&t(0,n=Re(a,"modal-footer"))},[n,l,a,o,r]}class du extends ke{constructor(e){super();ye(this,e,v2,_2,we,{class:2})}}function k2(i){let e,t;const n=i[12].default,s=ce(n,i,i[11],null);let l=[i[1],{class:i[0]}],r={};for(let o=0;o<l.length;o+=1)r=G(r,l[o]);return{c(){e=M("ul"),s&&s.c(),this.h()},l(o){e=I(o,"UL",{class:!0});var a=V(e);s&&s.l(a),a.forEach(g),this.h()},h(){Y(e,r)},m(o,a){w(o,e,a),s&&s.m(e,null),t=!0},p(o,[a]){s&&s.p&&(!t||a&2048)&&he(s,n,o,o[11],t?me(n,o[11],a,null):de(o[11]),null),Y(e,r=pe(l,[a&2&&o[1],(!t||a&1)&&{class:o[0]}]))},i(o){t||(_(s,o),t=!0)},o(o){k(s,o),t=!1},d(o){o&&g(e),s&&s.d(o)}}}function y2(i){return i===!1?!1:i===!0||i==="xs"?"flex-column":`flex-${i}-column`}function w2(i,e,t){let n;const s=["class","tabs","pills","vertical","horizontal","justified","fill","navbar","card"];let l=ae(e,s),{$$slots:r={},$$scope:o}=e,{class:a=""}=e,{tabs:f=!1}=e,{pills:u=!1}=e,{vertical:c=!1}=e,{horizontal:h=""}=e,{justified:d=!1}=e,{fill:m=!1}=e,{navbar:p=!1}=e,{card:b=!1}=e;return i.$$set=y=>{e=G(G({},e),Ve(y)),t(1,l=ae(e,s)),"class"in y&&t(2,a=y.class),"tabs"in y&&t(3,f=y.tabs),"pills"in y&&t(4,u=y.pills),"vertical"in y&&t(5,c=y.vertical),"horizontal"in y&&t(6,h=y.horizontal),"justified"in y&&t(7,d=y.justified),"fill"in y&&t(8,m=y.fill),"navbar"in y&&t(9,p=y.navbar),"card"in y&&t(10,b=y.card),"$$scope"in y&&t(11,o=y.$$scope)},i.$$.update=()=>{i.$$.dirty&2044&&t(0,n=Re(a,p?"navbar-nav":"nav",h?`justify-content-${h}`:!1,y2(c),{"nav-tabs":f,"card-header-tabs":b&&f,"nav-pills":u,"card-header-pills":b&&u,"nav-justified":d,"nav-fill":m}))},[n,l,a,f,u,c,h,d,m,p,b,o,r]}class pp extends ke{constructor(e){super();ye(this,e,w2,k2,we,{class:2,tabs:3,pills:4,vertical:5,horizontal:6,justified:7,fill:8,navbar:9,card:10})}}function O2(i){let e;const t=i[10].default,n=ce(t,i,i[11],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&2048)&&he(n,t,s,s[11],e?me(t,s[11],l,null):de(s[11]),null)},i(s){e||(_(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function S2(i){let e,t;return e=new Qk({props:{fluid:i[0]==="fluid",$$slots:{default:[C2]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s&1&&(l.fluid=n[0]==="fluid"),s&2048&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function C2(i){let e;const t=i[10].default,n=ce(t,i,i[11],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&2048)&&he(n,t,s,s[11],e?me(t,s[11],l,null):de(s[11]),null)},i(s){e||(_(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function A2(i){let e,t,n,s;const l=[S2,O2],r=[];function o(u,c){return u[0]?0:1}t=o(i),n=r[t]=l[t](i);let a=[i[2],{class:i[1]}],f={};for(let u=0;u<a.length;u+=1)f=G(f,a[u]);return{c(){e=M("nav"),n.c(),this.h()},l(u){e=I(u,"NAV",{class:!0});var c=V(e);n.l(c),c.forEach(g),this.h()},h(){Y(e,f)},m(u,c){w(u,e,c),r[t].m(e,null),s=!0},p(u,[c]){let h=t;t=o(u),t===h?r[t].p(u,c):(ge(),k(r[h],1,1,()=>{r[h]=null}),be(),n=r[t],n?n.p(u,c):(n=r[t]=l[t](u),n.c()),_(n,1),n.m(e,null)),Y(e,f=pe(a,[c&4&&u[2],(!s||c&2)&&{class:u[1]}]))},i(u){s||(_(n),s=!0)},o(u){k(n),s=!1},d(u){u&&g(e),r[t].d()}}}function E2(i){return i===!1?!1:i===!0||i==="xs"?"navbar-expand":`navbar-expand-${i}`}function D2(i,e,t){let n;const s=["class","container","color","dark","expand","fixed","light","sticky"];let l=ae(e,s),{$$slots:r={},$$scope:o}=e;Po("navbar",{inNavbar:!0});let{class:a=""}=e,{container:f="fluid"}=e,{color:u=""}=e,{dark:c=!1}=e,{expand:h=""}=e,{fixed:d=""}=e,{light:m=!1}=e,{sticky:p=""}=e;return i.$$set=b=>{e=G(G({},e),Ve(b)),t(2,l=ae(e,s)),"class"in b&&t(3,a=b.class),"container"in b&&t(0,f=b.container),"color"in b&&t(4,u=b.color),"dark"in b&&t(5,c=b.dark),"expand"in b&&t(6,h=b.expand),"fixed"in b&&t(7,d=b.fixed),"light"in b&&t(8,m=b.light),"sticky"in b&&t(9,p=b.sticky),"$$scope"in b&&t(11,o=b.$$scope)},i.$$.update=()=>{i.$$.dirty&1016&&t(1,n=Re(a,"navbar",E2(h),{"navbar-light":m,"navbar-dark":c,[`bg-${u}`]:u,[`fixed-${d}`]:d,[`sticky-${p}`]:p}))},[f,n,l,a,u,c,h,d,m,p,r,o]}class T2 extends ke{constructor(e){super();ye(this,e,D2,A2,we,{class:3,container:0,color:4,dark:5,expand:6,fixed:7,light:8,sticky:9})}}function P2(i){let e,t;const n=i[5].default,s=ce(n,i,i[4],null);let l=[i[1],{class:i[0]}],r={};for(let o=0;o<l.length;o+=1)r=G(r,l[o]);return{c(){e=M("li"),s&&s.c(),this.h()},l(o){e=I(o,"LI",{class:!0});var a=V(e);s&&s.l(a),a.forEach(g),this.h()},h(){Y(e,r)},m(o,a){w(o,e,a),s&&s.m(e,null),t=!0},p(o,[a]){s&&s.p&&(!t||a&16)&&he(s,n,o,o[4],t?me(n,o[4],a,null):de(o[4]),null),Y(e,r=pe(l,[a&2&&o[1],(!t||a&1)&&{class:o[0]}]))},i(o){t||(_(s,o),t=!0)},o(o){k(s,o),t=!1},d(o){o&&g(e),s&&s.d(o)}}}function M2(i,e,t){let n;const s=["class","active"];let l=ae(e,s),{$$slots:r={},$$scope:o}=e,{class:a=""}=e,{active:f=!1}=e;return i.$$set=u=>{e=G(G({},e),Ve(u)),t(1,l=ae(e,s)),"class"in u&&t(2,a=u.class),"active"in u&&t(3,f=u.active),"$$scope"in u&&t(4,o=u.$$scope)},i.$$.update=()=>{i.$$.dirty&12&&t(0,n=Re(a,"nav-item",f?"active":!1))},[n,l,a,f,o,r]}class Ka extends ke{constructor(e){super();ye(this,e,M2,P2,we,{class:2,active:3})}}function I2(i){let e,t,n,s;const l=i[8].default,r=ce(l,i,i[7],null);let o=[i[3],{href:i[0]},{class:i[1]}],a={};for(let f=0;f<o.length;f+=1)a=G(a,o[f]);return{c(){e=M("a"),r&&r.c(),this.h()},l(f){e=I(f,"A",{href:!0,class:!0});var u=V(e);r&&r.l(u),u.forEach(g),this.h()},h(){Y(e,a)},m(f,u){w(f,e,u),r&&r.m(e,null),t=!0,n||(s=[E(e,"click",i[9]),E(e,"click",i[2])],n=!0)},p(f,[u]){r&&r.p&&(!t||u&128)&&he(r,l,f,f[7],t?me(l,f[7],u,null):de(f[7]),null),Y(e,a=pe(o,[u&8&&f[3],(!t||u&1)&&{href:f[0]},(!t||u&2)&&{class:f[1]}]))},i(f){t||(_(r,f),t=!0)},o(f){k(r,f),t=!1},d(f){f&&g(e),r&&r.d(f),n=!1,Ge(s)}}}function R2(i,e,t){let n;const s=["class","disabled","active","href"];let l=ae(e,s),{$$slots:r={},$$scope:o}=e,{class:a=""}=e,{disabled:f=!1}=e,{active:u=!1}=e,{href:c="#"}=e;function h(m){if(f){m.preventDefault(),m.stopImmediatePropagation();return}c==="#"&&m.preventDefault()}function d(m){W.call(this,i,m)}return i.$$set=m=>{e=G(G({},e),Ve(m)),t(3,l=ae(e,s)),"class"in m&&t(4,a=m.class),"disabled"in m&&t(5,f=m.disabled),"active"in m&&t(6,u=m.active),"href"in m&&t(0,c=m.href),"$$scope"in m&&t(7,o=m.$$scope)},i.$$.update=()=>{i.$$.dirty&112&&t(1,n=Re(a,"nav-link",{disabled:f,active:u}))},[c,n,h,l,a,f,u,o,r,d]}class mu extends ke{constructor(e){super();ye(this,e,R2,I2,we,{class:4,disabled:5,active:6,href:0})}}function N2(i){let e,t,n,s;const l=i[5].default,r=ce(l,i,i[4],null);let o=[i[2],{class:i[1]},{href:i[0]}],a={};for(let f=0;f<o.length;f+=1)a=G(a,o[f]);return{c(){e=M("a"),r&&r.c(),this.h()},l(f){e=I(f,"A",{class:!0,href:!0});var u=V(e);r&&r.l(u),u.forEach(g),this.h()},h(){Y(e,a)},m(f,u){w(f,e,u),r&&r.m(e,null),t=!0,n||(s=E(e,"click",i[6]),n=!0)},p(f,[u]){r&&r.p&&(!t||u&16)&&he(r,l,f,f[4],t?me(l,f[4],u,null):de(f[4]),null),Y(e,a=pe(o,[u&4&&f[2],(!t||u&2)&&{class:f[1]},(!t||u&1)&&{href:f[0]}]))},i(f){t||(_(r,f),t=!0)},o(f){k(r,f),t=!1},d(f){f&&g(e),r&&r.d(f),n=!1,s()}}}function L2(i,e,t){let n;const s=["class","href"];let l=ae(e,s),{$$slots:r={},$$scope:o}=e,{class:a=""}=e,{href:f="/"}=e;function u(c){W.call(this,i,c)}return i.$$set=c=>{e=G(G({},e),Ve(c)),t(2,l=ae(e,s)),"class"in c&&t(3,a=c.class),"href"in c&&t(0,f=c.href),"$$scope"in c&&t(4,o=c.$$scope)},i.$$.update=()=>{i.$$.dirty&8&&t(1,n=Re(a,"navbar-brand"))},[f,n,l,a,o,r,u]}class B2 extends ke{constructor(e){super();ye(this,e,L2,N2,we,{class:3,href:0})}}const Q2=i=>({}),Gc=i=>({});function Xc(i){let e,t,n;var s=i[5];function l(r){return{props:{$$slots:{default:[W2]},$$scope:{ctx:r}}}}return s&&(e=new s(l(i))),{c(){e&&N(e.$$.fragment),t=re()},l(r){e&&Q(e.$$.fragment,r),t=re()},m(r,o){e&&L(e,r,o),w(r,t,o),n=!0},p(r,o){const a={};if(o&1048798&&(a.$$scope={dirty:o,ctx:r}),s!==(s=r[5])){if(e){ge();const f=e;k(f.$$.fragment,1,0,()=>{B(f,1)}),be()}s?(e=new s(l(r)),N(e.$$.fragment),_(e.$$.fragment,1),L(e,t.parentNode,t)):e=null}else s&&e.$set(a)},i(r){n||(e&&_(e.$$.fragment,r),n=!0)},o(r){e&&k(e.$$.fragment,r),n=!1},d(r){r&&g(t),e&&B(e,r)}}}function z2(i){let e;return{c(){e=Z(i[2])},l(t){e=K(t,i[2])},m(t,n){w(t,e,n)},p(t,n){n&4&&$e(e,t[2])},d(t){t&&g(e)}}}function V2(i){let e;const t=i[18].default,n=ce(t,i,i[20],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&1048576)&&he(n,t,s,s[20],e?me(t,s[20],l,null):de(s[20]),null)},i(s){e||(_(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function F2(i){let e;return{c(){e=Z(i[1])},l(t){e=K(t,i[1])},m(t,n){w(t,e,n)},p(t,n){n&2&&$e(e,t[1])},i:ie,o:ie,d(t){t&&g(e)}}}function W2(i){let e,t,n,s,l,r,o,a,f;const u=i[18].title,c=ce(u,i,i[20],Gc),h=c||z2(i),d=[F2,V2],m=[];function p(O,C){return O[1]?0:1}o=p(i),a=m[o]=d[o](i);let b=[i[7],{class:i[6]},{role:"tooltip"},{"x-placement":i[4]}],y={};for(let O=0;O<b.length;O+=1)y=G(y,b[O]);return{c(){e=M("div"),t=M("div"),n=U(),s=M("h3"),h&&h.c(),l=U(),r=M("div"),a.c(),this.h()},l(O){e=I(O,"DIV",{class:!0,role:!0,"x-placement":!0});var C=V(e);t=I(C,"DIV",{class:!0,"data-popper-arrow":!0}),V(t).forEach(g),n=q(C),s=I(C,"H3",{class:!0});var D=V(s);h&&h.l(D),D.forEach(g),l=q(C),r=I(C,"DIV",{class:!0});var A=V(r);a.l(A),A.forEach(g),C.forEach(g),this.h()},h(){z(t,"class","popover-arrow"),z(t,"data-popper-arrow",""),z(s,"class","popover-header"),z(r,"class","popover-body"),Y(e,y)},m(O,C){w(O,e,C),F(e,t),F(e,n),F(e,s),h&&h.m(s,null),F(e,l),F(e,r),m[o].m(r,null),i[19](e),f=!0},p(O,C){c?c.p&&(!f||C&1048576)&&he(c,u,O,O[20],f?me(u,O[20],C,Q2):de(O[20]),Gc):h&&h.p&&(!f||C&4)&&h.p(O,f?C:-1);let D=o;o=p(O),o===D?m[o].p(O,C):(ge(),k(m[D],1,1,()=>{m[D]=null}),be(),a=m[o],a?a.p(O,C):(a=m[o]=d[o](O),a.c()),_(a,1),a.m(r,null)),Y(e,y=pe(b,[C&128&&O[7],(!f||C&64)&&{class:O[6]},{role:"tooltip"},(!f||C&16)&&{"x-placement":O[4]}]))},i(O){f||(_(h,O),_(a),f=!0)},o(O){k(h,O),k(a),f=!1},d(O){O&&g(e),h&&h.d(O),m[o].d(),i[19](null)}}}function j2(i){let e,t,n=i[0]&&Xc(i);return{c(){n&&n.c(),e=re()},l(s){n&&n.l(s),e=re()},m(s,l){n&&n.m(s,l),w(s,e,l),t=!0},p(s,[l]){s[0]?n?(n.p(s,l),l&1&&_(n,1)):(n=Xc(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ge(),k(n,1,1,()=>{n=null}),be())},i(s){t||(_(n),t=!0)},o(s){k(n),t=!1},d(s){n&&n.d(s),s&&g(e)}}}function H2(i,e,t){let n,s;const l=["class","animation","children","container","dismissible","isOpen","placement","target","title","trigger"];let r=ae(e,l),{$$slots:o={},$$scope:a}=e,{class:f=""}=e,{animation:u=!0}=e,{children:c=void 0}=e,{container:h=void 0}=e,{dismissible:d=!1}=e,{isOpen:m=!1}=e,{placement:p="top"}=e,{target:b=""}=e,{title:y=""}=e,{trigger:O="click"}=e,C,D,A,P,S=p;const H={name:"checkPopperPlacement",enabled:!0,phase:"main",fn({state:R}){t(4,S=R.placement)}},X=()=>t(0,m=!0),$=()=>t(0,m=!1),ne=()=>t(0,m=!m);ti(()=>{switch(t(15,C=document.querySelector(`#${b}`)),O){case"hover":C.addEventListener("mouseover",X),C.addEventListener("mouseleave",$);break;case"focus":C.addEventListener("focus",X),C.addEventListener("blur",$);break;default:C.addEventListener("click",ne),d&&C.addEventListener("blur",$);break}return()=>{switch(O){case"hover":C.removeEventListener("mouseover",X),C.removeEventListener("mouseleave",$);break;case"focus":C.removeEventListener("focus",X),C.removeEventListener("blur",$);break;default:C.removeEventListener("click",ne),d&&C.removeEventListener("blur",$);break}}});function j(R){ue[R?"unshift":"push"](()=>{D=R,t(3,D)})}return i.$$set=R=>{e=G(G({},e),Ve(R)),t(7,r=ae(e,l)),"class"in R&&t(8,f=R.class),"animation"in R&&t(9,u=R.animation),"children"in R&&t(1,c=R.children),"container"in R&&t(10,h=R.container),"dismissible"in R&&t(11,d=R.dismissible),"isOpen"in R&&t(0,m=R.isOpen),"placement"in R&&t(12,p=R.placement),"target"in R&&t(13,b=R.target),"title"in R&&t(2,y=R.title),"trigger"in R&&t(14,O=R.trigger),"$$scope"in R&&t(20,a=R.$$scope)},i.$$.update=()=>{if(i.$$.dirty&102409&&(m&&D?t(16,A=cp(C,D,{placement:p,modifiers:[H,{name:"offset",options:{offset:()=>[0,8]}}]})):A&&(A.destroy(),t(16,A=void 0))),i.$$.dirty&8192&&!b)throw new Error("Need target!");i.$$.dirty&16&&(S==="left"?t(17,P="start"):S==="right"?t(17,P="end"):t(17,P=S)),i.$$.dirty&131841&&t(6,n=Re(f,"popover",u?"fade":!1,`bs-popover-${P}`,m?"show":!1)),i.$$.dirty&1024&&t(5,s=h==="inline"?cu:hu)},[m,c,y,D,S,s,n,r,f,u,h,d,p,b,O,C,A,P,o,j,a]}class U2 extends ke{constructor(e){super();ye(this,e,H2,j2,we,{class:8,animation:9,children:1,container:10,dismissible:11,isOpen:0,placement:12,target:13,title:2,trigger:14})}}function q2(i){let e;const t=i[1].default,n=ce(t,i,i[2],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&4)&&he(n,t,s,s[2],e?me(t,s[2],l,null):de(s[2]),null)},i(s){e||(_(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function $2(i){let e,t;const n=[i[0]];let s={$$slots:{default:[q2]},$$scope:{ctx:i}};for(let l=0;l<n.length;l+=1)s=G(s,n[l]);return e=new pp({props:s}),{c(){N(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,r){L(e,l,r),t=!0},p(l,[r]){const o=r&1?pe(n,[qm(l[0])]):{};r&4&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){B(e,l)}}}function G2(i,e,t){const n=[];let s=ae(e,n),{$$slots:l={},$$scope:r}=e;return Po("tabs",!0),i.$$set=o=>{e=G(G({},e),Ve(o)),t(0,s=ae(e,n)),"$$scope"in o&&t(2,r=o.$$scope)},[s,l,r]}class X2 extends ke{constructor(e){super();ye(this,e,G2,$2,we,{})}}function Z2(i){let e;const t=i[5].default,n=ce(t,i,i[6],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&64)&&he(n,t,s,s[6],e?me(t,s[6],l,null):de(s[6]),null)},i(s){e||(_(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function K2(i){let e,t,n,s;t=new X2({props:{class:Re({"me-3":i[1]}),pills:i[0],tabs:!i[0],vertical:i[1],$$slots:{default:[Z2]},$$scope:{ctx:i}}});const l=i[5].default,r=ce(l,i,i[6],null);let o=[i[3],{class:i[2]}],a={};for(let f=0;f<o.length;f+=1)a=G(a,o[f]);return{c(){e=M("div"),N(t.$$.fragment),n=U(),r&&r.c(),this.h()},l(f){e=I(f,"DIV",{class:!0});var u=V(e);Q(t.$$.fragment,u),n=q(u),r&&r.l(u),u.forEach(g),this.h()},h(){Y(e,a)},m(f,u){w(f,e,u),L(t,e,null),F(e,n),r&&r.m(e,null),s=!0},p(f,[u]){const c={};u&2&&(c.class=Re({"me-3":f[1]})),u&1&&(c.pills=f[0]),u&1&&(c.tabs=!f[0]),u&2&&(c.vertical=f[1]),u&64&&(c.$$scope={dirty:u,ctx:f}),t.$set(c),r&&r.p&&(!s||u&64)&&he(r,l,f,f[6],s?me(l,f[6],u,null):de(f[6]),null),Y(e,a=pe(o,[u&8&&f[3],(!s||u&4)&&{class:f[2]}]))},i(f){s||(_(t.$$.fragment,f),_(r,f),s=!0)},o(f){k(t.$$.fragment,f),k(r,f),s=!1},d(f){f&&g(e),B(t),r&&r.d(f)}}}function Y2(i,e,t){let n;const s=["class","pills","vertical"];let l=ae(e,s),{$$slots:r={},$$scope:o}=e;const a=Ki();let{class:f=""}=e,{pills:u=!1}=e,{vertical:c=!1}=e;const h=Km();return Po("tabContent",{activeTabId:h,setActiveTab:d=>{h.set(d),a("tab",d)}}),i.$$set=d=>{e=G(G({},e),Ve(d)),t(3,l=ae(e,s)),"class"in d&&t(4,f=d.class),"pills"in d&&t(0,u=d.pills),"vertical"in d&&t(1,c=d.vertical),"$$scope"in d&&t(6,o=d.$$scope)},i.$$.update=()=>{i.$$.dirty&18&&t(2,n=Re("tab-content",f,{"d-flex align-items-start":c}))},[u,c,n,l,f,r,o]}class x2 extends ke{constructor(e){super();ye(this,e,Y2,K2,we,{class:4,pills:0,vertical:1})}}const J2=i=>({}),Zc=i=>({});function ew(i){let e,t;const n=i[12].default,s=ce(n,i,i[14],null);let l=[i[8],{class:i[4]}],r={};for(let o=0;o<l.length;o+=1)r=G(r,l[o]);return{c(){e=M("div"),s&&s.c(),this.h()},l(o){e=I(o,"DIV",{class:!0});var a=V(e);s&&s.l(a),a.forEach(g),this.h()},h(){Y(e,r)},m(o,a){w(o,e,a),s&&s.m(e,null),t=!0},p(o,a){s&&s.p&&(!t||a&16384)&&he(s,n,o,o[14],t?me(n,o[14],a,null):de(o[14]),null),Y(e,r=pe(l,[a&256&&o[8],(!t||a&16)&&{class:o[4]}]))},i(o){t||(_(s,o),t=!0)},o(o){k(s,o),t=!1},d(o){o&&g(e),s&&s.d(o)}}}function tw(i){let e,t;return e=new Ka({props:{$$slots:{default:[iw]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s&16399&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Kc(i){let e;return{c(){e=Z(i[1])},l(t){e=K(t,i[1])},m(t,n){w(t,e,n)},p(t,n){n&2&&$e(e,t[1])},d(t){t&&g(e)}}}function nw(i){let e,t,n=i[1]&&Kc(i);const s=i[12].tab,l=ce(s,i,i[14],Zc);return{c(){n&&n.c(),e=U(),l&&l.c()},l(r){n&&n.l(r),e=q(r),l&&l.l(r)},m(r,o){n&&n.m(r,o),w(r,e,o),l&&l.m(r,o),t=!0},p(r,o){r[1]?n?n.p(r,o):(n=Kc(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),l&&l.p&&(!t||o&16384)&&he(l,s,r,r[14],t?me(s,r[14],o,J2):de(r[14]),Zc)},i(r){t||(_(l,r),t=!0)},o(r){k(l,r),t=!1},d(r){n&&n.d(r),r&&g(e),l&&l.d(r)}}}function iw(i){let e,t;return e=new mu({props:{active:i[3],disabled:i[0],$$slots:{default:[nw]},$$scope:{ctx:i}}}),e.$on("click",i[13]),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s&8&&(l.active=n[3]),s&1&&(l.disabled=n[0]),s&16386&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function sw(i){let e,t,n,s;const l=[tw,ew],r=[];function o(a,f){return a[5]?0:1}return e=o(i),t=r[e]=l[e](i),{c(){t.c(),n=re()},l(a){t.l(a),n=re()},m(a,f){r[e].m(a,f),w(a,n,f),s=!0},p(a,[f]){t.p(a,f)},i(a){s||(_(t),s=!0)},o(a){k(t),s=!1},d(a){r[e].d(a),a&&g(n)}}}function rw(i,e,t){let n;const s=["class","active","disabled","tab","tabId"];let l=ae(e,s),r,{$$slots:o={},$$scope:a}=e,{class:f=""}=e,{active:u=!1}=e,{disabled:c=!1}=e,{tab:h=void 0}=e,{tabId:d=void 0}=e;const m=Ga("tabs"),{activeTabId:p,setActiveTab:b}=Ga("tabContent");Et(i,p,C=>t(11,r=C)),ti(()=>{u&&b(d)});let y=u;const O=()=>b(d);return i.$$set=C=>{e=G(G({},e),Ve(C)),t(8,l=ae(e,s)),"class"in C&&t(9,f=C.class),"active"in C&&t(10,u=C.active),"disabled"in C&&t(0,c=C.disabled),"tab"in C&&t(1,h=C.tab),"tabId"in C&&t(2,d=C.tabId),"$$scope"in C&&t(14,a=C.$$scope)},i.$$.update=()=>{i.$$.dirty&2052&&r!==void 0&&t(3,y=r===d),i.$$.dirty&520&&t(4,n=Re("tab-pane",f,{active:y,show:y}))},[c,h,d,y,n,m,p,b,l,f,u,r,o,O,a]}class lw extends ke{constructor(e){super();ye(this,e,rw,sw,we,{class:9,active:10,disabled:0,tab:1,tabId:2})}}function ow(i){let e,t;const n=i[4].default,s=ce(n,i,i[3],null);let l=[i[1],{class:i[0]}],r={};for(let o=0;o<l.length;o+=1)r=G(r,l[o]);return{c(){e=M("div"),s&&s.c(),this.h()},l(o){e=I(o,"DIV",{class:!0});var a=V(e);s&&s.l(a),a.forEach(g),this.h()},h(){Y(e,r)},m(o,a){w(o,e,a),s&&s.m(e,null),t=!0},p(o,[a]){s&&s.p&&(!t||a&8)&&he(s,n,o,o[3],t?me(n,o[3],a,null):de(o[3]),null),Y(e,r=pe(l,[a&2&&o[1],(!t||a&1)&&{class:o[0]}]))},i(o){t||(_(s,o),t=!0)},o(o){k(s,o),t=!1},d(o){o&&g(e),s&&s.d(o)}}}function aw(i,e,t){let n;const s=["class"];let l=ae(e,s),{$$slots:r={},$$scope:o}=e,{class:a=""}=e;return i.$$set=f=>{e=G(G({},e),Ve(f)),t(1,l=ae(e,s)),"class"in f&&t(2,a=f.class),"$$scope"in f&&t(3,o=f.$$scope)},i.$$.update=()=>{i.$$.dirty&4&&t(0,n=Re(a,"toast-body"))},[n,l,a,o,r]}class fw extends ke{constructor(e){super();ye(this,e,aw,ow,we,{class:2})}}const uw=i=>({}),Yc=i=>({}),cw=i=>({}),xc=i=>({});function hw(i){let e;const t=i[8].icon,n=ce(t,i,i[7],xc);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&128)&&he(n,t,s,s[7],e?me(t,s[7],l,cw):de(s[7]),xc)},i(s){e||(_(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function dw(i){let e,t,n;return{c(){e=fc("svg"),t=fc("rect"),this.h()},l(s){e=uc(s,"svg",{class:!0,width:!0,height:!0,xmlns:!0,preserveAspectRatio:!0,focusable:!0,role:!0});var l=V(e);t=uc(l,"rect",{fill:!0,width:!0,height:!0}),V(t).forEach(g),l.forEach(g),this.h()},h(){z(t,"fill","currentColor"),z(t,"width","100%"),z(t,"height","100%"),z(e,"class",n=`rounded text-${i[0]}`),z(e,"width","20"),z(e,"height","20"),z(e,"xmlns","http://www.w3.org/2000/svg"),z(e,"preserveAspectRatio","xMidYMid slice"),z(e,"focusable","false"),z(e,"role","img")},m(s,l){w(s,e,l),F(e,t)},p(s,l){l&1&&n!==(n=`rounded text-${s[0]}`)&&z(e,"class",n)},i:ie,o:ie,d(s){s&&g(e)}}}function Jc(i){let e;const t=i[8].close,n=ce(t,i,i[7],Yc),s=n||mw(i);return{c(){s&&s.c()},l(l){s&&s.l(l)},m(l,r){s&&s.m(l,r),e=!0},p(l,r){n?n.p&&(!e||r&128)&&he(n,t,l,l[7],e?me(t,l[7],r,uw):de(l[7]),Yc):s&&s.p&&(!e||r&6)&&s.p(l,e?r:-1)},i(l){e||(_(s,l),e=!0)},o(l){k(s,l),e=!1},d(l){s&&s.d(l)}}}function mw(i){let e,t;return e=new ct({props:{close:!0,"aria-label":i[2]}}),e.$on("click",function(){Xn(i[1])&&i[1].apply(this,arguments)}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){i=n;const l={};s&4&&(l["aria-label"]=i[2]),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function pw(i){let e,t,n,s,l,r,o;const a=[dw,hw],f=[];function u(b,y){return b[0]?0:1}t=u(i),n=f[t]=a[t](i);const c=i[8].default,h=ce(c,i,i[7],null);let d=i[1]&&Jc(i),m=[i[5],{class:i[4]}],p={};for(let b=0;b<m.length;b+=1)p=G(p,m[b]);return{c(){e=M("div"),n.c(),s=U(),l=M("strong"),h&&h.c(),r=U(),d&&d.c(),this.h()},l(b){e=I(b,"DIV",{class:!0});var y=V(e);n.l(y),s=q(y),l=I(y,"STRONG",{class:!0});var O=V(l);h&&h.l(O),O.forEach(g),r=q(y),d&&d.l(y),y.forEach(g),this.h()},h(){z(l,"class",i[3]),Y(e,p)},m(b,y){w(b,e,y),f[t].m(e,null),F(e,s),F(e,l),h&&h.m(l,null),F(e,r),d&&d.m(e,null),o=!0},p(b,[y]){let O=t;t=u(b),t===O?f[t].p(b,y):(ge(),k(f[O],1,1,()=>{f[O]=null}),be(),n=f[t],n?n.p(b,y):(n=f[t]=a[t](b),n.c()),_(n,1),n.m(e,s)),h&&h.p&&(!o||y&128)&&he(h,c,b,b[7],o?me(c,b[7],y,null):de(b[7]),null),(!o||y&8)&&z(l,"class",b[3]),b[1]?d?(d.p(b,y),y&2&&_(d,1)):(d=Jc(b),d.c(),_(d,1),d.m(e,null)):d&&(ge(),k(d,1,1,()=>{d=null}),be()),Y(e,p=pe(m,[y&32&&b[5],(!o||y&16)&&{class:b[4]}]))},i(b){o||(_(n),_(h,b),_(d),o=!0)},o(b){k(n),k(h,b),k(d),o=!1},d(b){b&&g(e),f[t].d(),h&&h.d(b),d&&d.d()}}}function gw(i,e,t){let n,s;const l=["class","icon","toggle","closeAriaLabel"];let r=ae(e,l),{$$slots:o={},$$scope:a}=e,{class:f=""}=e,{icon:u=null}=e,{toggle:c=null}=e,{closeAriaLabel:h="Close"}=e;return i.$$set=d=>{e=G(G({},e),Ve(d)),t(5,r=ae(e,l)),"class"in d&&t(6,f=d.class),"icon"in d&&t(0,u=d.icon),"toggle"in d&&t(1,c=d.toggle),"closeAriaLabel"in d&&t(2,h=d.closeAriaLabel),"$$scope"in d&&t(7,a=d.$$scope)},i.$$.update=()=>{i.$$.dirty&64&&t(4,n=Re(f,"toast-header")),i.$$.dirty&1&&t(3,s=Re("me-auto",{"ms-2":u!=null}))},[u,c,h,s,n,r,f,a,o]}class gp extends ke{constructor(e){super();ye(this,e,gw,pw,we,{class:6,icon:0,toggle:1,closeAriaLabel:2})}}function eh(i){let e,t,n,s,l,r,o,a,f=i[4]&&th(i);const u=[vw,_w],c=[];function h(p,b){return p[1]?0:1}n=h(i),s=c[n]=u[n](i);let d=[i[8],{class:i[6]},{role:"alert"}],m={};for(let p=0;p<d.length;p+=1)m=G(m,d[p]);return{c(){e=M("div"),f&&f.c(),t=U(),s.c(),this.h()},l(p){e=I(p,"DIV",{class:!0,role:!0});var b=V(e);f&&f.l(b),t=q(b),s.l(b),b.forEach(g),this.h()},h(){Y(e,m)},m(p,b){w(p,e,b),f&&f.m(e,null),F(e,t),c[n].m(e,null),r=!0,o||(a=[E(e,"introstart",i[13]),E(e,"introend",i[14]),E(e,"outrostart",i[15]),E(e,"outroend",i[16])],o=!0)},p(p,b){i=p,i[4]?f?(f.p(i,b),b&16&&_(f,1)):(f=th(i),f.c(),_(f,1),f.m(e,t)):f&&(ge(),k(f,1,1,()=>{f=null}),be());let y=n;n=h(i),n===y?c[n].p(i,b):(ge(),k(c[y],1,1,()=>{c[y]=null}),be(),s=c[n],s?s.p(i,b):(s=c[n]=u[n](i),s.c()),_(s,1),s.m(e,null)),Y(e,m=pe(d,[b&256&&i[8],(!r||b&64)&&{class:i[6]},{role:"alert"}]))},i(p){r||(_(f),_(s),Es(()=>{l||(l=$l(e,Zl,{duration:i[3]&&i[2]},!0)),l.run(1)}),r=!0)},o(p){k(f),k(s),l||(l=$l(e,Zl,{duration:i[3]&&i[2]},!1)),l.run(0),r=!1},d(p){p&&g(e),f&&f.d(),c[n].d(),p&&l&&l.end(),o=!1,Ge(a)}}}function th(i){let e,t;return e=new gp({props:{toggle:i[5],$$slots:{default:[bw]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s&32&&(l.toggle=n[5]),s&131088&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function bw(i){let e;return{c(){e=Z(i[4])},l(t){e=K(t,i[4])},m(t,n){w(t,e,n)},p(t,n){n&16&&$e(e,t[4])},d(t){t&&g(e)}}}function _w(i){let e;const t=i[12].default,n=ce(t,i,i[17],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&131072)&&he(n,t,s,s[17],e?me(t,s[17],l,null):de(s[17]),null)},i(s){e||(_(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function vw(i){let e,t;return e=new fw({props:{$$slots:{default:[kw]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s&131072&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function kw(i){let e;const t=i[12].default,n=ce(t,i,i[17],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&131072)&&he(n,t,s,s[17],e?me(t,s[17],l,null):de(s[17]),null)},i(s){e||(_(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function yw(i){let e,t,n=i[0]&&eh(i);return{c(){n&&n.c(),e=re()},l(s){n&&n.l(s),e=re()},m(s,l){n&&n.m(s,l),w(s,e,l),t=!0},p(s,[l]){s[0]?n?(n.p(s,l),l&1&&_(n,1)):(n=eh(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ge(),k(n,1,1,()=>{n=null}),be())},i(s){t||(_(n),t=!0)},o(s){k(n),t=!1},d(s){n&&n.d(s),s&&g(e)}}}function ww(i,e,t){let n;const s=["class","autohide","body","delay","duration","fade","header","isOpen","toggle"];let l=ae(e,s),{$$slots:r={},$$scope:o}=e;const a=Ki();let{class:f=""}=e,{autohide:u=!1}=e,{body:c=!1}=e,{delay:h=5e3}=e,{duration:d=200}=e,{fade:m=!0}=e,{header:p=void 0}=e,{isOpen:b=!0}=e,{toggle:y=null}=e,O;Mo(()=>()=>clearTimeout(O));const C=()=>a("opening"),D=()=>a("open"),A=()=>a("closing"),P=()=>a("close");return i.$$set=S=>{e=G(G({},e),Ve(S)),t(8,l=ae(e,s)),"class"in S&&t(9,f=S.class),"autohide"in S&&t(10,u=S.autohide),"body"in S&&t(1,c=S.body),"delay"in S&&t(11,h=S.delay),"duration"in S&&t(2,d=S.duration),"fade"in S&&t(3,m=S.fade),"header"in S&&t(4,p=S.header),"isOpen"in S&&t(0,b=S.isOpen),"toggle"in S&&t(5,y=S.toggle),"$$scope"in S&&t(17,o=S.$$scope)},i.$$.update=()=>{i.$$.dirty&3073&&b&&u&&(O=setTimeout(()=>t(0,b=!1),h)),i.$$.dirty&513&&t(6,n=Re(f,"toast",{show:b}))},[b,c,d,m,p,y,n,a,l,f,u,h,r,C,D,A,P,o]}class Ow extends ke{constructor(e){super();ye(this,e,ww,yw,we,{class:9,autohide:10,body:1,delay:11,duration:2,fade:3,header:4,isOpen:0,toggle:5})}}function nh(i){let e,t,n;var s=i[5];function l(r){return{props:{$$slots:{default:[Aw]},$$scope:{ctx:r}}}}return s&&(e=new s(l(i))),{c(){e&&N(e.$$.fragment),t=re()},l(r){e&&Q(e.$$.fragment,r),t=re()},m(r,o){e&&L(e,r,o),w(r,t,o),n=!0},p(r,o){const a={};if(o&262366&&(a.$$scope={dirty:o,ctx:r}),s!==(s=r[5])){if(e){ge();const f=e;k(f.$$.fragment,1,0,()=>{B(f,1)}),be()}s?(e=new s(l(r)),N(e.$$.fragment),_(e.$$.fragment,1),L(e,t.parentNode,t)):e=null}else s&&e.$set(a)},i(r){n||(e&&_(e.$$.fragment,r),n=!0)},o(r){e&&k(e.$$.fragment,r),n=!1},d(r){r&&g(t),e&&B(e,r)}}}function Sw(i){let e;const t=i[16].default,n=ce(t,i,i[18],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&262144)&&he(n,t,s,s[18],e?me(t,s[18],l,null):de(s[18]),null)},i(s){e||(_(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function Cw(i){let e;return{c(){e=Z(i[1])},l(t){e=K(t,i[1])},m(t,n){w(t,e,n)},p(t,n){n&2&&$e(e,t[1])},i:ie,o:ie,d(t){t&&g(e)}}}function Aw(i){let e,t,n,s,l,r,o;const a=[Cw,Sw],f=[];function u(d,m){return d[1]?0:1}l=u(i),r=f[l]=a[l](i);let c=[i[7],{class:i[6]},{id:i[2]},{role:"tooltip"},{"x-placement":i[3]}],h={};for(let d=0;d<c.length;d+=1)h=G(h,c[d]);return{c(){e=M("div"),t=M("div"),n=U(),s=M("div"),r.c(),this.h()},l(d){e=I(d,"DIV",{class:!0,id:!0,role:!0,"x-placement":!0});var m=V(e);t=I(m,"DIV",{class:!0,"data-popper-arrow":!0}),V(t).forEach(g),n=q(m),s=I(m,"DIV",{class:!0});var p=V(s);r.l(p),p.forEach(g),m.forEach(g),this.h()},h(){z(t,"class","tooltip-arrow"),z(t,"data-popper-arrow",""),z(s,"class","tooltip-inner"),Y(e,h)},m(d,m){w(d,e,m),F(e,t),F(e,n),F(e,s),f[l].m(s,null),i[17](e),o=!0},p(d,m){let p=l;l=u(d),l===p?f[l].p(d,m):(ge(),k(f[p],1,1,()=>{f[p]=null}),be(),r=f[l],r?r.p(d,m):(r=f[l]=a[l](d),r.c()),_(r,1),r.m(s,null)),Y(e,h=pe(c,[m&128&&d[7],(!o||m&64)&&{class:d[6]},(!o||m&4)&&{id:d[2]},{role:"tooltip"},(!o||m&8)&&{"x-placement":d[3]}]))},i(d){o||(_(r),o=!0)},o(d){k(r),o=!1},d(d){d&&g(e),f[l].d(),i[17](null)}}}function Ew(i){let e,t,n=i[0]&&nh(i);return{c(){n&&n.c(),e=re()},l(s){n&&n.l(s),e=re()},m(s,l){n&&n.m(s,l),w(s,e,l),t=!0},p(s,[l]){s[0]?n?(n.p(s,l),l&1&&_(n,1)):(n=nh(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ge(),k(n,1,1,()=>{n=null}),be())},i(s){t||(_(n),t=!0)},o(s){k(n),t=!1},d(s){n&&n.d(s),s&&g(e)}}}function Dw(i,e,t){let n,s;const l=["class","animation","children","container","id","isOpen","placement","target"];let r=ae(e,l),{$$slots:o={},$$scope:a}=e,{class:f=""}=e,{animation:u=!0}=e,{children:c=void 0}=e,{container:h=void 0}=e,{id:d=`tooltip_${ep()}`}=e,{isOpen:m=!1}=e,{placement:p="top"}=e,{target:b=""}=e,y,O,C=p,D,A;const P={name:"checkPopperPlacement",enabled:!0,phase:"main",fn({state:j}){t(3,C=j.placement)}},S=()=>t(0,m=!0),H=()=>t(0,m=!1);ti(X),Mo($);function X(){if(b==null||b.length==0){t(15,D=null);return}try{b instanceof HTMLElement&&t(15,D=b)}catch{}if(D==null)try{t(15,D=document.querySelector(`#${b}`))}catch{}D&&(D.addEventListener("mouseover",S),D.addEventListener("mouseleave",H),D.addEventListener("focus",S),D.addEventListener("blur",H))}function $(){D&&(D.removeEventListener("mouseover",S),D.removeEventListener("mouseleave",H),D.removeEventListener("focus",S),D.removeEventListener("blur",H),D.removeAttribute("aria-describedby"))}function ne(j){ue[j?"unshift":"push"](()=>{A=j,t(4,A)})}return i.$$set=j=>{e=G(G({},e),Ve(j)),t(7,r=ae(e,l)),"class"in j&&t(8,f=j.class),"animation"in j&&t(9,u=j.animation),"children"in j&&t(1,c=j.children),"container"in j&&t(10,h=j.container),"id"in j&&t(2,d=j.id),"isOpen"in j&&t(0,m=j.isOpen),"placement"in j&&t(11,p=j.placement),"target"in j&&t(12,b=j.target),"$$scope"in j&&t(18,a=j.$$scope)},i.$$.update=()=>{i.$$.dirty&51217&&(m&&A?t(14,O=cp(D,A,{placement:p,modifiers:[P]})):O&&(O.destroy(),t(14,O=void 0))),i.$$.dirty&4096&&b&&($(),X()),i.$$.dirty&32773&&D&&(m?D.setAttribute("aria-describedby",d):D.removeAttribute("aria-describedby")),i.$$.dirty&8&&(C==="left"?t(13,y="start"):C==="right"?t(13,y="end"):t(13,y=C)),i.$$.dirty&8961&&t(6,n=Re(f,"tooltip",u?"fade":!1,`bs-tooltip-${y}`,m?"show":!1)),i.$$.dirty&1024&&t(5,s=h==="inline"?cu:hu)},[m,c,d,C,A,s,n,r,f,u,h,p,b,y,O,D,o,ne,a]}class Kl extends ke{constructor(e){super();ye(this,e,Dw,Ew,we,{class:8,animation:9,children:1,container:10,id:2,isOpen:0,placement:11,target:12})}}const ur=()=>{const i=(n,s)=>n.toString(16).padStart(s,0),e=crypto.getRandomValues(new Uint8Array(16));e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=new DataView(e.buffer);return`${i(t.getUint32(0),8)}-${i(t.getUint16(4),4)}-${i(t.getUint16(6),4)}-${i(t.getUint16(8),4)}-${i(t.getUint32(10),8)}${i(t.getUint16(14),4)}`};function Tw(i){return typeof i.cards=="object"&&typeof i.version=="string"}function Pw(i){const e=i;return typeof e.count=="number"&&typeof e.color=="string"&&typeof e.title=="string"&&typeof e.icon=="string"&&typeof e.icon_back=="string"&&Array.isArray(e.contents)&&Array.isArray(e.tags)}function Ya(i,e=!1,t=!1){const n=JSON.parse(i);let s;if(Tw(n))s=n.cards;else if(Array.isArray(n))s=JSON.parse(i,(l,r)=>ih(l,r));else if(typeof n=="object"&&Pw(n))s=[JSON.parse(i,(l,r)=>ih(l,r))];else return console.warn("Uknown import format!"),[];return s.forEach(l=>{l.layout||(l.layout={}),e&&(l.contents=Mw(l.contents)),t&&(l.contents=Iw(l.contents))}),s}function Mw(i){let e=-1;const t=[],n=[...i];return n.forEach((s,l)=>{s.type==="subtitle"?e=l:s.type==="rule"&&e+1===l&&t.push(e)}),t.forEach(s=>{n[s].type="section",n.splice(s+1,1)}),n}function Iw(i){const e=[...i],t=[];return e.forEach((n,s)=>{if(n.type==="property"&&e[s+1].type==="property"&&e[s+2].type==="property"&&e[s+3].type==="property"&&e[s].content.split(Un)[0]==="Casting Time"&&e[s+1].content.split(Un)[0]==="Range"&&e[s+2].content.split(Un)[0]==="Components"&&e[s+3].content.split(Un)[0]==="Duration"){const l=e[s].content.split(Un)[1],r=e[s+1].content.split(Un)[1],o=e[s+2].content.split(Un)[1],a=e[s+3].content.split(Un)[1];t.push({index:s,castingTime:l,components:o,duration:a,range:r}),e.splice(s,4)}}),t.forEach((n,s)=>{e.splice(n.index+s*4,0,{type:"dndspellblock",content:[n.castingTime,n.range,n.components,n.duration].join(" | "),id:ur()})}),e}function ih(i,e){return i==="contents"?bp(e):e}function bp(i){return i==null?void 0:i.map(t=>{let[n,...s]=t.split(Un);return E_(n)||(n="text"),{type:n,content:s.join(" | ").replace(/(\\\\n)/g,`
`),id:ur()}})}function ba(i){var e;return(e=i==null?void 0:i.map(t=>{var n;return(n=t.content?[t.type,t.content.replace(/\n/g,"\\\\n")]:[t.type])==null?void 0:n.join(" | ")}))==null?void 0:e.join(`
`)}function Rw(i){return{version:"1",cards:i}}const Nw=()=>({color:"#4a6898",contents:[],count:1,icon:"magic-swirl",icon_back:"magic-swirl",tags:[],title:"New Card",layout:{}});function Lw(i){return{id:ur(),type:i,content:""}}function Bw(i){function e(n,s){const l={};return Object.entries(s).forEach(([r,o])=>{if(r!=="contents"){if(typeof o=="object"&&!Array.isArray(o)){l[r]=e(n.map(a=>a[r]),s[r]);return}n.every(a=>a[r]===s[r])?l[r]=s[r]:l[r]=null}}),l}return e(i,i[0])}function _p(i){return Object.fromEntries(Object.entries(i).filter(([,e])=>e!=null).map(([e,t])=>[e,t===Object(t)?_p(t):t]))}const Qw=i=>({}),sh=i=>({confirm:i[8]});function rh(i){let e,t;return e=new Ro({props:{$$slots:{default:[zw]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s&16388&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function zw(i){let e;return{c(){e=Z(i[2])},l(t){e=K(t,i[2])},m(t,n){w(t,e,n)},p(t,n){n&4&&$e(e,t[2])},d(t){t&&g(e)}}}function lh(i){let e,t;return e=new Yr({props:{class:"confirmation-dialog-body",$$slots:{default:[Vw]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s&16392&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Vw(i){let e;return{c(){e=Z(i[3])},l(t){e=K(t,i[3])},m(t,n){w(t,e,n)},p(t,n){n&8&&$e(e,t[3])},d(t){t&&g(e)}}}function Fw(i){let e;return{c(){e=Z(i[5])},l(t){e=K(t,i[5])},m(t,n){w(t,e,n)},p(t,n){n&32&&$e(e,t[5])},d(t){t&&g(e)}}}function Ww(i){let e;return{c(){e=Z(i[4])},l(t){e=K(t,i[4])},m(t,n){w(t,e,n)},p(t,n){n&16&&$e(e,t[4])},d(t){t&&g(e)}}}function jw(i){let e,t,n,s;return e=new ct({props:{id:"confirm-button",color:i[6],$$slots:{default:[Fw]},$$scope:{ctx:i}}}),e.$on("click",i[9]),n=new ct({props:{color:i[7],$$slots:{default:[Ww]},$$scope:{ctx:i}}}),n.$on("click",i[10]),{c(){N(e.$$.fragment),t=U(),N(n.$$.fragment)},l(l){Q(e.$$.fragment,l),t=q(l),Q(n.$$.fragment,l)},m(l,r){L(e,l,r),w(l,t,r),L(n,l,r),s=!0},p(l,r){const o={};r&64&&(o.color=l[6]),r&16416&&(o.$$scope={dirty:r,ctx:l}),e.$set(o);const a={};r&128&&(a.color=l[7]),r&16400&&(a.$$scope={dirty:r,ctx:l}),n.$set(a)},i(l){s||(_(e.$$.fragment,l),_(n.$$.fragment,l),s=!0)},o(l){k(e.$$.fragment,l),k(n.$$.fragment,l),s=!1},d(l){B(e,l),l&&g(t),B(n,l)}}}function Hw(i){let e,t,n,s,l=i[2]&&rh(i),r=(i[3]||!i[2])&&lh(i);return n=new du({props:{$$slots:{default:[jw]},$$scope:{ctx:i}}}),{c(){l&&l.c(),e=U(),r&&r.c(),t=U(),N(n.$$.fragment)},l(o){l&&l.l(o),e=q(o),r&&r.l(o),t=q(o),Q(n.$$.fragment,o)},m(o,a){l&&l.m(o,a),w(o,e,a),r&&r.m(o,a),w(o,t,a),L(n,o,a),s=!0},p(o,a){o[2]?l?(l.p(o,a),a&4&&_(l,1)):(l=rh(o),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(ge(),k(l,1,1,()=>{l=null}),be()),o[3]||!o[2]?r?(r.p(o,a),a&12&&_(r,1)):(r=lh(o),r.c(),_(r,1),r.m(t.parentNode,t)):r&&(ge(),k(r,1,1,()=>{r=null}),be());const f={};a&16624&&(f.$$scope={dirty:a,ctx:o}),n.$set(f)},i(o){s||(_(l),_(r),_(n.$$.fragment,o),s=!0)},o(o){k(l),k(r),k(n.$$.fragment,o),s=!1},d(o){l&&l.d(o),o&&g(e),r&&r.d(o),o&&g(t),B(n,o)}}}function Uw(i){let e,t,n;const s=i[13].default,l=ce(s,i,i[14],sh);return t=new No({props:{isOpen:i[0],toggle:i[1],$$slots:{default:[Hw]},$$scope:{ctx:i}}}),{c(){l&&l.c(),e=U(),N(t.$$.fragment)},l(r){l&&l.l(r),e=q(r),Q(t.$$.fragment,r)},m(r,o){l&&l.m(r,o),w(r,e,o),L(t,r,o),n=!0},p(r,[o]){l&&l.p&&(!n||o&16384)&&he(l,s,r,r[14],n?me(s,r[14],o,Qw):de(r[14]),sh);const a={};o&1&&(a.isOpen=r[0]),o&16636&&(a.$$scope={dirty:o,ctx:r}),t.$set(a)},i(r){n||(_(l,r),_(t.$$.fragment,r),n=!0)},o(r){k(l,r),k(t.$$.fragment,r),n=!1},d(r){l&&l.d(r),r&&g(e),B(t,r)}}}function qw(i,e,t){let{$$slots:n={},$$scope:s}=e,{open:l=!1}=e;const r=async()=>{var O;t(0,l=!l),await w_(),(O=document.getElementById("confirm-button"))==null||O.focus()};let{modalConfirm:o=()=>{}}=e,{danger:a=!1}=e,f,u,c="No",h="Yes",d=a?"danger":"primary",m="secondary";const p=O=>{const{func:C,title:D,body:A,cancelButtonText:P,confirmButtonText:S,cancelButtonColor:H,confirmButtonColor:X}=O;t(11,o=C),t(2,f=D),t(3,u=A),d!=null||t(6,d=X),(!u||!f)&&t(3,u="Are you sure?"),r()},b=()=>{o(),r(),t(11,o=()=>{})},y=()=>{r(),t(11,o=()=>{})};return i.$$set=O=>{"open"in O&&t(0,l=O.open),"modalConfirm"in O&&t(11,o=O.modalConfirm),"danger"in O&&t(12,a=O.danger),"$$scope"in O&&t(14,s=O.$$scope)},[l,r,f,u,c,h,d,m,p,b,y,o,a,n,s]}class $w extends ke{constructor(e){super();ye(this,e,qw,Uw,we,{open:0,toggle:1,modalConfirm:11,danger:12})}get toggle(){return this.$$.ctx[1]}}function oh(i,e,t){const n=i.slice();return n[19]=e[t],n[21]=t,n}function Gw(i){let e,t,n;return e=new Rt({props:{name:"file-plus-fill"}}),{c(){N(e.$$.fragment),t=Z(`
        Add card`)},l(s){Q(e.$$.fragment,s),t=K(s,`
        Add card`)},m(s,l){L(e,s,l),w(s,t,l),n=!0},p:ie,i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){k(e.$$.fragment,s),n=!1},d(s){B(e,s),s&&g(t)}}}function Xw(i){let e,t,n;return e=new Rt({props:{name:"trash-fill"}}),{c(){N(e.$$.fragment),t=Z(`
        Clear deck`)},l(s){Q(e.$$.fragment,s),t=K(s,`
        Clear deck`)},m(s,l){L(e,s,l),w(s,t,l),n=!0},p:ie,i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){k(e.$$.fragment,s),n=!1},d(s){B(e,s),s&&g(t)}}}function Zw(i){let e,t;return{c(){e=M("div"),t=Z("There are no cards in your deck!"),this.h()},l(n){e=I(n,"DIV",{class:!0});var s=V(e);t=K(s,"There are no cards in your deck!"),s.forEach(g),this.h()},h(){z(e,"class","empty-deck svelte-yiv33b")},m(n,s){w(n,e,s),F(e,t)},p:ie,i:ie,o:ie,d(n){n&&g(e)}}}function Kw(i){let e,t;return e=new Uy({props:{$$slots:{default:[sO]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s&4194319&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function ah(i){let e,t=i[2].size+"",n,s;return{c(){e=Z("("),n=Z(t),s=Z(")")},l(l){e=K(l,"("),n=K(l,t),s=K(l,")")},m(l,r){w(l,e,r),w(l,n,r),w(l,s,r)},p(l,r){r&4&&t!==(t=l[2].size+"")&&$e(n,t)},d(l){l&&g(e),l&&g(n),l&&g(s)}}}function fh(i){let e,t;function n(){return i[13](i[18])}return e=new ct({props:{color:"link",size:"sm",class:"link-danger",$$slots:{default:[Yw]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){N(e.$$.fragment)},l(s){Q(e.$$.fragment,s)},m(s,l){L(e,s,l),t=!0},p(s,l){i=s;const r={};l&4194304&&(r.$$scope={dirty:l,ctx:i}),e.$set(r)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){B(e,s)}}}function Yw(i){let e,t;return e=new Rt({props:{name:"trash-fill"}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p:ie,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function xw(i){let e,t,n,s,l,r,o,a,f,u=i[2].size>1&&ah(i),c=i[2].size>1&&fh(i);return{c(){e=M("div"),t=M("input"),s=Z(`
              Card
              `),u&&u.c(),l=U(),c&&c.c(),r=re(),this.h()},l(h){e=I(h,"DIV",{class:!0});var d=V(e);t=I(d,"INPUT",{type:!0,class:!0}),s=K(d,`
              Card
              `),u&&u.l(d),d.forEach(g),l=q(h),c&&c.l(h),r=re(),this.h()},h(){t.checked=n=i[2].size===i[1].length,z(t,"type","checkbox"),z(t,"class","form-check-input"),z(e,"class","list-item-content svelte-yiv33b")},m(h,d){w(h,e,d),F(e,t),F(e,s),u&&u.m(e,null),w(h,l,d),c&&c.m(h,d),w(h,r,d),o=!0,a||(f=[E(t,"click",oO),E(t,"change",i[9])],a=!0)},p(h,d){(!o||d&6&&n!==(n=h[2].size===h[1].length))&&(t.checked=n),h[2].size>1?u?u.p(h,d):(u=ah(h),u.c(),u.m(e,null)):u&&(u.d(1),u=null),h[2].size>1?c?(c.p(h,d),d&4&&_(c,1)):(c=fh(h),c.c(),_(c,1),c.m(r.parentNode,r)):c&&(ge(),k(c,1,1,()=>{c=null}),be())},i(h){o||(_(c),o=!0)},o(h){k(c),o=!1},d(h){h&&g(e),u&&u.d(),h&&g(l),c&&c.d(h),h&&g(r),a=!1,Ge(f)}}}function Jw(i){let e,t;return e=new Rt({props:{name:"files"}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p:ie,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function eO(i){let e;return{c(){e=Z("Duplicate")},l(t){e=K(t,"Duplicate")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function tO(i){let e,t;return e=new Rt({props:{name:"trash-fill"}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p:ie,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function nO(i){let e;return{c(){e=Z("Delete")},l(t){e=K(t,"Delete")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function iO(i){let e,t,n,s,l=i[19].title+"",r,o,a,f,u,c,h,d,m,p,b,y,O,C;function D(...S){return i[14](i[21],...S)}function A(...S){return i[15](i[19],...S)}f=new ct({props:{id:"duplicate-button-"+i[21],color:"link",size:"sm",class:"link-info",$$slots:{default:[Jw]},$$scope:{ctx:i}}}),f.$on("click",A),c=new Kl({props:{target:`duplicate-button-${i[21]}`,placement:"right",$$slots:{default:[eO]},$$scope:{ctx:i}}});function P(...S){return i[16](i[18],i[21],i[19],...S)}return d=new ct({props:{id:"delete-button-"+i[21],color:"link",size:"sm",class:"link-danger",$$slots:{default:[tO]},$$scope:{ctx:i}}}),d.$on("click",P),p=new Kl({props:{target:`delete-button-${i[21]}`,placement:"right",$$slots:{default:[nO]},$$scope:{ctx:i}}}),{c(){e=M("div"),t=M("input"),s=U(),r=Z(l),o=U(),a=M("div"),N(f.$$.fragment),u=U(),N(c.$$.fragment),h=U(),N(d.$$.fragment),m=U(),N(p.$$.fragment),b=U(),this.h()},l(S){e=I(S,"DIV",{class:!0});var H=V(e);t=I(H,"INPUT",{type:!0,class:!0}),s=q(H),r=K(H,l),H.forEach(g),o=q(S),a=I(S,"DIV",{});var X=V(a);Q(f.$$.fragment,X),u=q(X),Q(c.$$.fragment,X),h=q(X),Q(d.$$.fragment,X),m=q(X),Q(p.$$.fragment,X),X.forEach(g),b=q(S),this.h()},h(){t.checked=n=i[2].has(i[21]),z(t,"type","checkbox"),z(t,"class","form-check-input"),z(e,"class","list-item-content svelte-yiv33b")},m(S,H){w(S,e,H),F(e,t),F(e,s),F(e,r),w(S,o,H),w(S,a,H),L(f,a,null),F(a,u),L(c,a,null),F(a,h),L(d,a,null),F(a,m),L(p,a,null),w(S,b,H),y=!0,O||(C=[E(t,"click",aO),E(t,"change",D)],O=!0)},p(S,H){i=S,(!y||H&4&&n!==(n=i[2].has(i[21])))&&(t.checked=n),(!y||H&1)&&l!==(l=i[19].title+"")&&$e(r,l);const X={};H&4194304&&(X.$$scope={dirty:H,ctx:i}),f.$set(X);const $={};H&4194304&&($.$$scope={dirty:H,ctx:i}),c.$set($);const ne={};H&4194304&&(ne.$$scope={dirty:H,ctx:i}),d.$set(ne);const j={};H&4194304&&(j.$$scope={dirty:H,ctx:i}),p.$set(j)},i(S){y||(_(f.$$.fragment,S),_(c.$$.fragment,S),_(d.$$.fragment,S),_(p.$$.fragment,S),y=!0)},o(S){k(f.$$.fragment,S),k(c.$$.fragment,S),k(d.$$.fragment,S),k(p.$$.fragment,S),y=!1},d(S){S&&g(e),S&&g(o),S&&g(a),B(f),B(c),B(d),B(p),S&&g(b),O=!1,Ge(C)}}}function uh(i){let e,t;function n(...s){return i[17](i[21],...s)}return e=new mp({props:{active:i[2].size===0&&i[21]===i[3]||i[2].has(i[21]),tag:"button",action:!0,class:"list-item-w-buttons",$$slots:{default:[iO]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){N(e.$$.fragment)},l(s){Q(e.$$.fragment,s)},m(s,l){L(e,s,l),t=!0},p(s,l){i=s;const r={};l&12&&(r.active=i[2].size===0&&i[21]===i[3]||i[2].has(i[21])),l&4194309&&(r.$$scope={dirty:l,ctx:i}),e.$set(r)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){B(e,s)}}}function sO(i){let e,t,n,s;e=new mp({props:{color:"secondary",class:"list-item-w-buttons",$$slots:{default:[xw]},$$scope:{ctx:i}}});let l=i[0],r=[];for(let a=0;a<l.length;a+=1)r[a]=uh(oh(i,l,a));const o=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){N(e.$$.fragment),t=U();for(let a=0;a<r.length;a+=1)r[a].c();n=re()},l(a){Q(e.$$.fragment,a),t=q(a);for(let f=0;f<r.length;f+=1)r[f].l(a);n=re()},m(a,f){L(e,a,f),w(a,t,f);for(let u=0;u<r.length;u+=1)r[u].m(a,f);w(a,n,f),s=!0},p(a,f){const u={};if(f&4194310&&(u.$$scope={dirty:f,ctx:a}),e.$set(u),f&3229){l=a[0];let c;for(c=0;c<l.length;c+=1){const h=oh(a,l,c);r[c]?(r[c].p(h,f),_(r[c],1)):(r[c]=uh(h),r[c].c(),_(r[c],1),r[c].m(n.parentNode,n))}for(ge(),c=l.length;c<r.length;c+=1)o(c);be()}},i(a){if(!s){_(e.$$.fragment,a);for(let f=0;f<l.length;f+=1)_(r[f]);s=!0}},o(a){k(e.$$.fragment,a),r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)k(r[f]);s=!1},d(a){B(e,a),a&&g(t),Yi(r,a),a&&g(n)}}}function rO(i){let e,t,n,s,l,r,o,a,f,u;n=new ct({props:{color:"primary",$$slots:{default:[Gw]},$$scope:{ctx:i}}}),n.$on("click",i[5]);function c(){return i[12](i[18])}l=new ct({props:{color:"danger",disabled:!i[0]||i[0].length===0,$$slots:{default:[Xw]},$$scope:{ctx:i}}}),l.$on("click",c);const h=[Kw,Zw],d=[];function m(p,b){return p[0]&&p[0].length>0?0:1}return a=m(i),f=d[a]=h[a](i),{c(){e=M("div"),t=M("div"),N(n.$$.fragment),s=U(),N(l.$$.fragment),r=U(),o=M("div"),f.c(),this.h()},l(p){e=I(p,"DIV",{class:!0});var b=V(e);t=I(b,"DIV",{class:!0});var y=V(t);Q(n.$$.fragment,y),s=q(y),Q(l.$$.fragment,y),y.forEach(g),r=q(b),o=I(b,"DIV",{class:!0});var O=V(o);f.l(O),O.forEach(g),b.forEach(g),this.h()},h(){z(t,"class","deck-list-buttons"),z(o,"class","deck-list svelte-yiv33b"),z(e,"class","deck-wrapper svelte-yiv33b")},m(p,b){w(p,e,b),F(e,t),L(n,t,null),F(t,s),L(l,t,null),F(e,r),F(e,o),d[a].m(o,null),u=!0},p(p,b){i=p;const y={};b&4194304&&(y.$$scope={dirty:b,ctx:i}),n.$set(y);const O={};b&1&&(O.disabled=!i[0]||i[0].length===0),b&4194304&&(O.$$scope={dirty:b,ctx:i}),l.$set(O);let C=a;a=m(i),a===C?d[a].p(i,b):(ge(),k(d[C],1,1,()=>{d[C]=null}),be(),f=d[a],f?f.p(i,b):(f=d[a]=h[a](i),f.c()),_(f,1),f.m(o,null))},i(p){u||(_(n.$$.fragment,p),_(l.$$.fragment,p),_(f),u=!0)},o(p){k(n.$$.fragment,p),k(l.$$.fragment,p),k(f),u=!1},d(p){p&&g(e),B(n),B(l),d[a].d()}}}function lO(i){let e,t;return e=new $w({props:{danger:!0,$$slots:{default:[rO,({confirm:n})=>({18:n}),({confirm:n})=>n?262144:0]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,[s]){const l={};s&4194319&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}const oO=i=>i.stopPropagation(),aO=i=>i.stopPropagation();function fO(i,e,t){let n,s,l;Et(i,nn,A=>t(1,n=A)),Et(i,cs,A=>t(2,s=A)),Et(i,Cn,A=>t(3,l=A));let r;const o=A=>{Cn.set(-1),Cn.set(A)},a=()=>{const A=nn.addCards(Nw());Cn.set(A)},f=()=>{nn.set([]),s.clear()},u=A=>{nn.removeCards(A),l>n.length-1&&Cn.set(n.length-1)},c=()=>{nn.removeCards(...s.values()),cs.clear()},h=()=>{if(n.every((A,P)=>s.has(P))){Cn.set(-2),cs.clear();return}cs.add(...n.map((A,P)=>P)),Cn.set(-1)},d=(A,P)=>{P?cs.add(A):cs.remove(A)},m=A=>{const P=Vs(ci({},A),{contents:A.contents.map(S=>Vs(ci({},S),{id:ur()}))});nn.addCards(P),Cn.set(n.length-1)},p=A=>A({func:()=>f(),title:"Clear deck",body:"Are you sure you want to clear the deck?"}),b=A=>A({func:c,title:`Delete ${s.size} cards?`,body:`Are you sure you want to delete ${s.size} cards?`}),y=(A,P)=>d(A,P.currentTarget.checked),O=(A,P)=>{P.stopPropagation(),m(A)},C=(A,P,S,H)=>{H.stopPropagation(),A({func:()=>u(P),title:`Delete ${S.title}`,body:`Are you sure you want to delete ${S.title}?`})},D=(A,P)=>{P.preventDefault(),P.stopPropagation(),o(A)};return i.$$.update=()=>{i.$$.dirty&3&&(t(0,r=n),r&&r.length===0&&Cn.set(-1))},[r,n,s,l,o,a,f,u,c,h,d,m,p,b,y,O,C,D]}class uO extends ke{constructor(e){super();ye(this,e,fO,lO,we,{})}}function cO(i){let e;return{c(){e=Z("?")},l(t){e=K(t,"?")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function hO(i){let e;const t=i[1].default,n=ce(t,i,i[2],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&4)&&he(n,t,s,s[2],e?me(t,s[2],l,null):de(s[2]),null)},i(s){e||(_(n,s),e=!0)},o(s){k(n,s),e=!1},d(s){n&&n.d(s)}}}function dO(i){let e,t,n,s;return e=new _v({props:{id:i[0],pill:!0,color:"info",$$slots:{default:[cO]},$$scope:{ctx:i}}}),n=new Kl({props:{target:i[0],$$slots:{default:[hO]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment),t=U(),N(n.$$.fragment)},l(l){Q(e.$$.fragment,l),t=q(l),Q(n.$$.fragment,l)},m(l,r){L(e,l,r),w(l,t,r),L(n,l,r),s=!0},p(l,[r]){const o={};r&1&&(o.id=l[0]),r&4&&(o.$$scope={dirty:r,ctx:l}),e.$set(o);const a={};r&1&&(a.target=l[0]),r&4&&(a.$$scope={dirty:r,ctx:l}),n.$set(a)},i(l){s||(_(e.$$.fragment,l),_(n.$$.fragment,l),s=!0)},o(l){k(e.$$.fragment,l),k(n.$$.fragment,l),s=!1},d(l){B(e,l),l&&g(t),B(n,l)}}}function mO(i,e,t){let{$$slots:n={},$$scope:s}=e,{id:l=ur()}=e;return i.$$set=r=>{"id"in r&&t(0,l=r.id),"$$scope"in r&&t(2,s=r.$$scope)},[l,n,s]}class Lr extends ke{constructor(e){super();ye(this,e,mO,dO,we,{id:0})}}const vp=(i,e)=>{let t;const n=()=>window.removeEventListener("keydown",t),s=()=>{n(),e&&(t=l=>{!!e.alt!=l.altKey||!!e.shift!=l.shiftKey||!!e.control!=(l.ctrlKey||l.metaKey)||e.code!=l.code||(l.preventDefault(),e.callback?e.callback():i.click())},window.addEventListener("keydown",t))};return s(),{update:s,destroy:n}};let qs="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(i=>i?parseInt(i,36):1);for(let i=1;i<qs.length;i++)qs[i]+=qs[i-1];function pO(i){for(let e=1;e<qs.length;e+=2)if(qs[e]>i)return qs[e-1]<=i;return!1}function ch(i){return i>=127462&&i<=127487}const hh=8205;function gn(i,e,t=!0,n=!0){return(t?kp:gO)(i,e,n)}function kp(i,e,t){if(e==i.length)return e;e&&yp(i.charCodeAt(e))&&wp(i.charCodeAt(e-1))&&e--;let n=Ut(i,e);for(e+=Dn(n);e<i.length;){let s=Ut(i,e);if(n==hh||s==hh||t&&pO(s))e+=Dn(s),n=s;else if(ch(s)){let l=0,r=e-2;for(;r>=0&&ch(Ut(i,r));)l++,r-=2;if(l%2==0)break;e+=2}else break}return e}function gO(i,e,t){for(;e>0;){let n=kp(i,e-2,t);if(n<e)return n;e--}return 0}function yp(i){return i>=56320&&i<57344}function wp(i){return i>=55296&&i<56320}function Ut(i,e){let t=i.charCodeAt(e);if(!wp(t)||e+1==i.length)return t;let n=i.charCodeAt(e+1);return yp(n)?(t-55296<<10)+(n-56320)+65536:t}function pu(i){return i<=65535?String.fromCharCode(i):(i-=65536,String.fromCharCode((i>>10)+55296,(i&1023)+56320))}function Dn(i){return i<65536?1:2}function xr(i,e,t=i.length){let n=0;for(let s=0;s<t;)i.charCodeAt(s)==9?(n+=e-n%e,s++):(n++,s=gn(i,s));return n}function xa(i,e,t,n){for(let s=0,l=0;;){if(l>=e)return s;if(s==i.length)break;l+=i.charCodeAt(s)==9?t-l%t:1,s=gn(i,s)}return n===!0?-1:i.length}class tt{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){let s=[];return this.decompose(0,e,s,2),n.length&&n.decompose(0,n.length,s,3),this.decompose(t,this.length,s,1),$n.from(s,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let n=[];return this.decompose(e,t,n,0),$n.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),s=new Ar(this),l=new Ar(e);for(let r=t,o=t;;){if(s.next(r),l.next(r),r=0,s.lineBreak!=l.lineBreak||s.done!=l.done||s.value!=l.value)return!1;if(o+=s.value.length,s.done||o>=n)return!0}}iter(e=1){return new Ar(this,e)}iterRange(e,t=this.length){return new Op(this,e,t)}iterLines(e,t){let n;if(e==null)n=this.iter();else{t==null&&(t=this.lines+1);let s=this.line(e).from;n=this.iterRange(s,Math.max(s,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new Sp(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?tt.empty:e.length<=32?new _t(e):$n.from(_t.split(e,[]))}}class _t extends tt{constructor(e,t=bO(e)){super();this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,s){for(let l=0;;l++){let r=this.text[l],o=s+r.length;if((t?n:o)>=e)return new _O(s,o,n,r);s=o+1,n++}}decompose(e,t,n,s){let l=e<=0&&t>=this.length?this:new _t(dh(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(s&1){let r=n.pop(),o=Ll(l.text,r.text.slice(),0,l.length);if(o.length<=32)n.push(new _t(o,r.length+l.length));else{let a=o.length>>1;n.push(new _t(o.slice(0,a)),new _t(o.slice(a)))}}else n.push(l)}replace(e,t,n){if(!(n instanceof _t))return super.replace(e,t,n);let s=Ll(this.text,Ll(n.text,dh(this.text,0,e)),t),l=this.length+n.length-(t-e);return s.length<=32?new _t(s,l):$n.from(_t.split(s,[]),l)}sliceString(e,t=this.length,n=`
`){let s="";for(let l=0,r=0;l<=t&&r<this.text.length;r++){let o=this.text[r],a=l+o.length;l>e&&r&&(s+=n),e<a&&t>l&&(s+=o.slice(Math.max(0,e-l),t-l)),l=a+1}return s}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let n=[],s=-1;for(let l of e)n.push(l),s+=l.length+1,n.length==32&&(t.push(new _t(n,s)),n=[],s=-1);return s>-1&&t.push(new _t(n,s)),t}}class $n extends tt{constructor(e,t){super();this.children=e,this.length=t,this.lines=0;for(let n of e)this.lines+=n.lines}lineInner(e,t,n,s){for(let l=0;;l++){let r=this.children[l],o=s+r.length,a=n+r.lines-1;if((t?a:o)>=e)return r.lineInner(e,t,n,s);s=o+1,n=a+1}}decompose(e,t,n,s){for(let l=0,r=0;r<=t&&l<this.children.length;l++){let o=this.children[l],a=r+o.length;if(e<=a&&t>=r){let f=s&((r<=e?1:0)|(a>=t?2:0));r>=e&&a<=t&&!f?n.push(o):o.decompose(e-r,t-r,n,f)}r=a+1}}replace(e,t,n){if(n.lines<this.lines)for(let s=0,l=0;s<this.children.length;s++){let r=this.children[s],o=l+r.length;if(e>=l&&t<=o){let a=r.replace(e-l,t-l,n),f=this.lines-r.lines+a.lines;if(a.lines<f>>5-1&&a.lines>f>>5+1){let u=this.children.slice();return u[s]=a,new $n(u,this.length-(t-e)+n.length)}return super.replace(l,o,a)}l=o+1}return super.replace(e,t,n)}sliceString(e,t=this.length,n=`
`){let s="";for(let l=0,r=0;l<this.children.length&&r<=t;l++){let o=this.children[l],a=r+o.length;r>e&&l&&(s+=n),e<a&&t>r&&(s+=o.sliceString(e-r,t-r,n)),r=a+1}return s}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof $n))return 0;let n=0,[s,l,r,o]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;s+=t,l+=t){if(s==r||l==o)return n;let a=this.children[s],f=e.children[l];if(a!=f)return n+a.scanIdentical(f,t);n+=a.length+1}}static from(e,t=e.reduce((n,s)=>n+s.length+1,-1)){let n=0;for(let d of e)n+=d.lines;if(n<32){let d=[];for(let m of e)m.flatten(d);return new _t(d,t)}let s=Math.max(32,n>>5),l=s<<1,r=s>>1,o=[],a=0,f=-1,u=[];function c(d){let m;if(d.lines>l&&d instanceof $n)for(let p of d.children)c(p);else d.lines>r&&(a>r||!a)?(h(),o.push(d)):d instanceof _t&&a&&(m=u[u.length-1])instanceof _t&&d.lines+m.lines<=32?(a+=d.lines,f+=d.length+1,u[u.length-1]=new _t(m.text.concat(d.text),m.length+1+d.length)):(a+d.lines>s&&h(),a+=d.lines,f+=d.length+1,u.push(d))}function h(){a!=0&&(o.push(u.length==1?u[0]:$n.from(u,f)),f=-1,a=u.length=0)}for(let d of e)c(d);return h(),o.length==1?o[0]:new $n(o,t)}}tt.empty=new _t([""],0);function bO(i){let e=-1;for(let t of i)e+=t.length+1;return e}function Ll(i,e,t=0,n=1e9){for(let s=0,l=0,r=!0;l<i.length&&s<=n;l++){let o=i[l],a=s+o.length;a>=t&&(a>n&&(o=o.slice(0,n-s)),s<t&&(o=o.slice(t-s)),r?(e[e.length-1]+=o,r=!1):e.push(o)),s=a+1}return e}function dh(i,e,t){return Ll(i,[""],e,t)}class Ar{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof _t?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,s=this.nodes[n],l=this.offsets[n],r=l>>1,o=s instanceof _t?s.text.length:s.children.length;if(r==(t>0?o:0)){if(n==0)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((l&1)==(t>0?0:1)){if(this.offsets[n]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(s instanceof _t){let a=s.text[r+(t<0?-1:0)];if(this.offsets[n]+=t,a.length>Math.max(0,e))return this.value=e==0?a:t>0?a.slice(e):a.slice(0,a.length-e),this;e-=a.length}else{let a=s.children[r+(t<0?-1:0)];e>a.length?(e-=a.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(a),this.offsets.push(t>0?1:(a instanceof _t?a.text.length:a.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Op{constructor(e,t,n){this.value="",this.done=!1,this.cursor=new Ar(e,t>n?-1:1),this.pos=t>n?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:s}=this.cursor.next(e);return this.pos+=(s.length+e)*t,this.value=s.length<=n?s:t<0?s.slice(s.length-n):s.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Sp{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:n,value:s}=this.inner.next(e);return t?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=s,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol!="undefined"&&(tt.prototype[Symbol.iterator]=function(){return this.iter()},Ar.prototype[Symbol.iterator]=Op.prototype[Symbol.iterator]=Sp.prototype[Symbol.iterator]=function(){return this});class _O{constructor(e,t,n,s){this.from=e,this.to=t,this.number=n,this.text=s}get length(){return this.to-this.from}}const Ja=/\r\n?|\n/;var Kt=function(i){return i[i.Simple=0]="Simple",i[i.TrackDel=1]="TrackDel",i[i.TrackBefore=2]="TrackBefore",i[i.TrackAfter=3]="TrackAfter",i}(Kt||(Kt={}));class bi{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,s=0;t<this.sections.length;){let l=this.sections[t++],r=this.sections[t++];r<0?(e(n,s,l),s+=l):s+=r,n+=l}}iterChangedRanges(e,t=!1){ef(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],s=this.sections[t++];s<0?e.push(n,s):e.push(s,n)}return new bi(e)}composeDesc(e){return this.empty?e:e.empty?this:Cp(this,e)}mapDesc(e,t=!1){return e.empty?this:tf(this,e,t)}mapPos(e,t=-1,n=Kt.Simple){let s=0,l=0;for(let r=0;r<this.sections.length;){let o=this.sections[r++],a=this.sections[r++],f=s+o;if(a<0){if(f>e)return l+(e-s);l+=o}else{if(n!=Kt.Simple&&f>=e&&(n==Kt.TrackDel&&s<e&&f>e||n==Kt.TrackBefore&&s<e||n==Kt.TrackAfter&&f>e))return null;if(f>e||f==e&&t<0&&!o)return e==s||t<0?l:l+a;l+=a}s=f}if(e>s)throw new RangeError(`Position ${e} is out of range for changeset of length ${s}`);return l}touchesRange(e,t=e){for(let n=0,s=0;n<this.sections.length&&s<=t;){let l=this.sections[n++],r=this.sections[n++],o=s+l;if(r>=0&&s<=t&&o>=e)return s<e&&o>t?"cover":!0;s=o}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],s=this.sections[t++];e+=(e?" ":"")+n+(s>=0?":"+s:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new bi(e)}}class Pt extends bi{constructor(e,t){super(e);this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return ef(this,(t,n,s,l,r)=>e=e.replace(s,s+(n-t),r),!1),e}mapDesc(e,t=!1){return tf(this,e,t,!0)}invert(e){let t=this.sections.slice(),n=[];for(let s=0,l=0;s<t.length;s+=2){let r=t[s],o=t[s+1];if(o>=0){t[s]=o,t[s+1]=r;let a=s>>1;for(;n.length<a;)n.push(tt.empty);n.push(r?e.slice(l,l+r):tt.empty)}l+=r}return new Pt(t,n)}compose(e){return this.empty?e:e.empty?this:Cp(this,e,!0)}map(e,t=!1){return e.empty?this:tf(this,e,t,!0)}iterChanges(e,t=!1){ef(this,e,t)}get desc(){return new bi(this.sections)}filter(e){let t=[],n=[],s=[],l=new Br(this);e:for(let r=0,o=0;;){let a=r==e.length?1e9:e[r++];for(;o<a||o==a&&l.len==0;){if(l.done)break e;let u=Math.min(l.len,a-o);Zt(s,u,-1);let c=l.ins==-1?-1:l.off==0?l.ins:0;Zt(t,u,c),c>0&&ps(n,t,l.text),l.forward(u),o+=u}let f=e[r++];for(;o<f;){if(l.done)break e;let u=Math.min(l.len,f-o);Zt(t,u,-1),Zt(s,u,l.ins==-1?-1:l.off==0?l.ins:0),l.forward(u),o+=u}}return{changes:new Pt(t,n),filtered:new bi(s)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],s=this.sections[t+1];s<0?e.push(n):s==0?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,n){let s=[],l=[],r=0,o=null;function a(u=!1){if(!u&&!s.length)return;r<t&&Zt(s,t-r,-1);let c=new Pt(s,l);o=o?o.compose(c.map(o)):c,s=[],l=[],r=0}function f(u){if(Array.isArray(u))for(let c of u)f(c);else if(u instanceof Pt){if(u.length!=t)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${t})`);a(),o=o?o.compose(u.map(o)):u}else{let{from:c,to:h=c,insert:d}=u;if(c>h||c<0||h>t)throw new RangeError(`Invalid change range ${c} to ${h} (in doc of length ${t})`);let m=d?typeof d=="string"?tt.of(d.split(n||Ja)):d:tt.empty,p=m.length;if(c==h&&p==0)return;c<r&&a(),c>r&&Zt(s,c-r,-1),Zt(s,h-c,p),ps(l,s,m),r=h}}return f(e),a(!o),o}static empty(e){return new Pt(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],n=[];for(let s=0;s<e.length;s++){let l=e[s];if(typeof l=="number")t.push(l,-1);else{if(!Array.isArray(l)||typeof l[0]!="number"||l.some((r,o)=>o&&typeof r!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(l.length==1)t.push(l[0],0);else{for(;n.length<s;)n.push(tt.empty);n[s]=tt.of(l.slice(1)),t.push(l[0],n[s].length)}}}return new Pt(t,n)}}function Zt(i,e,t,n=!1){if(e==0&&t<=0)return;let s=i.length-2;s>=0&&t<=0&&t==i[s+1]?i[s]+=e:e==0&&i[s]==0?i[s+1]+=t:n?(i[s]+=e,i[s+1]+=t):i.push(e,t)}function ps(i,e,t){if(t.length==0)return;let n=e.length-2>>1;if(n<i.length)i[i.length-1]=i[i.length-1].append(t);else{for(;i.length<n;)i.push(tt.empty);i.push(t)}}function ef(i,e,t){let n=i.inserted;for(let s=0,l=0,r=0;r<i.sections.length;){let o=i.sections[r++],a=i.sections[r++];if(a<0)s+=o,l+=o;else{let f=s,u=l,c=tt.empty;for(;f+=o,u+=a,a&&n&&(c=c.append(n[r-2>>1])),!(t||r==i.sections.length||i.sections[r+1]<0);)o=i.sections[r++],a=i.sections[r++];e(s,f,l,u,c),s=f,l=u}}}function tf(i,e,t,n=!1){let s=[],l=n?[]:null,r=new Br(i),o=new Br(e);for(let a=0,f=0;;)if(r.ins==-1)a+=r.len,r.next();else if(o.ins==-1&&f<a){let u=Math.min(o.len,a-f);o.forward(u),Zt(s,u,-1),f+=u}else if(o.ins>=0&&(r.done||f<a||f==a&&(o.len<r.len||o.len==r.len&&!t))){for(Zt(s,o.ins,-1);a>f&&!r.done&&a+r.len<f+o.len;)a+=r.len,r.next();f+=o.len,o.next()}else if(r.ins>=0){let u=0,c=a+r.len;for(;;)if(o.ins>=0&&f>a&&f+o.len<c)u+=o.ins,f+=o.len,o.next();else if(o.ins==-1&&f<c){let h=Math.min(o.len,c-f);u+=h,o.forward(h),f+=h}else break;Zt(s,u,r.ins),l&&ps(l,s,r.text),a=c,r.next()}else{if(r.done&&o.done)return l?new Pt(s,l):new bi(s);throw new Error("Mismatched change set lengths")}}function Cp(i,e,t=!1){let n=[],s=t?[]:null,l=new Br(i),r=new Br(e);for(let o=!1;;){if(l.done&&r.done)return s?new Pt(n,s):new bi(n);if(l.ins==0)Zt(n,l.len,0,o),l.next();else if(r.len==0&&!r.done)Zt(n,0,r.ins,o),s&&ps(s,n,r.text),r.next();else{if(l.done||r.done)throw new Error("Mismatched change set lengths");{let a=Math.min(l.len2,r.len),f=n.length;if(l.ins==-1){let u=r.ins==-1?-1:r.off?0:r.ins;Zt(n,a,u,o),s&&u&&ps(s,n,r.text)}else r.ins==-1?(Zt(n,l.off?0:l.len,a,o),s&&ps(s,n,l.textBit(a))):(Zt(n,l.off?0:l.len,r.off?0:r.ins,o),s&&!r.off&&ps(s,n,r.text));o=(l.ins>a||r.ins>=0&&r.len>a)&&(o||n.length>f),l.forward2(a),r.forward(a)}}}}class Br{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?tt.empty:e[t]}textBit(e){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length&&!e?tt.empty:t[n].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Ws{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let e=this.flags&3;return e==3?null:e}get goalColumn(){let e=this.flags>>5;return e==33554431?void 0:e}map(e,t=-1){let n=e.mapPos(this.from,t),s=e.mapPos(this.to,t);return n==this.from&&s==this.to?this:new Ws(n,s,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return J.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return J.range(this.anchor,n)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return J.range(e.anchor,e.head)}}class J{constructor(e,t=0){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:J.create(this.ranges.map(n=>n.map(e,t)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new J([this.main])}addRange(e,t=!0){return J.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let n=this.ranges.slice();return n[t]=e,J.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new J(e.ranges.map(t=>Ws.fromJSON(t)),e.main)}static single(e,t=e){return new J([J.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let n=0,s=0;s<e.length;s++){let l=e[s];if(l.empty?l.from<=n:l.from<n)return vO(e.slice(),t);n=l.to}return new J(e,t)}static cursor(e,t=0,n,s){return new Ws(e,e,(t==0?0:t<0?4:8)|(n==null?3:Math.min(2,n))|(s!=null?s:33554431)<<5)}static range(e,t,n){let s=(n!=null?n:33554431)<<5;return t<e?new Ws(t,e,16|s):new Ws(e,t,s)}}function vO(i,e=0){let t=i[e];i.sort((n,s)=>n.from-s.from),e=i.indexOf(t);for(let n=1;n<i.length;n++){let s=i[n],l=i[n-1];if(s.empty?s.from<=l.to:s.from<l.to){let r=l.from,o=Math.max(s.to,l.to);n<=e&&e--,i.splice(--n,2,s.anchor>s.head?J.range(o,r):J.range(r,o))}}return new J(i,e)}function Ap(i,e){for(let t of i.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let gu=0;class Ae{constructor(e,t,n,s,l){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=s,this.extensions=l,this.id=gu++,this.default=e([])}static define(e={}){return new Ae(e.combine||(t=>t),e.compareInput||((t,n)=>t===n),e.compare||(e.combine?(t,n)=>t===n:kO),!!e.static,e.enables)}of(e){return new Bl([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Bl(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Bl(e,this,2,t)}from(e,t){return t||(t=n=>n),this.compute([e],n=>t(n.field(e)))}}function kO(i,e){return i==e||i.length==e.length&&i.every((t,n)=>t===e[n])}class Bl{constructor(e,t,n,s){this.dependencies=e,this.facet=t,this.type=n,this.value=s,this.id=gu++}dynamicSlot(e){var t;let n=this.value,s=this.facet.compareInput,l=e[this.id]>>1,r=this.type==2,o=!1,a=!1,f=[];for(let u of this.dependencies)u=="doc"?o=!0:u=="selection"?a=!0:(((t=e[u.id])!==null&&t!==void 0?t:1)&1)==0&&f.push(e[u.id]);return(u,c)=>{let h=u.values[l];if(h===Qr)return u.values[l]=n(u),1;if(c&&(o&&c.docChanged||a&&(c.docChanged||c.selection)||f.some(m=>(Er(u,m)&1)>0))){let m=n(u);if(r?!yO(m,h,s):!s(m,h))return u.values[l]=m,1}return 0}}}function yO(i,e,t){if(i.length!=e.length)return!1;for(let n=0;n<i.length;n++)if(!t(i[n],e[n]))return!1;return!0}function wO(i,e,t){let n=t.map(o=>i[o.id]),s=t.map(o=>o.type),l=n.filter(o=>!(o&1)),r=i[e.id]>>1;return(o,a)=>{let f=o.values[r],u=f===Qr||!a;for(let d of l)Er(o,d)&1&&(u=!0);if(!u)return 0;let c=[];for(let d=0;d<n.length;d++){let m=$s(o,n[d]);if(s[d]==2)for(let p of m)c.push(p);else c.push(m)}let h=e.combine(c);return f!==Qr&&e.compare(h,f)?0:(o.values[r]=h,1)}}const mh=Ae.define({static:!0});class Nt{constructor(e,t,n,s,l){this.id=e,this.createF=t,this.updateF=n,this.compareF=s,this.spec=l,this.provides=void 0}static define(e){let t=new Nt(gu++,e.create,e.update,e.compare||((n,s)=>n===s),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(mh).find(n=>n.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return(n,s)=>{let l=n.values[t];if(l===Qr)return n.values[t]=this.create(n),1;if(s){let r=this.updateF(l,s);if(!this.compareF(l,r))return n.values[t]=r,1}return 0}}init(e){return[this,mh.of({field:this,create:e})]}get extension(){return this}}const di={lowest:4,low:3,default:2,high:1,highest:0};function Pi(i){return e=>new Ep(e,i)}const Jr={lowest:Pi(di.lowest),low:Pi(di.low),default:Pi(di.default),high:Pi(di.high),highest:Pi(di.highest),fallback:Pi(di.lowest),extend:Pi(di.high),override:Pi(di.highest)};class Ep{constructor(e,t){this.inner=e,this.prec=t}}class Lo{of(e){return new nf(this,e)}reconfigure(e){return Lo.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class nf{constructor(e,t){this.compartment=e,this.inner=t}}class Yl{constructor(e,t,n,s,l){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=s,this.staticValues=l,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,n){let s=[],l=Object.create(null),r=new Map;for(let h of OO(e,t,r))h instanceof Nt?s.push(h):(l[h.facet.id]||(l[h.facet.id]=[])).push(h);let o=Object.create(null),a=[],f=[],u=[];for(let h of s)o[h.id]=f.length<<1,f.push(d=>h.slot(d)),u.push([]);for(let h in l){let d=l[h],m=d[0].facet;if(d.every(p=>p.type==0)){o[m.id]=a.length<<1|1;let p=m.combine(d.map(y=>y.value)),b=n?n.config.address[m.id]:null;if(b!=null){let y=$s(n,b);m.compare(p,y)&&(p=y)}a.push(p)}else{for(let p of d)p.type==0?(o[p.id]=a.length<<1|1,a.push(p.value)):(o[p.id]=f.length<<1,f.push(b=>p.dynamicSlot(b)),u.push(p.dependencies.filter(b=>typeof b!="string").map(b=>b.id)));o[m.id]=f.length<<1,f.push(p=>wO(p,m,d)),u.push(d.filter(p=>p.type!=0).map(p=>p.id))}}let c=f.map(h=>Qr);if(n){let h=(d,m)=>{if(m>7)return!1;let p=o[d];if(!(p&1))return u[p>>1].every(y=>h(y,m+1));let b=n.config.address[d];return b!=null&&$s(n,b)==a[p>>1]};for(let d in o){let m=o[d],p=n.config.address[d];p!=null&&(m&1)==0&&h(+d,0)&&(c[m>>1]=$s(n,p))}}return{configuration:new Yl(e,r,f.map(h=>h(o)),o,a),values:c}}}function OO(i,e,t){let n=[[],[],[],[],[]],s=new Map;function l(r,o){let a=s.get(r);if(a!=null){if(a>=o)return;let f=n[a].indexOf(r);f>-1&&n[a].splice(f,1),r instanceof nf&&t.delete(r.compartment)}if(s.set(r,o),Array.isArray(r))for(let f of r)l(f,o);else if(r instanceof nf){if(t.has(r.compartment))throw new RangeError("Duplicate use of compartment in extensions");let f=e.get(r.compartment)||r.inner;t.set(r.compartment,f),l(f,o)}else if(r instanceof Ep)l(r.inner,r.prec);else if(r instanceof Nt)n[o].push(r),r.provides&&l(r.provides,o);else if(r instanceof Bl)n[o].push(r),r.facet.extensions&&l(r.facet.extensions,o);else{let f=r.extension;if(!f)throw new Error(`Unrecognized extension value in extension set (${r}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);l(f,o)}}return l(i,di.default),n.reduce((r,o)=>r.concat(o))}const Qr={};function Er(i,e){if(e&1)return 2;let t=e>>1,n=i.status[t];if(n==4)throw new Error("Cyclic dependency between fields and/or facets");if(n&2)return n;i.status[t]=4;let s=i.config.dynamicSlots[t](i,i.applying);return i.status[t]=2|s}function $s(i,e){return e&1?i.config.staticValues[e>>1]:i.values[e>>1]}const Dp=Ae.define(),Tp=Ae.define({combine:i=>i.some(e=>e),static:!0}),Pp=Ae.define({combine:i=>i.length?i[0]:void 0,static:!0}),Mp=Ae.define(),Ip=Ae.define(),Rp=Ae.define(),Np=Ae.define({combine:i=>i.length?i[0]:!1});class es{constructor(e,t){this.type=e,this.value=t}static define(){return new SO}}class SO{of(e){return new es(this,e)}}class CO{constructor(e){this.map=e}of(e){return new Qe(this,e)}}class Qe{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new Qe(this.type,t)}is(e){return this.type==e}static define(e={}){return new CO(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let s of e){let l=s.map(t);l&&n.push(l)}return n}}Qe.reconfigure=Qe.define();Qe.appendConfig=Qe.define();class It{constructor(e,t,n,s,l,r){this.startState=e,this.changes=t,this.selection=n,this.effects=s,this.annotations=l,this.scrollIntoView=r,this._doc=null,this._state=null,n&&Ap(n,t.newLength),l.some(o=>o.type==It.time)||(this.annotations=l.concat(It.time.of(Date.now())))}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(It.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}It.time=es.define();It.userEvent=es.define();It.addToHistory=es.define();It.remote=es.define();function AO(i,e){let t=[];for(let n=0,s=0;;){let l,r;if(n<i.length&&(s==e.length||e[s]>=i[n]))l=i[n++],r=i[n++];else if(s<e.length)l=e[s++],r=e[s++];else return t;!t.length||t[t.length-1]<l?t.push(l,r):t[t.length-1]<r&&(t[t.length-1]=r)}}function Lp(i,e,t){var n;let s,l,r;return t?(s=e.changes,l=Pt.empty(e.changes.length),r=i.changes.compose(e.changes)):(s=e.changes.map(i.changes),l=i.changes.mapDesc(e.changes,!0),r=i.changes.compose(s)),{changes:r,selection:e.selection?e.selection.map(l):(n=i.selection)===null||n===void 0?void 0:n.map(s),effects:Qe.mapEffects(i.effects,s).concat(Qe.mapEffects(e.effects,l)),annotations:i.annotations.length?i.annotations.concat(e.annotations):e.annotations,scrollIntoView:i.scrollIntoView||e.scrollIntoView}}function sf(i,e,t){let n=e.selection,s=Gs(e.annotations);return e.userEvent&&(s=s.concat(It.userEvent.of(e.userEvent))),{changes:e.changes instanceof Pt?e.changes:Pt.of(e.changes||[],t,i.facet(Pp)),selection:n&&(n instanceof J?n:J.single(n.anchor,n.head)),effects:Gs(e.effects),annotations:s,scrollIntoView:!!e.scrollIntoView}}function Bp(i,e,t){let n=sf(i,e.length?e[0]:{},i.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let l=1;l<e.length;l++){e[l].filter===!1&&(t=!1);let r=!!e[l].sequential;n=Lp(n,sf(i,e[l],r?n.changes.newLength:i.doc.length),r)}let s=new It(i,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return DO(t?EO(s):s)}function EO(i){let e=i.startState,t=!0;for(let s of e.facet(Mp)){let l=s(i);if(l===!1){t=!1;break}Array.isArray(l)&&(t=t===!0?l:AO(t,l))}if(t!==!0){let s,l;if(t===!1)l=i.changes.invertedDesc,s=Pt.empty(e.doc.length);else{let r=i.changes.filter(t);s=r.changes,l=r.filtered.invertedDesc}i=new It(e,s,i.selection&&i.selection.map(l),Qe.mapEffects(i.effects,l),i.annotations,i.scrollIntoView)}let n=e.facet(Ip);for(let s=n.length-1;s>=0;s--){let l=n[s](i);l instanceof It?i=l:Array.isArray(l)&&l.length==1&&l[0]instanceof It?i=l[0]:i=Bp(e,Gs(l),!1)}return i}function DO(i){let e=i.startState,t=e.facet(Rp),n=i;for(let s=t.length-1;s>=0;s--){let l=t[s](i);l&&Object.keys(l).length&&(n=Lp(i,sf(e,l,i.changes.newLength),!0))}return n==i?i:new It(e,i.changes,i.selection,n.effects,n.annotations,n.scrollIntoView)}const TO=[];function Gs(i){return i==null?TO:Array.isArray(i)?i:[i]}var bn=function(i){return i[i.Word=0]="Word",i[i.Space=1]="Space",i[i.Other=2]="Other",i}(bn||(bn={}));const PO=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let rf;try{rf=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function MO(i){if(rf)return rf.test(i);for(let e=0;e<i.length;e++){let t=i[e];if(/\w/.test(t)||t>"\x80"&&(t.toUpperCase()!=t.toLowerCase()||PO.test(t)))return!0}return!1}function IO(i){return e=>{if(!/\S/.test(e))return bn.Space;if(MO(e))return bn.Word;for(let t=0;t<i.length;t++)if(e.indexOf(i[t])>-1)return bn.Word;return bn.Other}}class Xe{constructor(e,t,n,s,l=null){this.config=e,this.doc=t,this.selection=n,this.values=s,this.applying=null,this.status=e.statusTemplate.slice(),this.applying=l,l&&(l._state=this);for(let r=0;r<this.config.dynamicSlots.length;r++)Er(this,r<<1);this.applying=null}field(e,t=!0){let n=this.config.address[e.id];if(n==null){if(t)throw new RangeError("Field is not present in this state");return}return Er(this,n),$s(this,n)}update(...e){return Bp(this,e,!0)}applyTransaction(e){let t=this.config,{base:n,compartments:s}=t;for(let r of e.effects)r.is(Lo.reconfigure)?(t&&(s=new Map,t.compartments.forEach((o,a)=>s.set(a,o)),t=null),s.set(r.value.compartment,r.value.extension)):r.is(Qe.reconfigure)?(t=null,n=r.value):r.is(Qe.appendConfig)&&(t=null,n=Gs(n).concat(r.value));let l;if(t)l=e.startState.values.slice();else{let r=Yl.resolve(n,s,this);t=r.configuration,l=new Xe(t,this.doc,this.selection,r.values,null).values}new Xe(t,e.newDoc,e.newSelection,l,e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:J.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),s=this.changes(n.changes),l=[n.range],r=Gs(n.effects);for(let o=1;o<t.ranges.length;o++){let a=e(t.ranges[o]),f=this.changes(a.changes),u=f.map(s);for(let h=0;h<o;h++)l[h]=l[h].map(u);let c=s.mapDesc(f,!0);l.push(a.range.map(c)),s=s.compose(u),r=Qe.mapEffects(r,u).concat(Qe.mapEffects(Gs(a.effects),c))}return{changes:s,selection:J.create(l,t.mainIndex),effects:r}}changes(e=[]){return e instanceof Pt?e:Pt.of(e,this.doc.length,this.facet(Xe.lineSeparator))}toText(e){return tt.of(e.split(this.facet(Xe.lineSeparator)||Ja))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Er(this,t),$s(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let s=e[n];s instanceof Nt&&(t[n]=s.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e,t={},n){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let s=[];if(n)for(let l in n){let r=n[l],o=e[l];s.push(r.init(a=>r.spec.fromJSON(o,a)))}return Xe.create({doc:e.doc,selection:J.fromJSON(e.selection),extensions:t.extensions?s.concat([t.extensions]):s})}static create(e={}){let{configuration:t,values:n}=Yl.resolve(e.extensions||[],new Map),s=e.doc instanceof tt?e.doc:tt.of((e.doc||"").split(t.staticFacet(Xe.lineSeparator)||Ja)),l=e.selection?e.selection instanceof J?e.selection:J.single(e.selection.anchor,e.selection.head):J.single(0);return Ap(l,s.length),t.staticFacet(Tp)||(l=l.asSingle()),new Xe(t,s,l,n)}get tabSize(){return this.facet(Xe.tabSize)}get lineBreak(){return this.facet(Xe.lineSeparator)||`
`}get readOnly(){return this.facet(Np)}phrase(e){for(let t of this.facet(Xe.phrases))if(Object.prototype.hasOwnProperty.call(t,e))return t[e];return e}languageDataAt(e,t,n=-1){let s=[];for(let l of this.facet(Dp))for(let r of l(this,t,n))Object.prototype.hasOwnProperty.call(r,e)&&s.push(r[e]);return s}charCategorizer(e){return IO(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:n,length:s}=this.doc.lineAt(e),l=this.charCategorizer(e),r=e-n,o=e-n;for(;r>0;){let a=gn(t,r,!1);if(l(t.slice(a,r))!=bn.Word)break;r=a}for(;o<s;){let a=gn(t,o);if(l(t.slice(o,a))!=bn.Word)break;o=a}return r==o?null:J.range(r+n,o+n)}}Xe.allowMultipleSelections=Tp;Xe.tabSize=Ae.define({combine:i=>i.length?i[0]:4});Xe.lineSeparator=Pp;Xe.readOnly=Np;Xe.phrases=Ae.define();Xe.languageData=Dp;Xe.changeFilter=Mp;Xe.transactionFilter=Ip;Xe.transactionExtender=Rp;Lo.reconfigure=Qe.define();function ts(i,e,t={}){let n={};for(let s of i)for(let l of Object.keys(s)){let r=s[l],o=n[l];if(o===void 0)n[l]=r;else if(!(o===r||r===void 0))if(Object.hasOwnProperty.call(t,l))n[l]=t[l](o,r);else throw new Error("Config merge conflict for field "+l)}for(let s in e)n[s]===void 0&&(n[s]=e[s]);return n}const lf="\u037C",ph=typeof Symbol=="undefined"?"__"+lf:Symbol.for(lf),of=typeof Symbol=="undefined"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),gh=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:{};class Ui{constructor(e,t){this.rules=[];let{finish:n}=t||{};function s(r){return/^@/.test(r)?[r]:r.split(/,\s*/)}function l(r,o,a,f){let u=[],c=/^@(\w+)\b/.exec(r[0]),h=c&&c[1]=="keyframes";if(c&&o==null)return a.push(r[0]+";");for(let d in o){let m=o[d];if(/&/.test(d))l(d.split(/,\s*/).map(p=>r.map(b=>p.replace(/&/,b))).reduce((p,b)=>p.concat(b)),m,a);else if(m&&typeof m=="object"){if(!c)throw new RangeError("The value of a property ("+d+") should be a primitive value.");l(s(d),m,u,h)}else m!=null&&u.push(d.replace(/_.*/,"").replace(/[A-Z]/g,p=>"-"+p.toLowerCase())+": "+m+";")}(u.length||h)&&a.push((n&&!c&&!f?r.map(n):r).join(", ")+" {"+u.join(" ")+"}")}for(let r in e)l(s(r),e[r],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=gh[ph]||1;return gh[ph]=e+1,lf+e.toString(36)}static mount(e,t){(e[of]||new RO(e)).mount(Array.isArray(t)?t:[t])}}let gl=null;class RO{constructor(e){if(!e.head&&e.adoptedStyleSheets&&typeof CSSStyleSheet!="undefined"){if(gl)return e.adoptedStyleSheets=[gl.sheet].concat(e.adoptedStyleSheets),e[of]=gl;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet].concat(e.adoptedStyleSheets),gl=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let t=e.head||e;t.insertBefore(this.styleTag,t.firstChild)}this.modules=[],e[of]=this}mount(e){let t=this.sheet,n=0,s=0;for(let l=0;l<e.length;l++){let r=e[l],o=this.modules.indexOf(r);if(o<s&&o>-1&&(this.modules.splice(o,1),s--,o=-1),o==-1){if(this.modules.splice(s++,0,r),t)for(let a=0;a<r.rules.length;a++)t.insertRule(r.rules[a],n++)}else{for(;s<o;)n+=this.modules[s++].rules.length;n+=r.rules.length,s++}}if(!t){let l="";for(let r=0;r<this.modules.length;r++)l+=this.modules[r].getRules()+`
`;this.styleTag.textContent=l}}}class ws{eq(e){return this==e}range(e,t=e){return new af(e,t,this)}}ws.prototype.startSide=ws.prototype.endSide=0;ws.prototype.point=!1;ws.prototype.mapMode=Kt.TrackDel;class af{constructor(e,t,n){this.from=e,this.to=t,this.value=n}}function ff(i,e){return i.from-e.from||i.value.startSide-e.value.startSide}class bu{constructor(e,t,n,s){this.from=e,this.to=t,this.value=n,this.maxPoint=s}get length(){return this.to[this.to.length-1]}findIndex(e,t,n,s=0){let l=n?this.to:this.from;for(let r=s,o=l.length;;){if(r==o)return r;let a=r+o>>1,f=l[a]-e||(n?this.value[a].endSide:this.value[a].startSide)-t;if(a==r)return f>=0?r:o;f>=0?o=a:r=a+1}}between(e,t,n,s){for(let l=this.findIndex(t,-1e9,!0),r=this.findIndex(n,1e9,!1,l);l<r;l++)if(s(this.from[l]+e,this.to[l]+e,this.value[l])===!1)return!1}map(e,t){let n=[],s=[],l=[],r=-1,o=-1;for(let a=0;a<this.value.length;a++){let f=this.value[a],u=this.from[a]+e,c=this.to[a]+e,h,d;if(u==c){let m=t.mapPos(u,f.startSide,f.mapMode);if(m==null)continue;h=d=m}else if(h=t.mapPos(u,f.startSide),d=t.mapPos(c,f.endSide),h>d||h==d&&f.startSide>0&&f.endSide<=0)continue;(d-h||f.endSide-f.startSide)<0||(r<0&&(r=h),f.point&&(o=Math.max(o,d-h)),n.push(f),s.push(h-r),l.push(d-r))}return{mapped:n.length?new bu(s,l,n,o):null,pos:r}}}class xe{constructor(e,t,n=xe.empty,s){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=s}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:s=0,filterTo:l=this.length}=e,r=e.filter;if(t.length==0&&!r)return this;if(n&&t.slice().sort(ff),this.isEmpty)return t.length?xe.of(t):this;let o=new Qp(this,null,-1).goto(0),a=0,f=[],u=new qi;for(;o.value||a<t.length;)if(a<t.length&&(o.from-t[a].from||o.startSide-t[a].value.startSide)>=0){let c=t[a++];u.addInner(c.from,c.to,c.value)||f.push(c)}else o.rangeIndex==1&&o.chunkIndex<this.chunk.length&&(a==t.length||this.chunkEnd(o.chunkIndex)<t[a].from)&&(!r||s>this.chunkEnd(o.chunkIndex)||l<this.chunkPos[o.chunkIndex])&&u.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!r||s>o.to||l<o.from||r(o.from,o.to,o.value))&&(u.addInner(o.from,o.to,o.value)||f.push(new af(o.from,o.to,o.value))),o.next());return u.finishInner(this.nextLayer.isEmpty&&!f.length?xe.empty:this.nextLayer.update({add:f,filter:r,filterFrom:s,filterTo:l}))}map(e){if(e.length==0||this.isEmpty)return this;let t=[],n=[],s=-1;for(let r=0;r<this.chunk.length;r++){let o=this.chunkPos[r],a=this.chunk[r],f=e.touchesRange(o,o+a.length);if(f===!1)s=Math.max(s,a.maxPoint),t.push(a),n.push(e.mapPos(o));else if(f===!0){let{mapped:u,pos:c}=a.map(o,e);u&&(s=Math.max(s,u.maxPoint),t.push(u),n.push(c))}}let l=this.nextLayer.map(e);return t.length==0?l:new xe(n,t,l,s)}between(e,t,n){if(!this.isEmpty){for(let s=0;s<this.chunk.length;s++){let l=this.chunkPos[s],r=this.chunk[s];if(t>=l&&e<=l+r.length&&r.between(l,e-l,t-l,n)===!1)return}this.nextLayer.between(e,t,n)}}iter(e=0){return zr.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return zr.from(e).goto(t)}static compare(e,t,n,s,l=-1){let r=e.filter(c=>c.maxPoint>0||!c.isEmpty&&c.maxPoint>=l),o=t.filter(c=>c.maxPoint>0||!c.isEmpty&&c.maxPoint>=l),a=bh(r,o,n),f=new dr(r,a,l),u=new dr(o,a,l);n.iterGaps((c,h,d)=>_h(f,c,u,h,d,s)),n.empty&&n.length==0&&_h(f,0,u,0,0,s)}static eq(e,t,n=0,s){s==null&&(s=1e9);let l=e.filter(u=>!u.isEmpty&&t.indexOf(u)<0),r=t.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(l.length!=r.length)return!1;if(!l.length)return!0;let o=bh(l,r),a=new dr(l,o,0).goto(n),f=new dr(r,o,0).goto(n);for(;;){if(a.to!=f.to||!uf(a.active,f.active)||a.point&&(!f.point||!a.point.eq(f.point)))return!1;if(a.to>s)return!0;a.next(),f.next()}}static spans(e,t,n,s,l=-1){var r;let o=new dr(e,null,l,(r=s.filterPoint)===null||r===void 0?void 0:r.bind(s)).goto(t),a=t,f=o.openStart;for(;;){let u=Math.min(o.to,n);if(o.point?(s.point(a,u,o.point,o.activeForPoint(o.to),f),f=o.openEnd(u)+(o.to>u?1:0)):u>a&&(s.span(a,u,o.active,f),f=o.openEnd(u)),o.to>n)break;a=o.to,o.next()}return f}static of(e,t=!1){let n=new qi;for(let s of e instanceof af?[e]:t?NO(e):e)n.add(s.from,s.to,s.value);return n.finish()}}xe.empty=new xe([],[],null,-1);function NO(i){if(i.length>1)for(let e=i[0],t=1;t<i.length;t++){let n=i[t];if(ff(e,n)>0)return i.slice().sort(ff);e=n}return i}xe.empty.nextLayer=xe.empty;class qi{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new bu(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new qi)).add(e,t,n)}addInner(e,t,n){let s=e-this.lastTo||n.startSide-this.last.endSide;if(s<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return s<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(xe.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=new xe(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function bh(i,e,t){let n=new Map;for(let l of i)for(let r=0;r<l.chunk.length;r++)l.chunk[r].maxPoint<=0&&n.set(l.chunk[r],l.chunkPos[r]);let s=new Set;for(let l of e)for(let r=0;r<l.chunk.length;r++){let o=n.get(l.chunk[r]);o!=null&&(t?t.mapPos(o):o)==l.chunkPos[r]&&s.add(l.chunk[r])}return s}class Qp{constructor(e,t,n,s=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=s}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let s=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(s)||this.layer.chunkEnd(this.chunkIndex)<e||s.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let s=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<s)&&this.setRangeIndex(s)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.to-e.to||this.endSide-e.endSide}}class zr{constructor(e){this.heap=e}static from(e,t=null,n=-1){let s=[];for(let l=0;l<e.length;l++)for(let r=e[l];!r.isEmpty;r=r.nextLayer)r.maxPoint>=n&&s.push(new Qp(r,t,n,l));return s.length==1?s[0]:new zr(s)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let n of this.heap)n.goto(e,t);for(let n=this.heap.length>>1;n>=0;n--)_a(this.heap,n);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let n=this.heap.length>>1;n>=0;n--)_a(this.heap,n);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),_a(this.heap,0)}}}function _a(i,e){for(let t=i[e];;){let n=(e<<1)+1;if(n>=i.length)break;let s=i[n];if(n+1<i.length&&s.compare(i[n+1])>=0&&(s=i[n+1],n++),t.compare(s)<0)break;i[n]=t,i[e]=s,e=n}}class dr{constructor(e,t,n,s=()=>!0){this.minPoint=n,this.filterPoint=s,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=zr.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){bl(this.active,e),bl(this.activeTo,e),bl(this.activeRank,e),this.minActive=vh(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:s,rank:l}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=l;)t++;_l(this.active,t,n),_l(this.activeTo,t,s),_l(this.activeRank,t,l),e&&_l(e,t,this.cursor.from),this.minActive=vh(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let n=this.openStart<0?[]:null,s=0;for(;;){let l=this.minActive;if(l>-1&&(this.activeTo[l]-this.cursor.from||this.active[l].endSide-this.cursor.startSide)<0){if(this.activeTo[l]>e){this.to=this.activeTo[l],this.endSide=this.active[l].endSide;break}this.removeActive(l),n&&bl(n,l)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let r=this.cursor.value;if(!r.point)this.addActive(n),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else if(!this.filterPoint(this.cursor.from,this.cursor.to,this.cursor.value,this.cursor.rank))this.cursor.next();else{this.point=r,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=r.endSide,this.cursor.from<e&&(s=1),this.cursor.next(),this.to>e&&this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(n){let l=0;for(;l<n.length&&n[l]<e;)l++;this.openStart=l+s}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}openEnd(e){let t=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}function _h(i,e,t,n,s,l){i.goto(e),t.goto(n);let r=n+s,o=n,a=n-e;for(;;){let f=i.to+a-t.to||i.endSide-t.endSide,u=f<0?i.to+a:t.to,c=Math.min(u,r);if(i.point||t.point?i.point&&t.point&&(i.point==t.point||i.point.eq(t.point))&&uf(i.activeForPoint(i.to+a),t.activeForPoint(t.to))||l.comparePoint(o,c,i.point,t.point):c>o&&!uf(i.active,t.active)&&l.compareRange(o,c,i.active,t.active),u>r)break;o=u,f<=0&&i.next(),f>=0&&t.next()}}function uf(i,e){if(i.length!=e.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!=e[t]&&!i[t].eq(e[t]))return!1;return!0}function bl(i,e){for(let t=e,n=i.length-1;t<n;t++)i[t]=i[t+1];i.pop()}function _l(i,e,t){for(let n=i.length-1;n>=e;n--)i[n+1]=i[n];i[e]=t}function vh(i,e){let t=-1,n=1e9;for(let s=0;s<e.length;s++)(e[s]-n||i[s].endSide-i[t].endSide)<0&&(t=s,n=e[s]);return t}var $i={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},xl={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},kh=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent),LO=typeof navigator!="undefined"&&/Apple Computer/.test(navigator.vendor),BO=typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent),yh=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),QO=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),zO=kh&&(yh||+kh[1]<57)||BO&&yh;for(var zt=0;zt<10;zt++)$i[48+zt]=$i[96+zt]=String(zt);for(var zt=1;zt<=24;zt++)$i[zt+111]="F"+zt;for(var zt=65;zt<=90;zt++)$i[zt]=String.fromCharCode(zt+32),xl[zt]=String.fromCharCode(zt);for(var va in $i)xl.hasOwnProperty(va)||(xl[va]=$i[va]);function VO(i){var e=zO&&(i.ctrlKey||i.altKey||i.metaKey)||(LO||QO)&&i.shiftKey&&i.key&&i.key.length==1,t=!e&&i.key||(i.shiftKey?xl:$i)[i.keyCode]||i.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function Jl(i){let e;return i.nodeType==11?e=i.getSelection?i:i.ownerDocument:e=i,e.getSelection()}function cf(i,e){return e?i.contains(e.nodeType!=1?e.parentNode:e):!1}function FO(){let i=document.activeElement;for(;i&&i.shadowRoot;)i=i.shadowRoot.activeElement;return i}function hf(i,e){if(!e.anchorNode)return!1;try{return cf(i,e.anchorNode)}catch{return!1}}function Vr(i){return i.nodeType==3?Fr(i,0,i.nodeValue.length).getClientRects():i.nodeType==1?i.getClientRects():[]}function eo(i,e,t,n){return t?wh(i,e,t,n,-1)||wh(i,e,t,n,1):!1}function df(i){for(var e=0;;e++)if(i=i.previousSibling,!i)return e}function wh(i,e,t,n,s){for(;;){if(i==t&&e==n)return!0;if(e==(s<0?0:to(i))){if(i.nodeName=="DIV")return!1;let l=i.parentNode;if(!l||l.nodeType!=1)return!1;e=df(i)+(s<0?0:1),i=l}else if(i.nodeType==1){if(i=i.childNodes[e+(s<0?-1:0)],i.nodeType==1&&i.contentEditable=="false")return!1;e=s<0?to(i):0}else return!1}}function to(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}const zp={left:0,right:0,top:0,bottom:0};function Bo(i,e){let t=e?i.left:i.right;return{left:t,right:t,top:i.top,bottom:i.bottom}}function WO(i){return{left:0,right:i.innerWidth,top:0,bottom:i.innerHeight}}function jO(i,e,t,n,s,l,r,o){let a=i.ownerDocument,f=a.defaultView;for(let u=i;u;)if(u.nodeType==1){let c,h=u==a.body;if(h)c=WO(f);else{if(u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.parentNode;continue}let p=u.getBoundingClientRect();c={left:p.left,right:p.left+u.clientWidth,top:p.top,bottom:p.top+u.clientHeight}}let d=0,m=0;if(s=="nearest")e.top<c.top?(m=-(c.top-e.top+r),t>0&&e.bottom>c.bottom+m&&(m=e.bottom-c.bottom+m+r)):e.bottom>c.bottom&&(m=e.bottom-c.bottom+r,t<0&&e.top-m<c.top&&(m=-(c.top+m-e.top+r)));else{let p=e.bottom-e.top,b=c.bottom-c.top;m=(s=="center"&&p<=b?e.top+p/2-b/2:s=="start"||s=="center"&&t<0?e.top-r:e.bottom-b+r)-c.top}if(n=="nearest"?e.left<c.left?(d=-(c.left-e.left+l),t>0&&e.right>c.right+d&&(d=e.right-c.right+d+l)):e.right>c.right&&(d=e.right-c.right+l,t<0&&e.left<c.left+d&&(d=-(c.left+d-e.left+l))):d=(n=="center"?e.left+(e.right-e.left)/2-(c.right-c.left)/2:n=="start"==o?e.left-l:e.right-(c.right-c.left)+l)-c.left,d||m)if(h)f.scrollBy(d,m);else{if(m){let p=u.scrollTop;u.scrollTop+=m,m=u.scrollTop-p}if(d){let p=u.scrollLeft;u.scrollLeft+=d,d=u.scrollLeft-p}e={left:e.left-d,top:e.top-m,right:e.right-d,bottom:e.bottom-m}}if(h)break;u=u.assignedSlot||u.parentNode,n=s="nearest"}else if(u.nodeType==11)u=u.host;else break}class HO{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,t,n,s){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=s}}let Fs=null;function Vp(i){if(i.setActive)return i.setActive();if(Fs)return i.focus(Fs);let e=[];for(let t=i;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(i.focus(Fs==null?{get preventScroll(){return Fs={preventScroll:!0},!0}}:void 0),!Fs){Fs=!1;for(let t=0;t<e.length;){let n=e[t++],s=e[t++],l=e[t++];n.scrollTop!=s&&(n.scrollTop=s),n.scrollLeft!=l&&(n.scrollLeft=l)}}}let Oh;function Fr(i,e,t=e){let n=Oh||(Oh=document.createRange());return n.setEnd(i,t),n.setStart(i,e),n}function Dr(i,e,t){let n={key:e,code:e,keyCode:t,which:t,cancelable:!0},s=new KeyboardEvent("keydown",n);s.synthetic=!0,i.dispatchEvent(s);let l=new KeyboardEvent("keyup",n);return l.synthetic=!0,i.dispatchEvent(l),s.defaultPrevented||l.defaultPrevented}function UO(i){for(;i;){if(i&&(i.nodeType==9||i.nodeType==11&&i.host))return i;i=i.assignedSlot||i.parentNode}return null}function Fp(i){for(;i.attributes.length;)i.removeAttributeNode(i.attributes[0])}class Ft{constructor(e,t,n=!0){this.node=e,this.offset=t,this.precise=n}static before(e,t){return new Ft(e.parentNode,df(e),t)}static after(e,t){return new Ft(e.parentNode,df(e)+1,t)}}const _u=[];class mt{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let n of this.children){if(n==e)return t;t+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,t){return null}sync(e){if(this.dirty&2){let t=this.dom,n=t.firstChild;for(let s of this.children){if(s.dirty){if(!s.dom&&n){let l=mt.get(n);(!l||!l.parent&&l.constructor==s.constructor)&&s.reuseDOM(n)}s.sync(e),s.dirty=0}if(e&&!e.written&&e.node==t&&n!=s.dom&&(e.written=!0),s.dom.parentNode==t){for(;n&&n!=s.dom;)n=Sh(n);n=s.dom.nextSibling}else t.insertBefore(s.dom,n)}for(n&&e&&e.node==t&&(e.written=!0);n;)n=Sh(n)}else if(this.dirty&1)for(let t of this.children)t.dirty&&(t.sync(e),t.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let n;if(e==this.dom)n=this.dom.childNodes[t];else{let s=to(e)==0?0:t==0?-1:1;for(;;){let l=e.parentNode;if(l==this.dom)break;s==0&&l.firstChild!=l.lastChild&&(e==l.firstChild?s=-1:s=1),e=l}s<0?n=e:n=e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!mt.get(n);)n=n.nextSibling;if(!n)return this.length;for(let s=0,l=0;;s++){let r=this.children[s];if(r.dom==n)return l;l+=r.length+r.breakAfter}}domBoundsAround(e,t,n=0){let s=-1,l=-1,r=-1,o=-1;for(let a=0,f=n,u=n;a<this.children.length;a++){let c=this.children[a],h=f+c.length;if(f<e&&h>t)return c.domBoundsAround(e,t,f);if(h>=e&&s==-1&&(s=a,l=f),f>t&&c.dom.parentNode==this.dom){r=a,o=u;break}u=h,f=h+c.breakAfter}return{from:l,to:o<0?n+this.length:o,startDOM:(s?this.children[s-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:r<this.children.length&&r>=0?this.children[r].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),t.dirty&1)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,n=_u){this.markDirty();for(let s=e;s<t;s++){let l=this.children[s];l.parent==this&&l.destroy()}this.children.splice(e,t-e,...n);for(let s=0;s<n.length;s++)n[s].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new Wp(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}merge(e,t,n,s,l,r){return!1}become(e){return!1}getSide(){return 0}destroy(){this.parent=null}}mt.prototype.breakAfter=0;function Sh(i){let e=i.nextSibling;return i.parentNode.removeChild(i),e}class Wp{constructor(e,t,n){this.children=e,this.pos=t,this.i=n,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function jp(i,e,t,n,s,l,r,o,a){let{children:f}=i,u=f.length?f[e]:null,c=l.length?l[l.length-1]:null,h=c?c.breakAfter:r;if(!(e==n&&u&&!r&&!h&&l.length<2&&u.merge(t,s,l.length?c:null,t==0,o,a))){if(n<f.length){let d=f[n];d&&s<d.length?(e==n&&(d=d.split(s),s=0),!h&&c&&d.merge(0,s,c,!0,0,a)?l[l.length-1]=d:(s&&d.merge(0,s,null,!1,0,a),l.push(d))):d!=null&&d.breakAfter&&(c?c.breakAfter=1:r=1),n++}for(u&&(u.breakAfter=r,t>0&&(!r&&l.length&&u.merge(t,u.length,l[0],!1,o,0)?u.breakAfter=l.shift().breakAfter:(t<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(t,u.length,null,!1,o,0),e++));e<n&&l.length;)if(f[n-1].become(l[l.length-1]))n--,l.pop(),a=l.length?0:o;else if(f[e].become(l[0]))e++,l.shift(),o=l.length?0:a;else break;!l.length&&e&&n<f.length&&!f[e-1].breakAfter&&f[n].merge(0,0,f[e-1],!1,o,a)&&e--,(e<n||l.length)&&i.replaceChildren(e,n,l)}}function Hp(i,e,t,n,s,l){let r=i.childCursor(),{i:o,off:a}=r.findPos(t,1),{i:f,off:u}=r.findPos(e,-1),c=e-t;for(let h of n)c+=h.length;i.length+=c,jp(i,f,u,o,a,n,0,s,l)}let pn=typeof navigator!="undefined"?navigator:{userAgent:"",vendor:"",platform:""},mf=typeof document!="undefined"?document:{documentElement:{style:{}}};const pf=/Edge\/(\d+)/.exec(pn.userAgent),Up=/MSIE \d/.test(pn.userAgent),gf=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(pn.userAgent),Qo=!!(Up||gf||pf),Ch=!Qo&&/gecko\/(\d+)/i.test(pn.userAgent),ka=!Qo&&/Chrome\/(\d+)/.exec(pn.userAgent),Ah="webkitFontSmoothing"in mf.documentElement.style,qp=!Qo&&/Apple Computer/.test(pn.vendor),Eh=qp&&(/Mobile\/\w+/.test(pn.userAgent)||pn.maxTouchPoints>2);var Ee={mac:Eh||/Mac/.test(pn.platform),windows:/Win/.test(pn.platform),linux:/Linux|X11/.test(pn.platform),ie:Qo,ie_version:Up?mf.documentMode||6:gf?+gf[1]:pf?+pf[1]:0,gecko:Ch,gecko_version:Ch?+(/Firefox\/(\d+)/.exec(pn.userAgent)||[0,0])[1]:0,chrome:!!ka,chrome_version:ka?+ka[1]:0,ios:Eh,android:/Android\b/.test(pn.userAgent),webkit:Ah,safari:qp,webkit_version:Ah?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:mf.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const qO=256;class Os extends mt{constructor(e){super();this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,n){return n&&(!(n instanceof Os)||this.length-(t-e)+n.length>qO)?!1:(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Os(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Ft(this.dom,e)}domBoundsAround(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return $p(this.dom,e,t)}}class Gi extends mt{constructor(e,t=[],n=0){super();this.mark=e,this.children=t,this.length=n;for(let s of t)s.setParent(this)}setAttrs(e){if(Fp(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e)}merge(e,t,n,s,l,r){return n&&(!(n instanceof Gi&&n.mark.eq(this.mark))||e&&l<=0||t<this.length&&r<=0)?!1:(Hp(this,e,t,n?n.children:[],l-1,r-1),this.markDirty(),!0)}split(e){let t=[],n=0,s=-1,l=0;for(let o of this.children){let a=n+o.length;a>e&&t.push(n<e?o.split(e-n):o),s<0&&n>=e&&(s=l),n=a,l++}let r=this.length-e;return this.length=e,s>-1&&(this.children.length=s,this.markDirty()),new Gi(this.mark,t,r)}domAtPos(e){return Zp(this.dom,this.children,e)}coordsAt(e,t){return Yp(this,e,t)}}function $p(i,e,t){let n=i.nodeValue.length;e>n&&(e=n);let s=e,l=e,r=0;e==0&&t<0||e==n&&t>=0?Ee.chrome||Ee.gecko||(e?(s--,r=1):(l++,r=-1)):t<0?s--:l++;let o=Fr(i,s,l).getClientRects();if(!o.length)return zp;let a=o[(r?r<0:t>=0)?0:o.length-1];return Ee.safari&&!r&&a.width==0&&(a=Array.prototype.find.call(o,f=>f.width)||a),r?Bo(a,r<0):a||null}class zi extends mt{constructor(e,t,n){super();this.widget=e,this.length=t,this.side=n,this.prevWidget=null}static create(e,t,n){return new(e.customView||zi)(e,t,n)}split(e){let t=zi.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,n,s,l,r){return n&&(!(n instanceof zi)||!this.widget.compare(n.widget)||e>0&&l<=0||t<this.length&&r<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-t),!0)}become(e){return e.length==this.length&&e instanceof zi&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return tt.empty;let e=this;for(;e.parent;)e=e.parent;let t=e.editorView,n=t&&t.state.doc,s=this.posAtStart;return n?n.slice(s,s+this.length):tt.empty}domAtPos(e){return e==0?Ft.before(this.dom):Ft.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let n=this.dom.getClientRects(),s=null;if(!n.length)return zp;for(let l=e>0?n.length-1:0;s=n[l],!(e>0?l==0:l==n.length-1||s.top<s.bottom);l+=e>0?-1:1);return e==0&&t>0||e==this.length&&t<=0?s:Bo(s,e==0)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Gp extends zi{domAtPos(e){let{topView:t}=this.widget;return t?Xp(e,t,this.widget.text):new Ft(this.widget.text,Math.min(e,this.widget.text.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){return t?e.nodeType==3?Math.min(t,this.length):this.length:0}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){return $p(this.widget.text,e,t)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}}function Xp(i,e,t){if(e instanceof Gi){for(let n of e.children){let s=n.dom==t||n.dom.contains(t.parentNode),l=s?t.nodeValue.length:n.length;if(i<l||i==l&&n.getSide()<=0)return s?Xp(i,n,t):n.domAtPos(i);i-=l}return e.domAtPos(e.length)}else return e.dom==t?new Ft(t,Math.min(i,t.nodeValue.length)):e.domAtPos(i)}class er extends mt{constructor(e){super();this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof er&&e.side==this.side}split(){return new er(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return Ft.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return tt.empty}}Os.prototype.children=zi.prototype.children=er.prototype.children=_u;function Zp(i,e,t){let n=0;for(let s=0;n<e.length;n++){let l=e[n],r=s+l.length;if(!(r==s&&l.getSide()<=0)){if(t>s&&t<r&&l.dom.parentNode==i)return l.domAtPos(t-s);if(t<=s)break;s=r}}for(;n>0;n--){let s=e[n-1].dom;if(s.parentNode==i)return Ft.after(s)}return new Ft(i,0)}function Kp(i,e,t){let n,{children:s}=i;t>0&&e instanceof Gi&&s.length&&(n=s[s.length-1])instanceof Gi&&n.mark.eq(e.mark)?Kp(n,e.children[0],t-1):(s.push(e),e.setParent(i)),i.length+=e.length}function Yp(i,e,t){for(let l=0,r=0;r<i.children.length;r++){let o=i.children[r],a=l+o.length,f;if((t<=0||a==i.length||o.getSide()>0?a>=e:a>e)&&(e<a||r+1==i.children.length||(f=i.children[r+1]).length||f.getSide()>0)){let u=0;if(a==l){if(o.getSide()<=0)continue;u=t=-o.getSide()}let c=o.coordsAt(Math.max(0,e-l),t);return u&&c?Bo(c,t<0):c}l=a}let n=i.dom.lastChild;if(!n)return i.dom.getBoundingClientRect();let s=Vr(n);return s[s.length-1]||null}function bf(i,e){for(let t in i)t=="class"&&e.class?e.class+=" "+i.class:t=="style"&&e.style?e.style+=";"+i.style:e[t]=i[t];return e}function vu(i,e){if(i==e)return!0;if(!i||!e)return!1;let t=Object.keys(i),n=Object.keys(e);if(t.length!=n.length)return!1;for(let s of t)if(n.indexOf(s)==-1||i[s]!==e[s])return!1;return!0}function _f(i,e,t){if(e)for(let n in e)t&&n in t||i.removeAttribute(n);if(t)for(let n in t)e&&e[n]==t[n]||i.setAttribute(n,t[n])}class ns{eq(e){return!1}updateDOM(e){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}}var it=function(i){return i[i.Text=0]="Text",i[i.WidgetBefore=1]="WidgetBefore",i[i.WidgetAfter=2]="WidgetAfter",i[i.WidgetRange=3]="WidgetRange",i}(it||(it={}));class Me extends ws{constructor(e,t,n,s){super();this.startSide=e,this.endSide=t,this.widget=n,this.spec=s}get heightRelevant(){return!1}static mark(e){return new zo(e)}static widget(e){let t=e.side||0,n=!!e.block;return t+=n?t>0?3e8:-4e8:t>0?1e8:-1e8,new Ss(e,t,t,n,e.widget||null,!1)}static replace(e){let t=!!e.block,{start:n,end:s}=xp(e,t),l=(n?t?-3e8:-1:4e8)-1,r=(s?t?2e8:1:-5e8)+1;return new Ss(e,l,r,t,e.widget||null,!0)}static line(e){return new el(e)}static set(e,t=!1){return xe.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Me.none=xe.empty;class zo extends Me{constructor(e){let{start:t,end:n}=xp(e);super(t?-1:4e8,n?1:-5e8,null,e);this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof zo&&this.tagName==e.tagName&&this.class==e.class&&vu(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}zo.prototype.point=!1;class el extends Me{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof el&&vu(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}el.prototype.mapMode=Kt.TrackBefore;el.prototype.point=!0;class Ss extends Me{constructor(e,t,n,s,l,r){super(t,n,l,e);this.block=s,this.isReplace=r,this.mapMode=s?t<=0?Kt.TrackBefore:Kt.TrackAfter:Kt.TrackDel}get type(){return this.startSide<this.endSide?it.WidgetRange:this.startSide<=0?it.WidgetBefore:it.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof Ss&&$O(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Ss.prototype.point=!0;function xp(i,e=!1){let{inclusiveStart:t,inclusiveEnd:n}=i;return t==null&&(t=i.inclusive),n==null&&(n=i.inclusive),{start:t!=null?t:e,end:n!=null?n:e}}function $O(i,e){return i==e||!!(i&&e&&i.compare(e))}function vf(i,e,t,n=0){let s=t.length-1;s>=0&&t[s]+n>=i?t[s]=Math.max(t[s],e):t.push(i,e)}class Yt extends mt{constructor(){super(...arguments);this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,n,s,l,r){if(n){if(!(n instanceof Yt))return!1;this.dom||n.transferDOM(this)}return s&&this.setDeco(n?n.attrs:null),Hp(this,e,t,n?n.children:[],l,r),!0}split(e){let t=new Yt;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:n,off:s}=this.childPos(e);s&&(t.append(this.children[n].split(s),0),this.children[n].merge(s,this.children[n].length,null,!1,0,0),n++);for(let l=n;l<this.children.length;l++)t.append(this.children[l],0);for(;n>0&&this.children[n-1].length==0;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,t}transferDOM(e){!this.dom||(e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){vu(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){Kp(this,e,t)}addLineDeco(e){let t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=bf(t,this.attrs||{})),n&&(this.attrs=bf({class:n},this.attrs||{}))}domAtPos(e){return Zp(this.dom,this.children,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e){var t;this.dom?this.dirty&4&&(Fp(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(_f(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e);let n=this.dom.lastChild;for(;n&&mt.get(n)instanceof Gi;)n=n.lastChild;if(!n||n.nodeName!="BR"&&((t=mt.get(n))===null||t===void 0?void 0:t.isEditable)==!1&&(!Ee.ios||!this.children.some(s=>s instanceof Os))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0;for(let t of this.children){if(!(t instanceof Os))return null;let n=Vr(t.dom);if(n.length!=1)return null;e+=n[0].width}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length}}coordsAt(e,t){return Yp(this,e,t)}become(e){return!1}get type(){return it.Text}static find(e,t){for(let n=0,s=0;n<e.children.length;n++){let l=e.children[n],r=s+l.length;if(r>=t){if(l instanceof Yt)return l;if(r>t)break}s=r+l.breakAfter}return null}}class _s extends mt{constructor(e,t,n){super();this.widget=e,this.length=t,this.type=n,this.breakAfter=0,this.prevWidget=null}merge(e,t,n,s,l,r){return n&&(!(n instanceof _s)||!this.widget.compare(n.widget)||e>0&&l<=0||t<this.length&&r<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Ft.before(this.dom):Ft.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let n=new _s(this.widget,t,this.type);return n.breakAfter=this.breakAfter,n}get children(){return _u}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):tt.empty}domBoundsAround(){return null}become(e){return e instanceof _s&&e.type==this.type&&e.widget.constructor==this.widget.constructor?(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class ku{constructor(e,t,n,s){this.doc=e,this.pos=t,this.end=n,this.disallowBlockEffectsBelow=s,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof _s&&e.type==it.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new Yt),this.atCursorPos=!0),this.curLine}flushBuffer(e){this.pendingBuffer&&(this.curLine.append(vl(new er(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer([]),this.curLine=null,this.content.push(e)}finish(e){e?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}buildText(e,t,n){for(;e>0;){if(this.textOff==this.text.length){let{value:l,lineBreak:r,done:o}=this.cursor.next(this.skip);if(this.skip=0,o)throw new Error("Ran out of text content when drawing inline views");if(r){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,e--;continue}else this.text=l,this.textOff=0}let s=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(0,n)),this.getLine().append(vl(new Os(this.text.slice(this.textOff,this.textOff+s)),t),n),this.atCursorPos=!0,this.textOff+=s,e-=s,n=0}}span(e,t,n,s){this.buildText(t-e,n,s),this.pos=t,this.openStart<0&&(this.openStart=s)}point(e,t,n,s,l){let r=t-e;if(n instanceof Ss)if(n.block){let{type:o}=n;o==it.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new _s(n.widget||new Dh("div"),r,o))}else{let o=zi.create(n.widget||new Dh("span"),r,n.startSide),a=this.atCursorPos&&!o.isEditable&&l<=s.length&&(e<t||n.startSide>0),f=!o.isEditable&&(e<t||n.startSide<=0),u=this.getLine();this.pendingBuffer==2&&!a&&(this.pendingBuffer=0),this.flushBuffer(s),a&&(u.append(vl(new er(1),s),l),l=s.length+Math.max(0,l-s.length)),u.append(vl(o,s),l),this.atCursorPos=f,this.pendingBuffer=f?e<t?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);r&&(this.textOff+r<=this.text.length?this.textOff+=r:(this.skip+=r-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=l)}filterPoint(e,t,n,s){if(s<this.disallowBlockEffectsBelow&&n instanceof Ss){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}return!0}static build(e,t,n,s,l){let r=new ku(e,t,n,l);return r.openEnd=xe.spans(s,t,n,r),r.openStart<0&&(r.openStart=r.openEnd),r.finish(r.openEnd),r}}function vl(i,e){for(let t of e)i=new Gi(t,[i],i.length);return i}class Dh extends ns{constructor(e){super();this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}}const GO=[],Jp=Ae.define(),eg=Ae.define(),tg=Ae.define(),ng=Ae.define(),kf=Ae.define(),ig=Ae.define(),yf=Qe.define({map:(i,e)=>i.map(e)}),sg=Qe.define({map:(i,e)=>i.map(e)});class js{constructor(e,t="nearest",n="nearest",s=5,l=5){this.range=e,this.y=t,this.x=n,this.yMargin=s,this.xMargin=l}map(e){return e.empty?this:new js(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const Th=Qe.define({map:(i,e)=>i.map(e)});function wn(i,e,t){let n=i.facet(ng);n.length?n[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const tl=Ae.define({combine:i=>i.length?i[0]:!0});class XO{constructor(e,t){this.field=e,this.get=t}}class $t{from(e){return new XO(this,e)}static define(){return new $t}}$t.decorations=$t.define();$t.atomicRanges=$t.define();$t.scrollMargins=$t.define();let ZO=0;const _r=Ae.define();class Dt{constructor(e,t,n){this.id=e,this.create=t,this.fields=n,this.extension=_r.of(this)}static define(e,t){let{eventHandlers:n,provide:s,decorations:l}=t||{},r=[];if(s)for(let o of Array.isArray(s)?s:[s])r.push(o);return n&&r.push(rg.from(o=>({plugin:o,handlers:n}))),l&&r.push($t.decorations.from(l)),new Dt(ZO++,e,r)}static fromClass(e,t){return Dt.define(n=>new e(n),t)}}const rg=$t.define();class ya{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}takeField(e,t){if(this.spec)for(let{field:n,get:s}of this.spec.fields)n==e&&t.push(s(this.value))}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(n){if(wn(t.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){wn(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(n){wn(e.state,n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const lg=Ae.define(),og=Ae.define(),gs=Ae.define(),vr=Ae.define();class _i{constructor(e,t,n,s){this.fromA=e,this.toA=t,this.fromB=n,this.toB=s}join(e){return new _i(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let s=e[t-1];if(!(s.fromA>n.toA)){if(s.toA<n.fromA)break;n=n.join(s),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(e,t){if(t.length==0)return e;let n=[];for(let s=0,l=0,r=0,o=0;;s++){let a=s==e.length?null:e[s],f=r-o,u=a?a.fromB:1e9;for(;l<t.length&&t[l]<u;){let c=t[l],h=t[l+1],d=Math.max(o,c),m=Math.min(u,h);if(d<=m&&new _i(d+f,m+f,d,m).addToSet(n),h>u)break;l+=2}if(!a)return n;new _i(a.fromA,a.toA,a.fromB,a.toB).addToSet(n),r=a.toA,o=a.toB}}}class Ph{constructor(e,t,n=GO){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=Pt.empty(this.startState.doc.length);for(let r of n)this.changes=this.changes.compose(r.changes);let s=[];this.changes.iterChangedRanges((r,o,a,f)=>s.push(new _i(r,o,a,f))),this.changedRanges=s;let l=e.hasFocus;l!=e.inputState.notifiedFocused&&(e.inputState.notifiedFocused=l,this.flags|=1)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var Ke=function(i){return i[i.LTR=0]="LTR",i[i.RTL=1]="RTL",i}(Ke||(Ke={}));const wf=Ke.LTR,KO=Ke.RTL;function ag(i){let e=[];for(let t=0;t<i.length;t++)e.push(1<<+i[t]);return e}const YO=ag("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),xO=ag("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Of=Object.create(null),Wn=[];for(let i of["()","[]","{}"]){let e=i.charCodeAt(0),t=i.charCodeAt(1);Of[e]=t,Of[t]=-e}function JO(i){return i<=247?YO[i]:1424<=i&&i<=1524?2:1536<=i&&i<=1785?xO[i-1536]:1774<=i&&i<=2220?4:8192<=i&&i<=8203||i==8204?256:1}const eS=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;class Xs{constructor(e,t,n){this.from=e,this.to=t,this.level=n}get dir(){return this.level%2?KO:wf}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,n,s){let l=-1;for(let r=0;r<e.length;r++){let o=e[r];if(o.from<=t&&o.to>=t){if(o.level==n)return r;(l<0||(s!=0?s<0?o.from<t:o.to>t:e[l].level>o.level))&&(l=r)}}if(l<0)throw new RangeError("Index out of range");return l}}const ut=[];function tS(i,e){let t=i.length,n=e==wf?1:2,s=e==wf?2:1;if(!i||n==1&&!eS.test(i))return fg(t);for(let r=0,o=n,a=n;r<t;r++){let f=JO(i.charCodeAt(r));f==512?f=o:f==8&&a==4&&(f=16),ut[r]=f==4?2:f,f&7&&(a=f),o=f}for(let r=0,o=n,a=n;r<t;r++){let f=ut[r];if(f==128)r<t-1&&o==ut[r+1]&&o&24?f=ut[r]=o:ut[r]=256;else if(f==64){let u=r+1;for(;u<t&&ut[u]==64;)u++;let c=r&&o==8||u<t&&ut[u]==8?a==1?1:8:256;for(let h=r;h<u;h++)ut[h]=c;r=u-1}else f==8&&a==1&&(ut[r]=1);o=f,f&7&&(a=f)}for(let r=0,o=0,a=0,f,u,c;r<t;r++)if(u=Of[f=i.charCodeAt(r)])if(u<0){for(let h=o-3;h>=0;h-=3)if(Wn[h+1]==-u){let d=Wn[h+2],m=d&2?n:d&4?d&1?s:n:0;m&&(ut[r]=ut[Wn[h]]=m),o=h;break}}else{if(Wn.length==189)break;Wn[o++]=r,Wn[o++]=f,Wn[o++]=a}else if((c=ut[r])==2||c==1){let h=c==n;a=h?0:1;for(let d=o-3;d>=0;d-=3){let m=Wn[d+2];if(m&2)break;if(h)Wn[d+2]|=2;else{if(m&4)break;Wn[d+2]|=4}}}for(let r=0;r<t;r++)if(ut[r]==256){let o=r+1;for(;o<t&&ut[o]==256;)o++;let a=(r?ut[r-1]:n)==1,f=(o<t?ut[o]:n)==1,u=a==f?a?1:2:n;for(let c=r;c<o;c++)ut[c]=u;r=o-1}let l=[];if(n==1)for(let r=0;r<t;){let o=r,a=ut[r++]!=1;for(;r<t&&a==(ut[r]!=1);)r++;if(a)for(let f=r;f>o;){let u=f,c=ut[--f]!=2;for(;f>o&&c==(ut[f-1]!=2);)f--;l.push(new Xs(f,u,c?2:1))}else l.push(new Xs(o,r,0))}else for(let r=0;r<t;){let o=r,a=ut[r++]==2;for(;r<t&&a==(ut[r]==2);)r++;l.push(new Xs(o,r,a?1:2))}return l}function fg(i){return[new Xs(0,i,0)]}let ug="";function nS(i,e,t,n,s){var l;let r=n.head-i.from,o=-1;if(r==0){if(!s||!i.length)return null;e[0].level!=t&&(r=e[0].side(!1,t),o=0)}else if(r==i.length){if(s)return null;let h=e[e.length-1];h.level!=t&&(r=h.side(!0,t),o=e.length-1)}o<0&&(o=Xs.find(e,r,(l=n.bidiLevel)!==null&&l!==void 0?l:-1,n.assoc));let a=e[o];r==a.side(s,t)&&(a=e[o+=s?1:-1],r=a.side(!s,t));let f=s==(a.dir==t),u=gn(i.text,r,f);if(ug=i.text.slice(Math.min(r,u),Math.max(r,u)),u!=a.side(s,t))return J.cursor(u+i.from,f?-1:1,a.level);let c=o==(s?e.length-1:0)?null:e[o+(s?1:-1)];return!c&&a.level!=t?J.cursor(s?i.to:i.from,s?-1:1,t):c&&c.level<a.level?J.cursor(c.side(!s,t)+i.from,s?1:-1,c.level):J.cursor(u+i.from,s?-1:1,a.level)}const Vi="\uFFFF";class cg{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Xe.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Vi}readRange(e,t){if(!e)return this;let n=e.parentNode;for(let s=e;;){this.findPointBefore(n,s),this.readNode(s);let l=s.nextSibling;if(l==t)break;let r=mt.get(s),o=mt.get(l);(r&&o?r.breakAfter:(r?r.breakAfter:Mh(s))||Mh(l)&&(s.nodeName!="BR"||s.cmIgnore))&&this.lineBreak(),s=l}return this.findPointBefore(n,t),this}readTextNode(e){let t=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,t.length));for(let n=0,s=this.lineSeparator?null:/\r\n?|\n/g;;){let l=-1,r=1,o;if(this.lineSeparator?(l=t.indexOf(this.lineSeparator,n),r=this.lineSeparator.length):(o=s.exec(t))&&(l=o.index,r=o[0].length),this.append(t.slice(n,l<0?t.length:l)),l<0)break;if(this.lineBreak(),r>1)for(let a of this.points)a.node==e&&a.pos>this.text.length&&(a.pos-=r-1);n=l+r}}readNode(e){if(e.cmIgnore)return;let t=mt.get(e),n=t&&t.overrideDOMText;if(n!=null){this.findPointInside(e,n.length);for(let s=n.iter();!s.next().done;)s.lineBreak?this.lineBreak():this.append(s.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(let n of this.points)(e.nodeType==3?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+Math.min(t,n.offset))}}function Mh(i){return i.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(i.nodeName)}class Ih{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class Rh extends mt{constructor(e){super();this.view=e,this.compositionDeco=Me.none,this.decorations=[],this.pluginDecorationLength=0,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Yt],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new _i(0,0,0,e.state.doc.length)],0)}get root(){return this.view.root}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every(({fromA:r,toA:o})=>o<this.minWidthFrom||r>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=Me.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=sS(this.view,e.changes)),(Ee.ie||Ee.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let n=this.decorations,s=this.updateDeco(),l=aS(n,s,e.changes);return t=_i.extendWithRanges(t,l),this.dirty==0&&t.length==0?!1:(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:n}=this.view;n.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.minWidth=this.minWidth?this.minWidth+"px":"";let l=Ee.chrome||Ee.ios?{node:n.selectionRange.focusNode,written:!1}:void 0;this.sync(l),this.dirty=0,l&&(l.written||n.selectionRange.focusNode!=l.node)&&(this.forceSelection=!0),this.dom.style.height=""});let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let l of this.children)l instanceof _s&&l.widget instanceof Nh&&s.push(l.dom);n.updateGaps(s)}updateChildren(e,t){let n=this.childCursor(t);for(let s=e.length-1;;s--){let l=s>=0?e[s]:null;if(!l)break;let{fromA:r,toA:o,fromB:a,toB:f}=l,{content:u,breakAtStart:c,openStart:h,openEnd:d}=ku.build(this.view.state.doc,a,f,this.decorations,this.pluginDecorationLength),{i:m,off:p}=n.findPos(o,1),{i:b,off:y}=n.findPos(r,-1);jp(this,b,y,m,p,u,c,h,d)}}updateSelection(e=!1,t=!1){if(e&&this.view.observer.readSelectionRange(),!(t||this.mayControlSelection())||Ee.ios&&this.view.inputState.rapidCompositionStart)return;let n=this.forceSelection;this.forceSelection=!1;let s=this.view.state.selection.main,l=this.domAtPos(s.anchor),r=s.empty?l:this.domAtPos(s.head);if(Ee.gecko&&s.empty&&iS(l)){let a=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(a,l.node.childNodes[l.offset]||null)),l=r=new Ft(a,0),n=!0}let o=this.view.observer.selectionRange;(n||!o.focusNode||!eo(l.node,l.offset,o.anchorNode,o.anchorOffset)||!eo(r.node,r.offset,o.focusNode,o.focusOffset))&&(this.view.observer.ignore(()=>{Ee.android&&Ee.chrome&&this.dom.contains(o.focusNode)&&fS(o.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let a=Jl(this.root);if(s.empty){if(Ee.gecko){let f=lS(l.node,l.offset);if(f&&f!=3){let u=dg(l.node,l.offset,f==1?1:-1);u&&(l=new Ft(u,f==1?0:u.nodeValue.length))}}a.collapse(l.node,l.offset),s.bidiLevel!=null&&o.cursorBidiLevel!=null&&(o.cursorBidiLevel=s.bidiLevel)}else if(a.extend)a.collapse(l.node,l.offset),a.extend(r.node,r.offset);else{let f=document.createRange();s.anchor>s.head&&([l,r]=[r,l]),f.setEnd(r.node,r.offset),f.setStart(l.node,l.offset),a.removeAllRanges(),a.addRange(f)}}),this.view.observer.setSelectionRange(l,r)),this.impreciseAnchor=l.precise?null:new Ft(o.anchorNode,o.anchorOffset),this.impreciseHead=r.precise?null:new Ft(o.focusNode,o.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let e=this.view.state.selection.main,t=Jl(this.root);if(!e.empty||!e.assoc||!t.modify)return;let n=Yt.find(this,e.head);if(!n)return;let s=n.posAtStart;if(e.head==s||e.head==s+n.length)return;let l=this.coordsAt(e.head,-1),r=this.coordsAt(e.head,1);if(!l||!r||l.bottom>r.top)return;let o=this.domAtPos(e.head+e.assoc);t.collapse(o.node,o.offset),t.modify("move",e.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){return this.view.state.facet(tl)?this.root.activeElement==this.dom:hf(this.dom,this.view.observer.selectionRange)}nearest(e){for(let t=e;t;){let n=mt.get(t);if(n&&n.rootView==this)return n;t=t.parentNode}return null}posFromDOM(e,t){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}domAtPos(e){let{i:t,off:n}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let s=this.children[t];if(n<s.length||s instanceof Yt)break;t++,n=0}return this.children[t].domAtPos(n)}coordsAt(e,t){for(let n=this.length,s=this.children.length-1;;s--){let l=this.children[s],r=n-l.breakAfter-l.length;if(e>r||e==r&&l.type!=it.WidgetBefore&&l.type!=it.WidgetAfter&&(!s||t==2||this.children[s-1].breakAfter||this.children[s-1].type==it.WidgetBefore&&t>-2))return l.coordsAt(e-r,t);n=r}}measureVisibleLineHeights(){let e=[],{from:t,to:n}=this.view.viewState.viewport,s=this.view.contentDOM.clientWidth,l=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,r=-1;for(let o=0,a=0;a<this.children.length;a++){let f=this.children[a],u=o+f.length;if(u>n)break;if(o>=t){let c=f.dom.getBoundingClientRect();if(e.push(c.height),l){let h=f.dom.lastChild,d=h?Vr(h):[];if(d.length){let m=d[d.length-1],p=this.view.textDirection==Ke.LTR?m.right-c.left:c.right-m.left;p>r&&(r=p,this.minWidth=s,this.minWidthFrom=o,this.minWidthTo=u)}}}o=u+f.breakAfter}return e}measureTextSize(){for(let s of this.children)if(s instanceof Yt){let l=s.measureTextSize();if(l)return l}let e=document.createElement("div"),t,n;return e.className="cm-line",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=Vr(e.firstChild)[0];t=e.getBoundingClientRect().height,n=s?s.width/27:7,e.remove()}),{lineHeight:t,charWidth:n}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new Wp(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,s=0;;s++){let l=s==t.viewports.length?null:t.viewports[s],r=l?l.from-1:this.length;if(r>n){let o=t.lineBlockAt(r).bottom-t.lineBlockAt(n).top;e.push(Me.replace({widget:new Nh(o),block:!0,inclusive:!0}).range(n,r))}if(!l)break;n=l.to+1}return Me.set(e)}updateDeco(){let e=this.view.pluginField($t.decorations);return this.pluginDecorationLength=e.length,this.decorations=[...e,...this.view.state.facet(gs),this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:t}=e,n=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),s;if(!n)return;!t.empty&&(s=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(n={left:Math.min(n.left,s.left),top:Math.min(n.top,s.top),right:Math.max(n.right,s.right),bottom:Math.max(n.bottom,s.bottom)});let l=0,r=0,o=0,a=0;for(let u of this.view.pluginField($t.scrollMargins))if(u){let{left:c,right:h,top:d,bottom:m}=u;c!=null&&(l=Math.max(l,c)),h!=null&&(r=Math.max(r,h)),d!=null&&(o=Math.max(o,d)),m!=null&&(a=Math.max(a,m))}let f={left:n.left-l,top:n.top-o,right:n.right+r,bottom:n.bottom+a};jO(this.view.scrollDOM,f,t.head<t.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==Ke.LTR)}}function iS(i){return i.node.nodeType==1&&i.node.firstChild&&(i.offset==0||i.node.childNodes[i.offset-1].contentEditable=="false")&&(i.offset==i.node.childNodes.length||i.node.childNodes[i.offset].contentEditable=="false")}class Nh extends ns{constructor(e){super();this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function hg(i){let e=i.observer.selectionRange,t=e.focusNode&&dg(e.focusNode,e.focusOffset,0);if(!t)return null;let n=i.docView.nearest(t);if(!n)return null;if(n instanceof Yt){let s=t;for(;s.parentNode!=n.dom;)s=s.parentNode;let l=s.previousSibling;for(;l&&!mt.get(l);)l=l.previousSibling;let r=l?mt.get(l).posAtEnd:n.posAtStart;return{from:r,to:r,node:s,text:t}}else{for(;;){let{parent:l}=n;if(!l)return null;if(l instanceof Yt)break;n=l}let s=n.posAtStart;return{from:s,to:s+n.length,node:n.dom,text:t}}}function sS(i,e){let t=hg(i);if(!t)return Me.none;let{from:n,to:s,node:l,text:r}=t,o=e.mapPos(n,1),a=Math.max(o,e.mapPos(s,-1)),{state:f}=i,u=l.nodeType==3?l.nodeValue:new cg([],f).readRange(l.firstChild,null).text;if(a-o<u.length)if(f.doc.sliceString(o,Math.min(f.doc.length,o+u.length),Vi)==u)a=o+u.length;else if(f.doc.sliceString(Math.max(0,a-u.length),a,Vi)==u)o=a-u.length;else return Me.none;else if(f.doc.sliceString(o,a,Vi)!=u)return Me.none;let c=mt.get(l);return c instanceof Gp?c=c.widget.topView:c&&(c.parent=null),Me.set(Me.replace({widget:new rS(l,r,c)}).range(o,a))}class rS extends ns{constructor(e,t,n){super();this.top=e,this.text=t,this.topView=n}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return Gp}}function dg(i,e,t){for(;;){if(i.nodeType==3)return i;if(i.nodeType==1&&e>0&&t<=0)i=i.childNodes[e-1],e=to(i);else if(i.nodeType==1&&e<i.childNodes.length&&t>=0)i=i.childNodes[e],e=0;else return null}}function lS(i,e){return i.nodeType!=1?0:(e&&i.childNodes[e-1].contentEditable=="false"?1:0)|(e<i.childNodes.length&&i.childNodes[e].contentEditable=="false"?2:0)}class oS{constructor(){this.changes=[]}compareRange(e,t){vf(e,t,this.changes)}comparePoint(e,t){vf(e,t,this.changes)}}function aS(i,e,t){let n=new oS;return xe.compare(i,e,t,n),n.changes}function fS(i,e){for(let t=i;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function uS(i,e,t=1){let n=i.charCategorizer(e),s=i.doc.lineAt(e),l=e-s.from;if(s.length==0)return J.cursor(e);l==0?t=1:l==s.length&&(t=-1);let r=l,o=l;t<0?r=gn(s.text,l,!1):o=gn(s.text,l);let a=n(s.text.slice(r,o));for(;r>0;){let f=gn(s.text,r,!1);if(n(s.text.slice(f,r))!=a)break;r=f}for(;o<s.length;){let f=gn(s.text,o);if(n(s.text.slice(o,f))!=a)break;o=f}return J.range(r+s.from,o+s.from)}function cS(i,e){return e.left>i?e.left-i:Math.max(0,i-e.right)}function hS(i,e){return e.top>i?e.top-i:Math.max(0,i-e.bottom)}function wa(i,e){return i.top<e.bottom-1&&i.bottom>e.top+1}function Lh(i,e){return e<i.top?{top:e,left:i.left,right:i.right,bottom:i.bottom}:i}function Bh(i,e){return e>i.bottom?{top:i.top,left:i.left,right:i.right,bottom:e}:i}function Sf(i,e,t){let n,s,l,r,o,a,f,u;for(let d=i.firstChild;d;d=d.nextSibling){let m=Vr(d);for(let p=0;p<m.length;p++){let b=m[p];s&&wa(s,b)&&(b=Lh(Bh(b,s.bottom),s.top));let y=cS(e,b),O=hS(t,b);if(y==0&&O==0)return d.nodeType==3?Qh(d,e,t):Sf(d,e,t);(!n||r>O||r==O&&l>y)&&(n=d,s=b,l=y,r=O),y==0?t>b.bottom&&(!f||f.bottom<b.bottom)?(o=d,f=b):t<b.top&&(!u||u.top>b.top)&&(a=d,u=b):f&&wa(f,b)?f=Bh(f,b.bottom):u&&wa(u,b)&&(u=Lh(u,b.top))}}if(f&&f.bottom>=t?(n=o,s=f):u&&u.top<=t&&(n=a,s=u),!n)return{node:i,offset:0};let c=Math.max(s.left,Math.min(s.right,e));if(n.nodeType==3)return Qh(n,c,t);if(!l&&n.contentEditable=="true")return Sf(n,c,t);let h=Array.prototype.indexOf.call(i.childNodes,n)+(e>=(s.left+s.right)/2?1:0);return{node:i,offset:h}}function Qh(i,e,t){let n=i.nodeValue.length,s=-1,l=1e9,r=0;for(let o=0;o<n;o++){let a=Fr(i,o,o+1).getClientRects();for(let f=0;f<a.length;f++){let u=a[f];if(u.top==u.bottom)continue;r||(r=e-u.left);let c=(u.top>t?u.top-t:t-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&c<l){let h=e>=(u.left+u.right)/2,d=h;if((Ee.chrome||Ee.gecko)&&Fr(i,o).getBoundingClientRect().left==u.right&&(d=!h),c<=0)return{node:i,offset:o+(d?1:0)};s=o+(d?1:0),l=c}}}return{node:i,offset:s>-1?s:r>0?i.nodeValue.length:0}}function mg(i,{x:e,y:t},n,s=-1){var l;let r=i.contentDOM.getBoundingClientRect(),o=r.top+i.viewState.paddingTop,a,{docHeight:f}=i.viewState,u=t-o;if(u<0)return 0;if(u>f)return i.state.doc.length;for(let y=i.defaultLineHeight/2,O=!1;a=i.elementAtHeight(u),a.type!=it.Text;)for(;u=s>0?a.bottom+y:a.top-y,!(u>=0&&u<=f);){if(O)return n?null:0;O=!0,s=-s}t=o+u;let c=a.from;if(c<i.viewport.from)return i.viewport.from==0?0:n?null:zh(i,r,a,e,t);if(c>i.viewport.to)return i.viewport.to==i.state.doc.length?i.state.doc.length:n?null:zh(i,r,a,e,t);let h=i.dom.ownerDocument,d=i.root.elementFromPoint?i.root:h,m=d.elementFromPoint(e,t);m&&!i.contentDOM.contains(m)&&(m=null),m||(e=Math.max(r.left+1,Math.min(r.right-1,e)),m=d.elementFromPoint(e,t),m&&!i.contentDOM.contains(m)&&(m=null));let p,b=-1;if(m&&((l=i.docView.nearest(m))===null||l===void 0?void 0:l.isEditable)!=!1){if(h.caretPositionFromPoint){let y=h.caretPositionFromPoint(e,t);y&&({offsetNode:p,offset:b}=y)}else if(h.caretRangeFromPoint){let y=h.caretRangeFromPoint(e,t);y&&({startContainer:p,startOffset:b}=y,Ee.safari&&dS(p,b,e)&&(p=void 0))}}if(!p||!i.docView.dom.contains(p)){let y=Yt.find(i.docView,c);if(!y)return u>a.top+a.height/2?a.to:a.from;({node:p,offset:b}=Sf(y.dom,e,t))}return i.docView.posFromDOM(p,b)}function zh(i,e,t,n,s){let l=Math.round((n-e.left)*i.defaultCharacterWidth);i.lineWrapping&&t.height>i.defaultLineHeight*1.5&&(l+=Math.floor((s-t.top)/i.defaultLineHeight)*i.viewState.heightOracle.lineLength);let r=i.state.sliceDoc(t.from,t.to);return t.from+xa(r,l,i.state.tabSize)}function dS(i,e,t){let n;if(i.nodeType!=3||e!=(n=i.nodeValue.length))return!1;for(let s=i.nextSibling;s;s=s.nextSibling)if(s.nodeType!=1||s.nodeName!="BR")return!1;return Fr(i,n-1,n).getBoundingClientRect().left>t}function mS(i,e,t,n){let s=i.state.doc.lineAt(e.head),l=!n||!i.lineWrapping?null:i.coordsAtPos(e.assoc<0&&e.head>s.from?e.head-1:e.head);if(l){let a=i.dom.getBoundingClientRect(),f=i.posAtCoords({x:t==(i.textDirection==Ke.LTR)?a.right-1:a.left+1,y:(l.top+l.bottom)/2});if(f!=null)return J.cursor(f,t?-1:1)}let r=Yt.find(i.docView,e.head),o=r?t?r.posAtEnd:r.posAtStart:t?s.to:s.from;return J.cursor(o,t?-1:1)}function Vh(i,e,t,n){let s=i.state.doc.lineAt(e.head),l=i.bidiSpans(s);for(let r=e,o=null;;){let a=nS(s,l,i.textDirection,r,t),f=ug;if(!a){if(s.number==(t?i.state.doc.lines:1))return r;f=`
`,s=i.state.doc.line(s.number+(t?1:-1)),l=i.bidiSpans(s),a=J.cursor(t?s.from:s.to)}if(o){if(!o(f))return r}else{if(!n)return a;o=n(f)}r=a}}function pS(i,e,t){let n=i.state.charCategorizer(e),s=n(t);return l=>{let r=n(l);return s==bn.Space&&(s=r),s==r}}function gS(i,e,t,n){let s=e.head,l=t?1:-1;if(s==(t?i.state.doc.length:0))return J.cursor(s,e.assoc);let r=e.goalColumn,o,a=i.contentDOM.getBoundingClientRect(),f=i.coordsAtPos(s),u=i.documentTop;if(f)r==null&&(r=f.left-a.left),o=l<0?f.top:f.bottom;else{let d=i.viewState.lineBlockAt(s-u);r==null&&(r=Math.min(a.right-a.left,i.defaultCharacterWidth*(s-d.from))),o=(l<0?d.top:d.bottom)+u}let c=a.left+r,h=n!=null?n:i.defaultLineHeight>>1;for(let d=0;;d+=10){let m=o+(h+d)*l,p=mg(i,{x:c,y:m},!1,l);if(m<a.top||m>a.bottom||(l<0?p<s:p>s))return J.cursor(p,e.assoc,void 0,r)}}function Oa(i,e,t){let n=i.pluginField($t.atomicRanges);for(;;){let s=!1;for(let l of n)l.between(t.from-1,t.from+1,(r,o,a)=>{t.from>r&&t.from<o&&(t=e.from>t.from?J.cursor(r,1):J.cursor(o,-1),s=!0)});if(!s)return t}}class bS{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.rapidCompositionStart=!1,this.mouseSelection=null;for(let t in Tt){let n=Tt[t];e.contentDOM.addEventListener(t,s=>{t=="keydown"&&this.keydown(e,s)||!Fh(e,s)||this.ignoreDuringComposition(s)||(this.mustFlushObserver(s)&&e.observer.forceFlush(),this.runCustomHandlers(t,e,s)?s.preventDefault():n(e,s))}),this.registeredEvents.push(t)}this.notifiedFocused=e.hasFocus,this.ensureHandlers(e),Ee.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e){let t=this.customHandlers=e.pluginField(rg);for(let n of t)for(let s in n.handlers)this.registeredEvents.indexOf(s)<0&&s!="scroll"&&(this.registeredEvents.push(s),e.contentDOM.addEventListener(s,l=>{!Fh(e,l)||this.runCustomHandlers(s,e,l)&&l.preventDefault()}))}runCustomHandlers(e,t,n){for(let s of this.customHandlers){let l=s.handlers[e];if(l)try{if(l.call(s.plugin,n,t)||n.defaultPrevented)return!0}catch(r){wn(t.state,r)}}return!1}runScrollHandlers(e,t){for(let n of this.customHandlers){let s=n.handlers.scroll;if(s)try{s.call(n.plugin,t,e)}catch(l){wn(e.state,l)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),this.screenKeyEvent(e,t))return!0;if(Ee.android&&Ee.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let n;return Ee.ios&&(n=pg.find(s=>s.keyCode==t.keyCode))&&!(t.ctrlKey||t.altKey||t.metaKey)&&!t.synthetic?(this.pendingIOSKey=n,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let t=this.pendingIOSKey;return t?(this.pendingIOSKey=void 0,Dr(e.contentDOM,t.key,t.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:Ee.safari&&Date.now()-this.compositionEndedAt<500?(this.compositionEndedAt=0,!0):!1:!1}screenKeyEvent(e,t){let n=t.keyCode==9&&Date.now()<this.lastEscPress+2e3;return t.keyCode==27?this.lastEscPress=Date.now():gg.indexOf(t.keyCode)<0&&(this.lastEscPress=0),n}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229||e.type=="compositionend"&&!Ee.ios}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const pg=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],gg=[16,17,18,20,91,92,224,225];class _S{constructor(e,t,n,s){this.view=e,this.style=n,this.mustSelect=s,this.lastEvent=t;let l=e.contentDOM.ownerDocument;l.addEventListener("mousemove",this.move=this.move.bind(this)),l.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Xe.allowMultipleSelections)&&vS(e,t),this.dragMove=kS(e,t),this.dragging=yS(e,t)&&yu(t)==1?null:!1,this.dragging===!1&&(t.preventDefault(),this.select(t))}move(e){if(e.buttons==0)return this.destroy();this.dragging===!1&&this.select(this.lastEvent=e)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}select(e){let t=this.style.get(e,this.extend,this.multiple);(this.mustSelect||!t.eq(this.view.state.selection)||t.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:t,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function vS(i,e){let t=i.state.facet(Jp);return t.length?t[0](e):Ee.mac?e.metaKey:e.ctrlKey}function kS(i,e){let t=i.state.facet(eg);return t.length?t[0](e):Ee.mac?!e.altKey:!e.ctrlKey}function yS(i,e){let{main:t}=i.state.selection;if(t.empty)return!1;let n=Jl(i.root);if(n.rangeCount==0)return!0;let s=n.getRangeAt(0).getClientRects();for(let l=0;l<s.length;l++){let r=s[l];if(r.left<=e.clientX&&r.right>=e.clientX&&r.top<=e.clientY&&r.bottom>=e.clientY)return!0}return!1}function Fh(i,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,n;t!=i.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(n=mt.get(t))&&n.ignoreEvent(e))return!1;return!0}const Tt=Object.create(null),bg=Ee.ie&&Ee.ie_version<15||Ee.ios&&Ee.webkit_version<604;function wS(i){let e=i.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{i.focus(),t.remove(),_g(i,t.value)},50)}function _g(i,e){let{state:t}=i,n,s=1,l=t.toText(e),r=l.lines==t.selection.ranges.length;if(Cf!=null&&t.selection.ranges.every(a=>a.empty)&&Cf==l.toString()){let a=-1;n=t.changeByRange(f=>{let u=t.doc.lineAt(f.from);if(u.from==a)return{range:f};a=u.from;let c=t.toText((r?l.line(s++).text:e)+t.lineBreak);return{changes:{from:u.from,insert:c},range:J.cursor(f.from+c.length)}})}else r?n=t.changeByRange(a=>{let f=l.line(s++);return{changes:{from:a.from,to:a.to,insert:f.text},range:J.cursor(a.from+f.length)}}):n=t.replaceSelection(l);i.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}Tt.keydown=(i,e)=>{i.inputState.setSelectionOrigin("select")};let vg=0;Tt.touchstart=(i,e)=>{vg=Date.now(),i.inputState.setSelectionOrigin("select.pointer")};Tt.touchmove=i=>{i.inputState.setSelectionOrigin("select.pointer")};Tt.mousedown=(i,e)=>{if(i.observer.flush(),vg>Date.now()-2e3&&yu(e)==1)return;let t=null;for(let n of i.state.facet(tg))if(t=n(i,e),t)break;if(!t&&e.button==0&&(t=CS(i,e)),t){let n=i.root.activeElement!=i.contentDOM;n&&i.observer.ignore(()=>Vp(i.contentDOM)),i.inputState.startMouseSelection(new _S(i,e,t,n))}};function Wh(i,e,t,n){if(n==1)return J.cursor(e,t);if(n==2)return uS(i.state,e,t);{let s=Yt.find(i.docView,e),l=i.state.doc.lineAt(s?s.posAtEnd:e),r=s?s.posAtStart:l.from,o=s?s.posAtEnd:l.to;return o<i.state.doc.length&&o==l.to&&o++,J.range(r,o)}}let kg=(i,e)=>i>=e.top&&i<=e.bottom,jh=(i,e,t)=>kg(e,t)&&i>=t.left&&i<=t.right;function OS(i,e,t,n){let s=Yt.find(i.docView,e);if(!s)return 1;let l=e-s.posAtStart;if(l==0)return 1;if(l==s.length)return-1;let r=s.coordsAt(l,-1);if(r&&jh(t,n,r))return-1;let o=s.coordsAt(l,1);return o&&jh(t,n,o)?1:r&&kg(n,r)?-1:1}function Hh(i,e){let t=i.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:OS(i,t,e.clientX,e.clientY)}}const SS=Ee.ie&&Ee.ie_version<=11;let Uh=null,qh=0,$h=0;function yu(i){if(!SS)return i.detail;let e=Uh,t=$h;return Uh=i,$h=Date.now(),qh=!e||t>Date.now()-400&&Math.abs(e.clientX-i.clientX)<2&&Math.abs(e.clientY-i.clientY)<2?(qh+1)%3:1}function CS(i,e){let t=Hh(i,e),n=yu(e),s=i.state.selection,l=t,r=e;return{update(o){o.docChanged&&(t&&(t.pos=o.changes.mapPos(t.pos)),s=s.map(o.changes),r=null)},get(o,a,f){let u;if(r&&o.clientX==r.clientX&&o.clientY==r.clientY?u=l:(u=l=Hh(i,o),r=o),!u||!t)return s;let c=Wh(i,u.pos,u.bias,n);if(t.pos!=u.pos&&!a){let h=Wh(i,t.pos,t.bias,n),d=Math.min(h.from,c.from),m=Math.max(h.to,c.to);c=d<c.from?J.range(d,m):J.range(m,d)}return a?s.replaceRange(s.main.extend(c.from,c.to)):f?s.addRange(c):J.create([c])}}}Tt.dragstart=(i,e)=>{let{selection:{main:t}}=i.state,{mouseSelection:n}=i.inputState;n&&(n.dragging=t),e.dataTransfer&&(e.dataTransfer.setData("Text",i.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove")};function Gh(i,e,t,n){if(!t)return;let s=i.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:l}=i.inputState,r=n&&l&&l.dragging&&l.dragMove?{from:l.dragging.from,to:l.dragging.to}:null,o={from:s,insert:t},a=i.state.changes(r?[r,o]:o);i.focus(),i.dispatch({changes:a,selection:{anchor:a.mapPos(s,-1),head:a.mapPos(s,1)},userEvent:r?"move.drop":"input.drop"})}Tt.drop=(i,e)=>{if(!e.dataTransfer)return;if(i.state.readOnly)return e.preventDefault();let t=e.dataTransfer.files;if(t&&t.length){e.preventDefault();let n=Array(t.length),s=0,l=()=>{++s==t.length&&Gh(i,e,n.filter(r=>r!=null).join(i.state.lineBreak),!1)};for(let r=0;r<t.length;r++){let o=new FileReader;o.onerror=l,o.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(o.result)||(n[r]=o.result),l()},o.readAsText(t[r])}}else Gh(i,e,e.dataTransfer.getData("Text"),!0)};Tt.paste=(i,e)=>{if(i.state.readOnly)return e.preventDefault();i.observer.flush();let t=bg?null:e.clipboardData;t?(_g(i,t.getData("text/plain")),e.preventDefault()):wS(i)};function AS(i,e){let t=i.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=e,n.focus(),n.selectionEnd=e.length,n.selectionStart=0,setTimeout(()=>{n.remove(),i.focus()},50)}function ES(i){let e=[],t=[],n=!1;for(let s of i.selection.ranges)s.empty||(e.push(i.sliceDoc(s.from,s.to)),t.push(s));if(!e.length){let s=-1;for(let{from:l}of i.selection.ranges){let r=i.doc.lineAt(l);r.number>s&&(e.push(r.text),t.push({from:r.from,to:Math.min(i.doc.length,r.to+1)})),s=r.number}n=!0}return{text:e.join(i.lineBreak),ranges:t,linewise:n}}let Cf=null;Tt.copy=Tt.cut=(i,e)=>{let{text:t,ranges:n,linewise:s}=ES(i.state);if(!t&&!s)return;Cf=s?t:null;let l=bg?null:e.clipboardData;l?(e.preventDefault(),l.clearData(),l.setData("text/plain",t)):AS(i,t),e.type=="cut"&&!i.state.readOnly&&i.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"})};Tt.focus=Tt.blur=i=>{setTimeout(()=>{i.hasFocus!=i.inputState.notifiedFocused&&i.update([])},10)};Tt.beforeprint=i=>{i.viewState.printing=!0,i.requestMeasure(),setTimeout(()=>{i.viewState.printing=!1,i.requestMeasure()},2e3)};function yg(i,e){if(i.docView.compositionDeco.size){i.inputState.rapidCompositionStart=e;try{i.update([])}finally{i.inputState.rapidCompositionStart=!1}}}Tt.compositionstart=Tt.compositionupdate=i=>{i.inputState.compositionFirstChange==null&&(i.inputState.compositionFirstChange=!0),i.inputState.composing<0&&(i.inputState.composing=0,i.docView.compositionDeco.size&&(i.observer.flush(),yg(i,!0)))};Tt.compositionend=i=>{i.inputState.composing=-1,i.inputState.compositionEndedAt=Date.now(),i.inputState.compositionFirstChange=null,setTimeout(()=>{i.inputState.composing<0&&yg(i,!1)},50)};Tt.contextmenu=i=>{i.inputState.lastContextMenu=Date.now()};Tt.beforeinput=(i,e)=>{var t;let n;if(Ee.chrome&&Ee.android&&(n=pg.find(s=>s.inputType==e.inputType))&&(i.observer.delayAndroidKey(n.key,n.keyCode),n.key=="Backspace"||n.key=="Delete")){let s=((t=window.visualViewport)===null||t===void 0?void 0:t.height)||0;setTimeout(()=>{var l;(((l=window.visualViewport)===null||l===void 0?void 0:l.height)||0)>s+10&&i.hasFocus&&(i.contentDOM.blur(),i.focus())},100)}};const Xh=["pre-wrap","normal","pre-line","break-spaces"];class DS{constructor(){this.doc=tt.empty,this.lineWrapping=!1,this.direction=Ke.LTR,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength)),this.lineHeight*n}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForStyle(e,t){return Xh.indexOf(e)>-1!=this.lineWrapping||this.direction!=t}mustRefreshForHeights(e){let t=!1;for(let n=0;n<e.length;n++){let s=e[n];s<0?n++:this.heightSamples[Math.floor(s*10)]||(t=!0,this.heightSamples[Math.floor(s*10)]=!0)}return t}refresh(e,t,n,s,l,r){let o=Xh.indexOf(e)>-1,a=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=o||this.direction!=t;if(this.lineWrapping=o,this.direction=t,this.lineHeight=n,this.charWidth=s,this.lineLength=l,a){this.heightSamples={};for(let f=0;f<r.length;f++){let u=r[f];u<0?f++:this.heightSamples[Math.floor(u*10)]=!0}}return a}}class TS{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class gi{constructor(e,t,n,s,l){this.from=e,this.length=t,this.top=n,this.height=s,this.type=l}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let t=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new gi(this.from,this.length+e.length,this.top,this.height+e.height,t)}moveY(e){return e?new gi(this.from,this.length,this.top+e,this.height,Array.isArray(this.type)?this.type.map(t=>t.moveY(e)):this.type):this}}var ot=function(i){return i[i.ByPos=0]="ByPos",i[i.ByHeight=1]="ByHeight",i[i.ByPosNoHeight=2]="ByPosNoHeight",i}(ot||(ot={}));const Ql=.001;class on{constructor(e,t,n=2){this.length=e,this.height=t,this.flags=n}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>Ql&&(e.heightChanged=!0),this.height=t)}replace(e,t,n){return on.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,s){let l=this;for(let r=s.length-1;r>=0;r--){let{fromA:o,toA:a,fromB:f,toB:u}=s[r],c=l.lineAt(o,ot.ByPosNoHeight,t,0,0),h=c.to>=a?c:l.lineAt(a,ot.ByPosNoHeight,t,0,0);for(u+=h.to-a,a=h.to;r>0&&c.from<=s[r-1].toA;)o=s[r-1].fromA,f=s[r-1].fromB,r--,o<c.from&&(c=l.lineAt(o,ot.ByPosNoHeight,t,0,0));f+=c.from-o,o=c.from;let d=wu.build(n,e,f,u);l=l.replace(o,a,d)}return l.updateHeight(n,0)}static empty(){return new dn(0,0)}static of(e){if(e.length==1)return e[0];let t=0,n=e.length,s=0,l=0;for(;;)if(t==n)if(s>l*2){let o=e[t-1];o.break?e.splice(--t,1,o.left,null,o.right):e.splice(--t,1,o.left,o.right),n+=1+o.break,s-=o.size}else if(l>s*2){let o=e[n];o.break?e.splice(n,1,o.left,null,o.right):e.splice(n,1,o.left,o.right),n+=2+o.break,l-=o.size}else break;else if(s<l){let o=e[t++];o&&(s+=o.size)}else{let o=e[--n];o&&(l+=o.size)}let r=0;return e[t-1]==null?(r=1,t--):e[t]==null&&(r=1,n++),new PS(on.of(e.slice(0,t)),r,on.of(e.slice(n)))}}on.prototype.size=1;class wg extends on{constructor(e,t,n){super(e,t);this.type=n}blockAt(e,t,n,s){return new gi(s,this.length,n,this.height,this.type)}lineAt(e,t,n,s,l){return this.blockAt(0,n,s,l)}forEachLine(e,t,n,s,l,r){r(this.blockAt(0,n,s,l))}updateHeight(e,t=0,n=!1,s){return s&&s.from<=t&&s.more&&this.setHeight(e,s.heights[s.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class dn extends wg{constructor(e,t){super(e,t,it.Text);this.collapsed=0,this.widgetHeight=0}replace(e,t,n){let s=n[0];return n.length==1&&(s instanceof dn||s instanceof Bt&&s.flags&4)&&Math.abs(this.length-s.length)<10?(s instanceof Bt?s=new dn(s.length,this.height):s.height=this.height,this.outdated||(s.outdated=!1),s):on.of(n)}updateHeight(e,t=0,n=!1,s){return s&&s.from<=t&&s.more?this.setHeight(e,s.heights[s.index++]):(n||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Bt extends on{constructor(e){super(e,0)}lines(e,t){let n=e.lineAt(t).number,s=e.lineAt(t+this.length).number;return{firstLine:n,lastLine:s,lineHeight:this.height/(s-n+1)}}blockAt(e,t,n,s){let{firstLine:l,lastLine:r,lineHeight:o}=this.lines(t,s),a=Math.max(0,Math.min(r-l,Math.floor((e-n)/o))),{from:f,length:u}=t.line(l+a);return new gi(f,u,n+o*a,o,it.Text)}lineAt(e,t,n,s,l){if(t==ot.ByHeight)return this.blockAt(e,n,s,l);if(t==ot.ByPosNoHeight){let{from:c,to:h}=n.lineAt(e);return new gi(c,h-c,0,0,it.Text)}let{firstLine:r,lineHeight:o}=this.lines(n,l),{from:a,length:f,number:u}=n.lineAt(e);return new gi(a,f,s+o*(u-r),o,it.Text)}forEachLine(e,t,n,s,l,r){let{firstLine:o,lineHeight:a}=this.lines(n,l);for(let f=Math.max(e,l),u=Math.min(l+this.length,t);f<=u;){let c=n.lineAt(f);f==e&&(s+=a*(c.number-o)),r(new gi(c.from,c.length,s,a,it.Text)),s+=a,f=c.to+1}}replace(e,t,n){let s=this.length-t;if(s>0){let l=n[n.length-1];l instanceof Bt?n[n.length-1]=new Bt(l.length+s):n.push(null,new Bt(s-1))}if(e>0){let l=n[0];l instanceof Bt?n[0]=new Bt(e+l.length):n.unshift(new Bt(e-1),null)}return on.of(n)}decomposeLeft(e,t){t.push(new Bt(e-1),null)}decomposeRight(e,t){t.push(null,new Bt(this.length-e-1))}updateHeight(e,t=0,n=!1,s){let l=t+this.length;if(s&&s.from<=t+this.length&&s.more){let r=[],o=Math.max(t,s.from),a=-1,f=e.heightChanged;for(s.from>t&&r.push(new Bt(s.from-t-1).updateHeight(e,t));o<=l&&s.more;){let c=e.doc.lineAt(o).length;r.length&&r.push(null);let h=s.heights[s.index++];a==-1?a=h:Math.abs(h-a)>=Ql&&(a=-2);let d=new dn(c,h);d.outdated=!1,r.push(d),o+=c+1}o<=l&&r.push(null,new Bt(l-o).updateHeight(e,o));let u=on.of(r);return e.heightChanged=f||a<0||Math.abs(u.height-this.height)>=Ql||Math.abs(a-this.lines(e.doc,t).lineHeight)>=Ql,u}else(n||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class PS extends on{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0));this.left=e,this.right=n,this.size=e.size+n.size}get break(){return this.flags&1}blockAt(e,t,n,s){let l=n+this.left.height;return e<l?this.left.blockAt(e,t,n,s):this.right.blockAt(e,t,l,s+this.left.length+this.break)}lineAt(e,t,n,s,l){let r=s+this.left.height,o=l+this.left.length+this.break,a=t==ot.ByHeight?e<r:e<o,f=a?this.left.lineAt(e,t,n,s,l):this.right.lineAt(e,t,n,r,o);if(this.break||(a?f.to<o:f.from>o))return f;let u=t==ot.ByPosNoHeight?ot.ByPosNoHeight:ot.ByPos;return a?f.join(this.right.lineAt(o,u,n,r,o)):this.left.lineAt(o,u,n,s,l).join(f)}forEachLine(e,t,n,s,l,r){let o=s+this.left.height,a=l+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,n,s,l,r),t>=a&&this.right.forEachLine(e,t,n,o,a,r);else{let f=this.lineAt(a,ot.ByPos,n,s,l);e<f.from&&this.left.forEachLine(e,f.from-1,n,s,l,r),f.to>=e&&f.from<=t&&r(f),t>f.to&&this.right.forEachLine(f.to+1,t,n,o,a,r)}}replace(e,t,n){let s=this.left.length+this.break;if(t<s)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-s,t-s,n));let l=[];e>0&&this.decomposeLeft(e,l);let r=l.length;for(let o of n)l.push(o);if(e>0&&Zh(l,r-1),t<this.length){let o=l.length;this.decomposeRight(t,l),Zh(l,o)}return on.of(l)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,s=n+this.break;if(e>=s)return this.right.decomposeRight(e-s,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<s&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?on.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,n=!1,s){let{left:l,right:r}=this,o=t+l.length+this.break,a=null;return s&&s.from<=t+l.length&&s.more?a=l=l.updateHeight(e,t,n,s):l.updateHeight(e,t,n),s&&s.from<=o+r.length&&s.more?a=r=r.updateHeight(e,o,n,s):r.updateHeight(e,o,n),a?this.balanced(l,r):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Zh(i,e){let t,n;i[e]==null&&(t=i[e-1])instanceof Bt&&(n=i[e+1])instanceof Bt&&i.splice(e-1,3,new Bt(t.length+1+n.length))}const MS=5;class wu{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let n=Math.min(t,this.lineEnd),s=this.nodes[this.nodes.length-1];s instanceof dn?s.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new dn(n-this.pos,-1)),this.writtenTo=n,t>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let s=n.widget?n.widget.estimatedHeight:0;s<0&&(s=this.oracle.lineHeight);let l=t-e;n.block?this.addBlock(new wg(l,s,n.type)):(l||s>=MS)&&this.addLineDeco(s,l)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new dn(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let n=new Bt(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof dn)return e;let t=new dn(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine(),e.type==it.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=it.WidgetBefore&&(this.covering=e)}addLineDeco(e,t){let n=this.ensureLine();n.length+=t,n.collapsed+=t,n.widgetHeight=Math.max(n.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof dn)&&!this.isCovered?this.nodes.push(new dn(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let n=e;for(let s of this.nodes)s instanceof dn&&s.updateHeight(this.oracle,n),n+=s?s.length:1;return this.nodes}static build(e,t,n,s){let l=new wu(n,e);return xe.spans(t,n,s,l,0),l.finish(n)}}function IS(i,e,t){let n=new RS;return xe.compare(i,e,t,n,0),n.changes}class RS{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,s){(e<t||n&&n.heightRelevant||s&&s.heightRelevant)&&vf(e,t,this.changes,5)}}function NS(i,e){let t=i.getBoundingClientRect(),n=Math.max(0,t.left),s=Math.min(innerWidth,t.right),l=Math.max(0,t.top),r=Math.min(innerHeight,t.bottom),o=i.ownerDocument.body;for(let a=i.parentNode;a&&a!=o;)if(a.nodeType==1){let f=a,u=window.getComputedStyle(f);if((f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth)&&u.overflow!="visible"){let c=f.getBoundingClientRect();n=Math.max(n,c.left),s=Math.min(s,c.right),l=Math.max(l,c.top),r=Math.min(r,c.bottom)}a=u.position=="absolute"||u.position=="fixed"?f.offsetParent:f.parentNode}else if(a.nodeType==11)a=a.host;else break;return{left:n-t.left,right:Math.max(n,s)-t.left,top:l-(t.top+e),bottom:Math.max(l,r)-(t.top+e)}}class Sa{constructor(e,t,n){this.from=e,this.to=t,this.size=n}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let s=e[n],l=t[n];if(s.from!=l.from||s.to!=l.to||s.size!=l.size)return!1}return!0}draw(e){return Me.replace({widget:new LS(this.size,e)}).range(this.from,this.to)}}class LS extends ns{constructor(e,t){super();this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Kh{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.heightOracle=new DS,this.scaler=Jh,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.heightMap=on.empty().applyChanges(e.facet(gs),tt.empty,this.heightOracle.setDoc(e.doc),[new _i(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Me.set(this.lineGaps.map(t=>t.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let n=0;n<=1;n++){let s=n?t.head:t.anchor;if(!e.some(({from:l,to:r})=>s>=l&&s<=r)){let{from:l,to:r}=this.lineBlockAt(s);e.push(new kl(l,r))}}this.viewports=e.sort((n,s)=>n.from-s.from),this.scaler=this.heightMap.height<=7e6?Jh:new zS(this.heightOracle.doc,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:kr(e,this.scaler))})}update(e,t=null){let n=this.state;this.state=e.state;let s=this.state.facet(gs),l=e.changedRanges,r=_i.extendWithRanges(l,IS(e.startState.facet(gs),s,e?e.changes:Pt.empty(this.state.doc.length))),o=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(s,n.doc,this.heightOracle.setDoc(this.state.doc),r),this.heightMap.height!=o&&(e.flags|=2);let a=r.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<a.from||t.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,t));let f=!e.changes.empty||e.flags&2||a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,this.updateForViewport(),f&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,n=window.getComputedStyle(t),s=this.heightOracle,l=n.whiteSpace,r=n.direction=="rtl"?Ke.RTL:Ke.LTR,o=this.heightOracle.mustRefreshForStyle(l,r),a=o||this.mustMeasureContent||this.contentDOMHeight!=t.clientHeight,f=0,u=0;if(this.editorWidth!=e.scrollDOM.clientWidth&&(s.lineWrapping&&(a=!0),this.editorWidth=e.scrollDOM.clientWidth,f|=8),a){this.mustMeasureContent=!1,this.contentDOMHeight=t.clientHeight;let y=parseInt(n.paddingTop)||0,O=parseInt(n.paddingBottom)||0;(this.paddingTop!=y||this.paddingBottom!=O)&&(f|=8,this.paddingTop=y,this.paddingBottom=O)}let c=this.printing?{top:-1e8,bottom:1e8,left:-1e8,right:1e8}:NS(t,this.paddingTop),h=c.top-this.pixelViewport.top,d=c.bottom-this.pixelViewport.bottom;this.pixelViewport=c;let m=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(m!=this.inView&&(this.inView=m,m&&(a=!0)),!this.inView)return 0;let p=t.clientWidth;if((this.contentDOMWidth!=p||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=p,this.editorHeight=e.scrollDOM.clientHeight,f|=8),a){let y=e.docView.measureVisibleLineHeights();if(s.mustRefreshForHeights(y)&&(o=!0),o||s.lineWrapping&&Math.abs(p-this.contentDOMWidth)>s.charWidth){let{lineHeight:O,charWidth:C}=e.docView.measureTextSize();o=s.refresh(l,r,O,C,p/C,y),o&&(e.docView.minWidth=0,f|=8)}h>0&&d>0?u=Math.max(h,d):h<0&&d<0&&(u=Math.min(h,d)),s.heightChanged=!1,this.heightMap=this.heightMap.updateHeight(s,0,o,new TS(this.viewport.from,y)),s.heightChanged&&(f|=2)}let b=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return b&&(this.viewport=this.getViewport(u,this.scrollTarget)),this.updateForViewport(),(f&2||b)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps)),f|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),f}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),s=this.heightMap,l=this.state.doc,{visibleTop:r,visibleBottom:o}=this,a=new kl(s.lineAt(r-n*1e3,ot.ByHeight,l,0,0).from,s.lineAt(o+(1-n)*1e3,ot.ByHeight,l,0,0).to);if(t){let{head:f}=t.range;if(f<a.from||f>a.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),c=s.lineAt(f,ot.ByPos,l,0,0),h;t.y=="center"?h=(c.top+c.bottom)/2-u/2:t.y=="start"||t.y=="nearest"&&f<a.from?h=c.top:h=c.bottom-u,a=new kl(s.lineAt(h-1e3/2,ot.ByHeight,l,0,0).from,s.lineAt(h+u+1e3/2,ot.ByHeight,l,0,0).to)}}return a}mapViewport(e,t){let n=t.mapPos(e.from,-1),s=t.mapPos(e.to,1);return new kl(this.heightMap.lineAt(n,ot.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(s,ot.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:e,to:t},n=0){if(!this.inView)return!0;let{top:s}=this.heightMap.lineAt(e,ot.ByPos,this.state.doc,0,0),{bottom:l}=this.heightMap.lineAt(t,ot.ByPos,this.state.doc,0,0),{visibleTop:r,visibleBottom:o}=this;return(e==0||s<=r-Math.max(10,Math.min(-n,250)))&&(t==this.state.doc.length||l>=o+Math.max(10,Math.min(n,250)))&&s>r-2*1e3&&l<o+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];for(let s of e)t.touchesRange(s.from,s.to)||n.push(new Sa(t.mapPos(s.from),t.mapPos(s.to),s.size));return n}ensureLineGaps(e){let t=[];if(this.heightOracle.direction!=Ke.LTR)return t;for(let n of this.viewportLines){if(n.length<4e3)continue;let s=BS(n.from,n.to,this.state);if(s.total<4e3)continue;let l,r;if(this.heightOracle.lineWrapping){let f=2e3/this.heightOracle.lineLength*this.heightOracle.lineHeight;l=yl(s,(this.visibleTop-n.top-f)/n.height),r=yl(s,(this.visibleBottom-n.top+f)/n.height)}else{let f=s.total*this.heightOracle.charWidth,u=2e3*this.heightOracle.charWidth;l=yl(s,(this.pixelViewport.left-u)/f),r=yl(s,(this.pixelViewport.right+u)/f)}let o=[];l>n.from&&o.push({from:n.from,to:l}),r<n.to&&o.push({from:r,to:n.to});let a=this.state.selection.main;a.from>=n.from&&a.from<=n.to&&xh(o,a.from-10,a.from+10),!a.empty&&a.to>=n.from&&a.to<=n.to&&xh(o,a.to-10,a.to+10);for(let{from:f,to:u}of o)u-f>1e3&&t.push(QS(e,c=>c.from>=n.from&&c.to<=n.to&&Math.abs(c.from-f)<1e3&&Math.abs(c.to-u)<1e3)||new Sa(f,u,this.gapSize(n,f,u,s)))}return t}gapSize(e,t,n,s){let l=Yh(s,n)-Yh(s,t);return this.heightOracle.lineWrapping?e.height*l:s.total*this.heightOracle.charWidth*l}updateLineGaps(e){Sa.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Me.set(e.map(t=>t.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.state.facet(gs);this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];xe.spans(e,this.viewport.from,this.viewport.to,{span(s,l){t.push({from:s,to:l})},point(){}},20);let n=t.length!=this.visibleRanges.length||this.visibleRanges.some((s,l)=>s.from!=t[l].from||s.to!=t[l].to);return this.visibleRanges=t,n?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||kr(this.heightMap.lineAt(e,ot.ByPos,this.state.doc,0,0),this.scaler)}lineBlockAtHeight(e){return kr(this.heightMap.lineAt(this.scaler.fromDOM(e),ot.ByHeight,this.state.doc,0,0),this.scaler)}elementAtHeight(e){return kr(this.heightMap.blockAt(this.scaler.fromDOM(e),this.state.doc,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class kl{constructor(e,t){this.from=e,this.to=t}}function BS(i,e,t){let n=[],s=i,l=0;return xe.spans(t.facet(gs),i,e,{span(){},point(r,o){r>s&&(n.push({from:s,to:r}),l+=r-s),s=o}},20),s<e&&(n.push({from:s,to:e}),l+=e-s),{total:l,ranges:n}}function yl({total:i,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let n=Math.floor(i*t);for(let s=0;;s++){let{from:l,to:r}=e[s],o=r-l;if(n<=o)return l+n;n-=o}}function Yh(i,e){let t=0;for(let{from:n,to:s}of i.ranges){if(e<=s){t+=e-n;break}t+=s-n}return t/i.total}function xh(i,e,t){for(let n=0;n<i.length;n++){let s=i[n];if(s.from<t&&s.to>e){let l=[];s.from<e&&l.push({from:s.from,to:e}),s.to>t&&l.push({from:t,to:s.to}),i.splice(n,1,...l),n+=l.length-1}}}function QS(i,e){for(let t of i)if(e(t))return t}const Jh={toDOM(i){return i},fromDOM(i){return i},scale:1};class zS{constructor(e,t,n){let s=0,l=0,r=0;this.viewports=n.map(({from:o,to:a})=>{let f=t.lineAt(o,ot.ByPos,e,0,0).top,u=t.lineAt(a,ot.ByPos,e,0,0).bottom;return s+=u-f,{from:o,to:a,top:f,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-s)/(t.height-s);for(let o of this.viewports)o.domTop=r+(o.top-l)*this.scale,r=o.domBottom=o.domTop+(o.bottom-o.top),l=o.bottom}toDOM(e){for(let t=0,n=0,s=0;;t++){let l=t<this.viewports.length?this.viewports[t]:null;if(!l||e<l.top)return s+(e-n)*this.scale;if(e<=l.bottom)return l.domTop+(e-l.top);n=l.bottom,s=l.domBottom}}fromDOM(e){for(let t=0,n=0,s=0;;t++){let l=t<this.viewports.length?this.viewports[t]:null;if(!l||e<l.domTop)return n+(e-s)/this.scale;if(e<=l.domBottom)return l.top+(e-l.domTop);n=l.bottom,s=l.domBottom}}}function kr(i,e){if(e.scale==1)return i;let t=e.toDOM(i.top),n=e.toDOM(i.bottom);return new gi(i.from,i.length,t,n-t,Array.isArray(i.type)?i.type.map(s=>kr(s,e)):i.type)}const wl=Ae.define({combine:i=>i.join(" ")}),Af=Ae.define({combine:i=>i.indexOf(!0)>-1}),Ef=Ui.newName(),Og=Ui.newName(),Sg=Ui.newName(),Cg={"&light":"."+Og,"&dark":"."+Sg};function Df(i,e,t){return new Ui(e,{finish(n){return/&/.test(n)?n.replace(/&\w*/,s=>{if(s=="&")return i;if(!t||!t[s])throw new RangeError(`Unsupported selector: ${s}`);return t[s]}):i+" "+n}})}const VS=Df("."+Ef,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere"},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Cg),FS={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Ca=Ee.ie&&Ee.ie_version<=11;class WS{constructor(e,t,n){this.view=e,this.onChange=t,this.onScrollChanged=n,this.active=!1,this.selectionRange=new HO,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(s=>{for(let l of s)this.queue.push(l);(Ee.ie&&Ee.ie_version<=11||Ee.ios&&e.composing)&&s.some(l=>l.type=="childList"&&l.removedNodes.length||l.type=="characterData"&&l.oldValue.length>l.target.nodeValue.length)?this.flushSoon():this.flush()}),Ca&&(this.onCharData=s=>{this.queue.push({target:s.target,type:"characterData",oldValue:s.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),window.addEventListener("resize",this.onResize=this.onResize.bind(this)),typeof ResizeObserver=="function"&&(this.resize=new ResizeObserver(()=>{this.view.docView.lastUpdate<Date.now()-75&&this.onResize()}),this.resize.observe(e.scrollDOM)),this.start(),window.addEventListener("scroll",this.onScroll=this.onScroll.bind(this)),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(s=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),s.length>0&&s[s.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(s=>{s.length>0&&s[s.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange(),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,n)=>t!=e[n]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:t}=this,n=this.selectionRange;if(t.state.facet(tl)?t.root.activeElement!=this.dom:!hf(t.dom,n))return;let s=n.anchorNode&&t.docView.nearest(n.anchorNode);s&&s.ignoreEvent(e)||((Ee.ie&&Ee.ie_version<=11||Ee.android&&Ee.chrome)&&!t.state.selection.main.empty&&n.focusNode&&eo(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)?this.flushSoon():this.flush(!1))}readSelectionRange(){let{root:e}=this.view,t=Jl(e),n=Ee.safari&&e.nodeType==11&&FO()==this.view.contentDOM&&jS(this.view)||t;return this.selectionRange.eq(n)?!1:(this.selectionRange.setRange(n),this.selectionChanged=!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(n.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);for(let n of this.scrollTargets=t)n.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,FS),Ca&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){!this.active||(this.active=!1,this.observer.disconnect(),Ca&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){this.delayedAndroidKey||requestAnimationFrame(()=>{let n=this.delayedAndroidKey;this.delayedAndroidKey=null;let s=this.view.state;Dr(this.view.contentDOM,n.key,n.keyCode)?this.processRecords():this.flush(),this.view.state==s&&this.view.update([])}),(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t})}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=window.setTimeout(()=>{this.delayedFlush=-1,this.flush()},20))}forceFlush(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1,this.flush())}processRecords(){let e=this.queue;for(let l of this.observer.takeRecords())e.push(l);e.length&&(this.queue=[]);let t=-1,n=-1,s=!1;for(let l of e){let r=this.readMutation(l);!r||(r.typeOver&&(s=!0),t==-1?{from:t,to:n}=r:(t=Math.min(r.from,t),n=Math.max(r.to,n)))}return{from:t,to:n,typeOver:s}}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return;e&&this.readSelectionRange();let{from:t,to:n,typeOver:s}=this.processRecords(),l=this.selectionChanged&&hf(this.dom,this.selectionRange);if(t<0&&!l)return;this.selectionChanged=!1;let r=this.view.state;this.onChange(t,n,s),this.view.state==r&&this.view.update([])}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.dirty|=4),e.type=="childList"){let n=ed(t,e.previousSibling||e.target.previousSibling,-1),s=ed(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:s?t.posBefore(s):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}destroy(){var e,t,n;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(n=this.resize)===null||n===void 0||n.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout)}}function ed(i,e,t){for(;e;){let n=mt.get(e);if(n&&n.parent==i)return n;let s=e.parentNode;e=s!=i.dom?s:t>0?e.nextSibling:e.previousSibling}return null}function jS(i){let e=null;function t(a){a.preventDefault(),a.stopImmediatePropagation(),e=a.getTargetRanges()[0]}if(i.contentDOM.addEventListener("beforeinput",t,!0),document.execCommand("indent"),i.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let n=e.startContainer,s=e.startOffset,l=e.endContainer,r=e.endOffset,o=i.docView.domAtPos(i.state.selection.main.anchor);return eo(o.node,o.offset,l,r)&&([n,s,l,r]=[l,r,n,s]),{anchorNode:n,anchorOffset:s,focusNode:l,focusOffset:r}}function HS(i,e,t,n){let s,l,r=i.state.selection.main;if(e>-1){let o=i.docView.domBoundsAround(e,t,0);if(!o||i.state.readOnly)return;let{from:a,to:f}=o,u=i.docView.impreciseHead||i.docView.impreciseAnchor?[]:qS(i),c=new cg(u,i.state);c.readRange(o.startDOM,o.endDOM);let h=r.from,d=null;(i.inputState.lastKeyCode===8&&i.inputState.lastKeyTime>Date.now()-100||Ee.android&&c.text.length<f-a)&&(h=r.to,d="end");let m=US(i.state.doc.sliceString(a,f,Vi),c.text,h-a,d);m&&(Ee.chrome&&i.inputState.lastKeyCode==13&&m.toB==m.from+2&&c.text.slice(m.from,m.toB)==Vi+Vi&&m.toB--,s={from:a+m.from,to:a+m.toA,insert:tt.of(c.text.slice(m.from,m.toB).split(Vi))}),l=$S(u,a)}else if(i.hasFocus||!i.state.facet(tl)){let o=i.observer.selectionRange,{impreciseHead:a,impreciseAnchor:f}=i.docView,u=a&&a.node==o.focusNode&&a.offset==o.focusOffset||!cf(i.contentDOM,o.focusNode)?i.state.selection.main.head:i.docView.posFromDOM(o.focusNode,o.focusOffset),c=f&&f.node==o.anchorNode&&f.offset==o.anchorOffset||!cf(i.contentDOM,o.anchorNode)?i.state.selection.main.anchor:i.docView.posFromDOM(o.anchorNode,o.anchorOffset);(u!=r.head||c!=r.anchor)&&(l=J.single(c,u))}if(!(!s&&!l)){if(!s&&n&&!r.empty&&l&&l.main.empty?s={from:r.from,to:r.to,insert:i.state.doc.slice(r.from,r.to)}:s&&s.from>=r.from&&s.to<=r.to&&(s.from!=r.from||s.to!=r.to)&&r.to-r.from-(s.to-s.from)<=4&&(s={from:r.from,to:r.to,insert:i.state.doc.slice(r.from,s.from).append(s.insert).append(i.state.doc.slice(s.to,r.to))}),s){let o=i.state;if(Ee.ios&&i.inputState.flushIOSKey(i)||Ee.android&&(s.from==r.from&&s.to==r.to&&s.insert.length==1&&s.insert.lines==2&&Dr(i.contentDOM,"Enter",13)||s.from==r.from-1&&s.to==r.to&&s.insert.length==0&&Dr(i.contentDOM,"Backspace",8)||s.from==r.from&&s.to==r.to+1&&s.insert.length==0&&Dr(i.contentDOM,"Delete",46)))return;let a=s.insert.toString();if(i.state.facet(ig).some(c=>c(i,s.from,s.to,a)))return;i.inputState.composing>=0&&i.inputState.composing++;let f;if(s.from>=r.from&&s.to<=r.to&&s.to-s.from>=(r.to-r.from)/3&&(!l||l.main.empty&&l.main.from==s.from+s.insert.length)&&i.inputState.composing<0){let c=r.from<s.from?o.sliceDoc(r.from,s.from):"",h=r.to>s.to?o.sliceDoc(s.to,r.to):"";f=o.replaceSelection(i.state.toText(c+s.insert.sliceString(0,void 0,i.state.lineBreak)+h))}else{let c=o.changes(s),h=l&&!o.selection.main.eq(l.main)&&l.main.to<=c.newLength?l.main:void 0;if(o.selection.ranges.length>1&&i.inputState.composing>=0&&s.to<=r.to&&s.to>=r.to-10){let d=i.state.sliceDoc(s.from,s.to),m=hg(i)||i.state.doc.lineAt(r.head),p=r.to-s.to,b=r.to-r.from;f=o.changeByRange(y=>{if(y.from==r.from&&y.to==r.to)return{changes:c,range:h||y.map(c)};let O=y.to-p,C=O-d.length;if(y.to-y.from!=b||i.state.sliceDoc(C,O)!=d||m&&y.to>=m.from&&y.from<=m.to)return{range:y};let D=o.changes({from:C,to:O,insert:s.insert}),A=y.to-r.to;return{changes:D,range:h?J.range(Math.max(0,h.anchor+A),Math.max(0,h.head+A)):y.map(D)}})}else f={changes:c,selection:h&&o.selection.replaceRange(h)}}let u="input.type";i.composing&&(u+=".compose",i.inputState.compositionFirstChange&&(u+=".start",i.inputState.compositionFirstChange=!1)),i.dispatch(f,{scrollIntoView:!0,userEvent:u})}else if(l&&!l.main.eq(r)){let o=!1,a="select";i.inputState.lastSelectionTime>Date.now()-50&&(i.inputState.lastSelectionOrigin=="select"&&(o=!0),a=i.inputState.lastSelectionOrigin),i.dispatch({selection:l,scrollIntoView:o,userEvent:a})}}}function US(i,e,t,n){let s=Math.min(i.length,e.length),l=0;for(;l<s&&i.charCodeAt(l)==e.charCodeAt(l);)l++;if(l==s&&i.length==e.length)return null;let r=i.length,o=e.length;for(;r>0&&o>0&&i.charCodeAt(r-1)==e.charCodeAt(o-1);)r--,o--;if(n=="end"){let a=Math.max(0,l-Math.min(r,o));t-=r+a-l}return r<l&&i.length<e.length?(l-=t<=l&&t>=r?l-t:0,o=l+(o-r),r=l):o<l&&(l-=t<=l&&t>=o?l-t:0,r=l+(r-o),o=l),{from:l,toA:r,toB:o}}function qS(i){let e=[];if(i.root.activeElement!=i.contentDOM)return e;let{anchorNode:t,anchorOffset:n,focusNode:s,focusOffset:l}=i.observer.selectionRange;return t&&(e.push(new Ih(t,n)),(s!=t||l!=n)&&e.push(new Ih(s,l))),e}function $S(i,e){if(i.length==0)return null;let t=i[0].pos,n=i.length==2?i[1].pos:t;return t>-1&&n>-1?J.single(t+e,n+e):null}class Te{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(t=>this.update([t])),this.dispatch=this.dispatch.bind(this),this.root=e.root||UO(e.parent)||document,this.viewState=new Kh(e.state||Xe.create()),this.plugins=this.state.facet(_r).map(t=>new ya(t));for(let t of this.plugins)t.update(this);this.observer=new WS(this,(t,n,s)=>{HS(this,t,n,s)},t=>{this.inputState.runScrollHandlers(this,t),this.observer.intersecting&&this.measure()}),this.inputState=new bS(this),this.docView=new Rh(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}dispatch(...e){this._dispatch(e.length==1&&e[0]instanceof It?e[0]:this.state.update(...e))}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,n,s=this.state;for(let r of e){if(r.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=r.state}if(this.destroyed){this.viewState.state=s;return}if(s.facet(Xe.phrases)!=this.state.facet(Xe.phrases))return this.setState(s);n=new Ph(this,s,e);let l=this.viewState.scrollTarget;try{this.updateState=2;for(let r of e){if(l&&(l=l.map(r.changes)),r.scrollIntoView){let{main:o}=r.state.selection;l=new js(o.empty?o:J.cursor(o.head,o.head>o.anchor?-1:1))}for(let o of r.effects)o.is(yf)?l=new js(o.value):o.is(sg)?l=new js(o.value,"center"):o.is(Th)&&(l=o.value)}this.viewState.update(n,l),this.bidiCache=no.update(this.bidiCache,n.changes),n.empty||(this.updatePlugins(n),this.inputState.update(n)),t=this.docView.update(n),this.state.facet(vr)!=this.styleModules&&this.mountStyles(),this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(r=>r.isUserEvent("select.pointer")))}finally{this.updateState=0}if(n.startState.facet(wl)!=n.state.facet(wl)&&(this.viewState.mustMeasureContent=!0),(t||l||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!n.empty)for(let r of this.state.facet(kf))r(n)}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let n of this.plugins)n.destroy(this);this.viewState=new Kh(e),this.plugins=e.facet(_r).map(n=>new ya(n)),this.pluginMap.clear();for(let n of this.plugins)n.update(this);this.docView=new Rh(this),this.inputState.ensureHandlers(this),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(_r),n=e.state.facet(_r);if(t!=n){let s=[];for(let l of n){let r=t.indexOf(l);if(r<0)s.push(new ya(l));else{let o=this.plugins[r];o.mustUpdate=e,s.push(o)}}for(let l of this.plugins)l.mustUpdate!=e&&l.destroy(this);this.plugins=s,this.pluginMap.clear(),this.inputState.ensureHandlers(this)}else for(let s of this.plugins)s.mustUpdate=e;for(let s=0;s<this.plugins.length;s++)this.plugins[s].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.flush();let t=null;try{for(let n=0;;n++){this.updateState=1;let s=this.viewport,l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(n>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let r=[];l&4||([this.measureRequests,r]=[r,this.measureRequests]);let o=r.map(c=>{try{return c.read(this)}catch(h){return wn(this.state,h),td}}),a=new Ph(this,this.state),f=!1,u=!1;a.flags|=l,t?t.flags|=l:t=a,this.updateState=2,a.empty||(this.updatePlugins(a),this.inputState.update(a),this.updateAttrs(),f=this.docView.update(a));for(let c=0;c<r.length;c++)if(o[c]!=td)try{let h=r[c];h.write&&h.write(o[c],this)}catch(h){wn(this.state,h)}if(this.viewState.scrollTarget&&(this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,u=!0),f&&this.docView.updateSelection(!0),this.viewport.from==s.from&&this.viewport.to==s.to&&!u&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let n of this.state.facet(kf))n(t)}get themeClasses(){return Ef+" "+(this.state.facet(Af)?Sg:Og)+" "+this.state.facet(wl)}updateAttrs(){let e=nd(this,lg,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(tl)?"true":"false",class:"cm-content",style:`${Ee.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),nd(this,og,t),this.observer.ignore(()=>{_f(this.contentDOM,this.contentAttrs,t),_f(this.dom,this.editorAttrs,e)}),this.editorAttrs=e,this.contentAttrs=t}showAnnouncements(e){let t=!0;for(let n of e)for(let s of n.effects)if(s.is(Te.announce)){t&&(this.announceDOM.textContent=""),t=!1;let l=this.announceDOM.appendChild(document.createElement("div"));l.textContent=s.value}}mountStyles(){this.styleModules=this.state.facet(vr),Ui.mount(this.root,this.styleModules.concat(VS).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame(()=>this.measure())),e){if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}pluginField(e){let t=[];for(let n of this.plugins)n.update(this).takeField(e,t);return t}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(n=>n.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}blockAtHeight(e,t){let n=Aa(t,this);return this.elementAtHeight(e-n).moveY(n)}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}visualLineAtHeight(e,t){let n=Aa(t,this);return this.lineBlockAtHeight(e-n).moveY(n)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}viewportLines(e,t){let n=Aa(t,this);for(let s of this.viewportLineBlocks)e(s.moveY(n))}get viewportLineBlocks(){return this.viewState.viewportLines}visualLineAt(e,t=0){return this.lineBlockAt(e).moveY(t+this.viewState.paddingTop)}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return Oa(this,e,Vh(this,e,t,n))}moveByGroup(e,t){return Oa(this,e,Vh(this,e,t,n=>pS(this,e.head,n)))}moveToLineBoundary(e,t,n=!0){return mS(this,e,t,n)}moveVertically(e,t,n){return Oa(this,e,gS(this,e,t,n))}scrollPosIntoView(e){this.dispatch({effects:yf.of(J.cursor(e))})}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),mg(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;let s=this.state.doc.lineAt(e),l=this.bidiSpans(s),r=l[Xs.find(l,e-s.from,-1,t)];return Bo(n,r.dir==Ke.LTR==t>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.heightOracle.direction}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>GS)return fg(e.length);let t=this.textDirection;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t)return s.order;let n=tS(e.text,this.textDirection);return this.bidiCache.push(new no(e.from,e.to,t,n)),n}get hasFocus(){var e;return(document.hasFocus()||Ee.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Vp(this.contentDOM),this.docView.updateSelection()})}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Th.of(new js(typeof e=="number"?J.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return Dt.define(()=>({}),{eventHandlers:e})}static theme(e,t){let n=Ui.newName(),s=[wl.of(n),vr.of(Df(`.${n}`,e))];return t&&t.dark&&s.push(Af.of(!0)),s}static baseTheme(e){return Jr.lowest(vr.of(Df("."+Ef,e,Cg)))}}Te.scrollTo=yf;Te.centerOn=sg;Te.styleModule=vr;Te.inputHandler=ig;Te.exceptionSink=ng;Te.updateListener=kf;Te.editable=tl;Te.mouseSelectionStyle=tg;Te.dragMovesSelection=eg;Te.clickAddsSelectionRange=Jp;Te.decorations=gs;Te.darkTheme=Af;Te.contentAttributes=og;Te.editorAttributes=lg;Te.lineWrapping=Te.contentAttributes.of({class:"cm-lineWrapping"});Te.announce=Qe.define();const GS=4096;function Aa(i,e){return(i==null?e.contentDOM.getBoundingClientRect().top:i)+e.viewState.paddingTop}const td={};class no{constructor(e,t,n,s){this.from=e,this.to=t,this.dir=n,this.order=s}static update(e,t){if(t.empty)return e;let n=[],s=e.length?e[e.length-1].dir:Ke.LTR;for(let l=Math.max(0,e.length-10);l<e.length;l++){let r=e[l];r.dir==s&&!t.touchesRange(r.from,r.to)&&n.push(new no(t.mapPos(r.from,1),t.mapPos(r.to,-1),r.dir,r.order))}return n}}function nd(i,e,t){for(let n=i.state.facet(e),s=n.length-1;s>=0;s--){let l=n[s],r=typeof l=="function"?l(i):l;r&&bf(r,t)}return t}const XS=Ee.mac?"mac":Ee.windows?"win":Ee.linux?"linux":"key";function ZS(i,e){const t=i.split(/-(?!$)/);let n=t[t.length-1];n=="Space"&&(n=" ");let s,l,r,o;for(let a=0;a<t.length-1;++a){const f=t[a];if(/^(cmd|meta|m)$/i.test(f))o=!0;else if(/^a(lt)?$/i.test(f))s=!0;else if(/^(c|ctrl|control)$/i.test(f))l=!0;else if(/^s(hift)?$/i.test(f))r=!0;else if(/^mod$/i.test(f))e=="mac"?o=!0:l=!0;else throw new Error("Unrecognized modifier name: "+f)}return s&&(n="Alt-"+n),l&&(n="Ctrl-"+n),o&&(n="Meta-"+n),r&&(n="Shift-"+n),n}function Ea(i,e,t){return e.altKey&&(i="Alt-"+i),e.ctrlKey&&(i="Ctrl-"+i),e.metaKey&&(i="Meta-"+i),t!==!1&&e.shiftKey&&(i="Shift-"+i),i}const KS=Te.domEventHandlers({keydown(i,e){return Eg(Ag(e.state),i,e,"editor")}}),Ou=Ae.define({enables:KS}),id=new WeakMap;function Ag(i){let e=i.facet(Ou),t=id.get(e);return t||id.set(e,t=JS(e.reduce((n,s)=>n.concat(s),[]))),t}function YS(i,e,t){return Eg(Ag(i.state),e,i,t)}let Ni=null;const xS=4e3;function JS(i,e=XS){let t=Object.create(null),n=Object.create(null),s=(r,o)=>{let a=n[r];if(a==null)n[r]=o;else if(a!=o)throw new Error("Key binding "+r+" is used both as a regular binding and as a multi-stroke prefix")},l=(r,o,a,f)=>{let u=t[r]||(t[r]=Object.create(null)),c=o.split(/ (?!$)/).map(m=>ZS(m,e));for(let m=1;m<c.length;m++){let p=c.slice(0,m).join(" ");s(p,!0),u[p]||(u[p]={preventDefault:!0,commands:[b=>{let y=Ni={view:b,prefix:p,scope:r};return setTimeout(()=>{Ni==y&&(Ni=null)},xS),!0}]})}let h=c.join(" ");s(h,!1);let d=u[h]||(u[h]={preventDefault:!1,commands:[]});d.commands.push(a),f&&(d.preventDefault=!0)};for(let r of i){let o=r[e]||r.key;if(!!o)for(let a of r.scope?r.scope.split(" "):["editor"])l(a,o,r.run,r.preventDefault),r.shift&&l(a,"Shift-"+o,r.shift,r.preventDefault)}return t}function Eg(i,e,t,n){let s=VO(e),l=s.length==1&&s!=" ",r="",o=!1;Ni&&Ni.view==t&&Ni.scope==n&&(r=Ni.prefix+" ",(o=gg.indexOf(e.keyCode)<0)&&(Ni=null));let a=c=>{if(c){for(let h of c.commands)if(h(t))return!0;c.preventDefault&&(o=!0)}return!1},f=i[n],u;if(f){if(a(f[r+Ea(s,e,!l)]))return!0;if(l&&(e.shiftKey||e.altKey||e.metaKey)&&(u=$i[e.keyCode])&&u!=s){if(a(f[r+Ea(u,e,!0)]))return!0}else if(l&&e.shiftKey&&a(f[r+Ea(s,e,!0)]))return!0}return o}const Dg=!Ee.ios,yr=Ae.define({combine(i){return ts(i,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function eC(i={}){return[yr.of(i),tC,nC]}class Tg{constructor(e,t,n,s,l){this.left=e,this.top=t,this.width=n,this.height=s,this.className=l}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width>=0&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}}const tC=Dt.fromClass(class{constructor(i){this.view=i,this.rangePieces=[],this.cursors=[],this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.selectionLayer=i.scrollDOM.appendChild(document.createElement("div")),this.selectionLayer.className="cm-selectionLayer",this.selectionLayer.setAttribute("aria-hidden","true"),this.cursorLayer=i.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),i.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){this.cursorLayer.style.animationDuration=this.view.state.facet(yr).cursorBlinkRate+"ms"}update(i){let e=i.startState.facet(yr)!=i.state.facet(yr);(e||i.selectionSet||i.geometryChanged||i.viewportChanged)&&this.view.requestMeasure(this.measureReq),i.transactions.some(t=>t.scrollIntoView)&&(this.cursorLayer.style.animationName=this.cursorLayer.style.animationName=="cm-blink"?"cm-blink2":"cm-blink"),e&&this.setBlinkRate()}readPos(){let{state:i}=this.view,e=i.facet(yr),t=i.selection.ranges.map(s=>s.empty?[]:iC(this.view,s)).reduce((s,l)=>s.concat(l)),n=[];for(let s of i.selection.ranges){let l=s==i.selection.main;if(s.empty?!l||Dg:e.drawRangeCursor){let r=sC(this.view,s,l);r&&n.push(r)}}return{rangePieces:t,cursors:n}}drawSel({rangePieces:i,cursors:e}){if(i.length!=this.rangePieces.length||i.some((t,n)=>!t.eq(this.rangePieces[n]))){this.selectionLayer.textContent="";for(let t of i)this.selectionLayer.appendChild(t.draw());this.rangePieces=i}if(e.length!=this.cursors.length||e.some((t,n)=>!t.eq(this.cursors[n]))){let t=this.cursorLayer.children;if(t.length!==e.length){this.cursorLayer.textContent="";for(const n of e)this.cursorLayer.appendChild(n.draw())}else e.forEach((n,s)=>n.adjust(t[s]));this.cursors=e}}destroy(){this.selectionLayer.remove(),this.cursorLayer.remove()}}),Pg={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};Dg&&(Pg[".cm-line"].caretColor="transparent !important");const nC=Jr.highest(Te.theme(Pg));function Mg(i){let e=i.scrollDOM.getBoundingClientRect();return{left:(i.textDirection==Ke.LTR?e.left:e.right-i.scrollDOM.clientWidth)-i.scrollDOM.scrollLeft,top:e.top-i.scrollDOM.scrollTop}}function sd(i,e,t){let n=J.cursor(e);return{from:Math.max(t.from,i.moveToLineBoundary(n,!1,!0).from),to:Math.min(t.to,i.moveToLineBoundary(n,!0,!0).from),type:it.Text}}function rd(i,e){let t=i.lineBlockAt(e);if(Array.isArray(t.type)){for(let n of t.type)if(n.to>e||n.to==e&&(n.to==t.to||n.type==it.Text))return n}return t}function iC(i,e){if(e.to<=i.viewport.from||e.from>=i.viewport.to)return[];let t=Math.max(e.from,i.viewport.from),n=Math.min(e.to,i.viewport.to),s=i.textDirection==Ke.LTR,l=i.contentDOM,r=l.getBoundingClientRect(),o=Mg(i),a=window.getComputedStyle(l.firstChild),f=r.left+parseInt(a.paddingLeft)+Math.min(0,parseInt(a.textIndent)),u=r.right-parseInt(a.paddingRight),c=rd(i,t),h=rd(i,n),d=c.type==it.Text?c:null,m=h.type==it.Text?h:null;if(i.lineWrapping&&(d&&(d=sd(i,t,d)),m&&(m=sd(i,n,m))),d&&m&&d.from==m.from)return b(y(e.from,e.to,d));{let C=d?y(e.from,null,d):O(c,!1),D=m?y(null,e.to,m):O(h,!0),A=[];return(d||c).to<(m||h).from-1?A.push(p(f,C.bottom,u,D.top)):C.bottom<D.top&&i.elementAtHeight((C.bottom+D.top)/2).type==it.Text&&(C.bottom=D.top=(C.bottom+D.top)/2),b(C).concat(A).concat(b(D))}function p(C,D,A,P){return new Tg(C-o.left,D-o.top-.01,A-C,P-D+.01,"cm-selectionBackground")}function b({top:C,bottom:D,horizontal:A}){let P=[];for(let S=0;S<A.length;S+=2)P.push(p(A[S],C,A[S+1],D));return P}function y(C,D,A){let P=1e9,S=-1e9,H=[];function X(j,R,te,Se,Ce){let ee=i.coordsAtPos(j,j==A.to?-2:2),Ie=i.coordsAtPos(te,te==A.from?2:-2);P=Math.min(ee.top,Ie.top,P),S=Math.max(ee.bottom,Ie.bottom,S),Ce==Ke.LTR?H.push(s&&R?f:ee.left,s&&Se?u:Ie.right):H.push(!s&&Se?f:Ie.left,!s&&R?u:ee.right)}let $=C!=null?C:A.from,ne=D!=null?D:A.to;for(let j of i.visibleRanges)if(j.to>$&&j.from<ne)for(let R=Math.max(j.from,$),te=Math.min(j.to,ne);;){let Se=i.state.doc.lineAt(R);for(let Ce of i.bidiSpans(Se)){let ee=Ce.from+Se.from,Ie=Ce.to+Se.from;if(ee>=te)break;Ie>R&&X(Math.max(ee,R),C==null&&ee<=$,Math.min(Ie,te),D==null&&Ie>=ne,Ce.dir)}if(R=Se.to+1,R>=te)break}return H.length==0&&X($,C==null,ne,D==null,i.textDirection),{top:P,bottom:S,horizontal:H}}function O(C,D){let A=r.top+(D?C.top:C.bottom);return{top:A,bottom:A,horizontal:[]}}}function sC(i,e,t){let n=i.coordsAtPos(e.head,e.assoc||1);if(!n)return null;let s=Mg(i);return new Tg(n.left-s.left,n.top-s.top,-1,n.bottom-n.top,t?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary")}const Ig=Qe.define({map(i,e){return i==null?null:e.mapPos(i)}}),wr=Nt.define({create(){return null},update(i,e){return i!=null&&(i=e.changes.mapPos(i)),e.effects.reduce((t,n)=>n.is(Ig)?n.value:t,i)}}),rC=Dt.fromClass(class{constructor(i){this.view=i,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(i){var e;let t=i.state.field(wr);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(i.startState.field(wr)!=t||i.docChanged||i.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let i=this.view.state.field(wr),e=i!=null&&this.view.coordsAtPos(i);if(!e)return null;let t=this.view.scrollDOM.getBoundingClientRect();return{left:e.left-t.left+this.view.scrollDOM.scrollLeft,top:e.top-t.top+this.view.scrollDOM.scrollTop,height:e.bottom-e.top}}drawCursor(i){this.cursor&&(i?(this.cursor.style.left=i.left+"px",this.cursor.style.top=i.top+"px",this.cursor.style.height=i.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(i){this.view.state.field(wr)!=i&&this.view.dispatch({effects:Ig.of(i)})}},{eventHandlers:{dragover(i){this.setDropPos(this.view.posAtCoords({x:i.clientX,y:i.clientY}))},dragleave(i){(i.target==this.view.contentDOM||!this.view.contentDOM.contains(i.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function lC(){return[wr,rC]}function ld(i,e,t,n,s){e.lastIndex=0;for(let l=i.iterRange(t,n),r=t,o;!l.next().done;r+=l.value.length)if(!l.lineBreak)for(;o=e.exec(l.value);)s(r+o.index,r+o.index+o[0].length,o)}function oC(i,e){let t=i.visibleRanges;if(t.length==1&&t[0].from==i.viewport.from&&t[0].to==i.viewport.to)return t;let n=[];for(let{from:s,to:l}of t)s=Math.max(i.state.doc.lineAt(s).from,s-e),l=Math.min(i.state.doc.lineAt(l).to,l+e),n.length&&n[n.length-1].to>=s?n[n.length-1].to=l:n.push({from:s,to:l});return n}class aC{constructor(e){let{regexp:t,decoration:n,boundary:s,maxLength:l=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");this.regexp=t,this.getDeco=typeof n=="function"?n:()=>n,this.boundary=s,this.maxLength=l}createDeco(e){let t=new qi;for(let{from:n,to:s}of oC(e,this.maxLength))ld(e.state.doc,this.regexp,n,s,(l,r,o)=>t.add(l,r,this.getDeco(o,e,l)));return t.finish()}updateDeco(e,t){let n=1e9,s=-1;return e.docChanged&&e.changes.iterChanges((l,r,o,a)=>{a>e.view.viewport.from&&o<e.view.viewport.to&&(n=Math.min(o,n),s=Math.max(a,s))}),e.viewportChanged||s-n>1e3?this.createDeco(e.view):s>-1?this.updateRange(e.view,t.map(e.changes),n,s):t}updateRange(e,t,n,s){for(let l of e.visibleRanges){let r=Math.max(l.from,n),o=Math.min(l.to,s);if(o>r){let a=e.state.doc.lineAt(r),f=a.to<o?e.state.doc.lineAt(o):a,u=Math.max(l.from,a.from),c=Math.min(l.to,f.to);if(this.boundary){for(;r>a.from;r--)if(this.boundary.test(a.text[r-1-a.from])){u=r;break}for(;o<f.to;o++)if(this.boundary.test(f.text[o-f.from])){c=o;break}}let h=[],d;if(a==f)for(this.regexp.lastIndex=u-a.from;(d=this.regexp.exec(a.text))&&d.index<c-a.from;){let m=d.index+a.from;h.push(this.getDeco(d,e,m).range(m,m+d[0].length))}else ld(e.state.doc,this.regexp,u,c,(m,p,b)=>h.push(this.getDeco(b,e,m).range(m,p)));t=t.update({filterFrom:u,filterTo:c,filter:(m,p)=>m<u||p>c,add:h})}}return t}}const Tf=/x/.unicode!=null?"gu":"g",fC=new RegExp(`[\0-\b
-\x7F-\x9F\xAD\u061C\u200B\u200E\u200F\u2028\u2029\u202D\u202E\uFEFF\uFFF9-\uFFFC]`,Tf),uC={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Da=null;function cC(){var i;if(Da==null&&typeof document!="undefined"&&document.body){let e=document.body.style;Da=((i=e.tabSize)!==null&&i!==void 0?i:e.MozTabSize)!=null}return Da||!1}const zl=Ae.define({combine(i){let e=ts(i,{render:null,specialChars:fC,addSpecialChars:null});return(e.replaceTabs=!cC())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Tf)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Tf)),e}});function hC(i={}){return[zl.of(i),dC()]}let od=null;function dC(){return od||(od=Dt.fromClass(class{constructor(i){this.view=i,this.decorations=Me.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(i.state.facet(zl)),this.decorations=this.decorator.createDeco(i)}makeDecorator(i){return new aC({regexp:i.specialChars,decoration:(e,t,n)=>{let{doc:s}=t.state,l=Ut(e[0],0);if(l==9){let r=s.lineAt(n),o=t.state.tabSize,a=xr(r.text,o,n-r.from);return Me.replace({widget:new bC((o-a%o)*this.view.defaultCharacterWidth)})}return this.decorationCache[l]||(this.decorationCache[l]=Me.replace({widget:new gC(i,l)}))},boundary:i.replaceTabs?void 0:/[^]/})}update(i){let e=i.state.facet(zl);i.startState.facet(zl)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(i.view)):this.decorations=this.decorator.updateDeco(i,this.decorations)}},{decorations:i=>i.decorations}))}const mC="\u2022";function pC(i){return i>=32?mC:i==10?"\u2424":String.fromCharCode(9216+i)}class gC extends ns{constructor(e,t){super();this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=pC(this.code),n=e.state.phrase("Control character")+" "+(uC[this.code]||"0x"+this.code.toString(16)),s=this.options.render&&this.options.render(this.code,n,t);if(s)return s;let l=document.createElement("span");return l.textContent=t,l.title=n,l.setAttribute("aria-label",n),l.className="cm-specialChar",l}ignoreEvent(){return!1}}class bC extends ns{constructor(e){super();this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function _C(){return kC}const vC=Me.line({class:"cm-activeLine"}),kC=Dt.fromClass(class{constructor(i){this.decorations=this.getDeco(i)}update(i){(i.docChanged||i.selectionSet)&&(this.decorations=this.getDeco(i.view))}getDeco(i){let e=-1,t=[];for(let n of i.state.selection.ranges){if(!n.empty)return Me.none;let s=i.lineBlockAt(n.head);s.from>e&&(t.push(vC.range(s.from)),e=s.from)}return Me.set(t)}},{decorations:i=>i.decorations}),Pf=es.define(),yC=es.define(),wC=Ae.define(),Rg=Ae.define({combine(i){return ts(i,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})}}),Ng=Nt.define({create(){return Zn.empty},update(i,e){let t=e.state.facet(Rg),n=e.annotation(Pf);if(n){let a=rn.fromTransaction(e),f=n.side,u=f==0?i.undone:i.done;return a?u=io(u,u.length,t.minDepth,a):u=zg(u,e.startState.selection),new Zn(f==0?n.rest:u,f==0?u:n.rest)}let s=e.annotation(yC);if((s=="full"||s=="before")&&(i=i.isolate()),e.annotation(It.addToHistory)===!1)return e.changes.empty?i:i.addMapping(e.changes.desc);let l=rn.fromTransaction(e),r=e.annotation(It.time),o=e.annotation(It.userEvent);return l?i=i.addChanges(l,r,o,t.newGroupDelay,t.minDepth):e.selection&&(i=i.addSelection(e.startState.selection,r,o,t.newGroupDelay)),(s=="full"||s=="after")&&(i=i.isolate()),i},toJSON(i){return{done:i.done.map(e=>e.toJSON()),undone:i.undone.map(e=>e.toJSON())}},fromJSON(i){return new Zn(i.done.map(rn.fromJSON),i.undone.map(rn.fromJSON))}});function OC(i={}){return[Ng,Rg.of(i),Te.domEventHandlers({beforeinput(e,t){return e.inputType=="historyUndo"?Lg(t):e.inputType=="historyRedo"?Bg(t):!1}})]}function Vo(i,e){return function({state:t,dispatch:n}){let s=t.field(Ng,!1);if(!s)return!1;let l=s.pop(i,t,e);return l?(n(l),!0):!1}}const Lg=Vo(0,!1),Bg=Vo(1,!1),SC=Vo(0,!0),CC=Vo(1,!0);class rn{constructor(e,t,n,s,l){this.changes=e,this.effects=t,this.mapped=n,this.startSelection=s,this.selectionsAfter=l}setSelAfter(e){return new rn(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,n;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(n=this.startSelection)===null||n===void 0?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map(s=>s.toJSON())}}static fromJSON(e){return new rn(e.changes&&Pt.fromJSON(e.changes),[],e.mapped&&bi.fromJSON(e.mapped),e.startSelection&&J.fromJSON(e.startSelection),e.selectionsAfter.map(J.fromJSON))}static fromTransaction(e){let t=Tn;for(let n of e.startState.facet(wC)){let s=n(e);s.length&&(t=t.concat(s))}return!t.length&&e.changes.empty?null:new rn(e.changes.invert(e.startState.doc),t,void 0,e.startState.selection,Tn)}static selection(e){return new rn(void 0,Tn,void 0,void 0,e)}}function io(i,e,t,n){let s=e+1>t+20?e-t-1:0,l=i.slice(s,e);return l.push(n),l}function AC(i,e){let t=[],n=!1;return i.iterChangedRanges((s,l)=>t.push(s,l)),e.iterChangedRanges((s,l,r,o)=>{for(let a=0;a<t.length;){let f=t[a++],u=t[a++];o>=f&&r<=u&&(n=!0)}}),n}function EC(i,e){return i.ranges.length==e.ranges.length&&i.ranges.filter((t,n)=>t.empty!=e.ranges[n].empty).length===0}function Qg(i,e){return i.length?e.length?i.concat(e):i:e}const Tn=[],DC=200;function zg(i,e){if(i.length){let t=i[i.length-1],n=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-DC));return n.length&&n[n.length-1].eq(e)?i:(n.push(e),io(i,i.length-1,1e9,t.setSelAfter(n)))}else return[rn.selection([e])]}function TC(i){let e=i[i.length-1],t=i.slice();return t[i.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function Ta(i,e){if(!i.length)return i;let t=i.length,n=Tn;for(;t;){let s=PC(i[t-1],e,n);if(s.changes&&!s.changes.empty||s.effects.length){let l=i.slice(0,t);return l[t-1]=s,l}else e=s.mapped,t--,n=s.selectionsAfter}return n.length?[rn.selection(n)]:Tn}function PC(i,e,t){let n=Qg(i.selectionsAfter.length?i.selectionsAfter.map(o=>o.map(e)):Tn,t);if(!i.changes)return rn.selection(n);let s=i.changes.map(e),l=e.mapDesc(i.changes,!0),r=i.mapped?i.mapped.composeDesc(l):l;return new rn(s,Qe.mapEffects(i.effects,e),r,i.startSelection.map(l),n)}class Zn{constructor(e,t,n=0,s=void 0){this.done=e,this.undone=t,this.prevTime=n,this.prevUserEvent=s}isolate(){return this.prevTime?new Zn(this.done,this.undone):this}addChanges(e,t,n,s,l){let r=this.done,o=r[r.length-1];return o&&o.changes&&!o.changes.empty&&e.changes&&(!o.selectionsAfter.length&&t-this.prevTime<s&&AC(o.changes,e.changes)||n=="input.type.compose")?r=io(r,r.length-1,l,new rn(e.changes.compose(o.changes),Qg(e.effects,o.effects),o.mapped,o.startSelection,Tn)):r=io(r,r.length,l,e),new Zn(r,Tn,t,n)}addSelection(e,t,n,s){let l=this.done.length?this.done[this.done.length-1].selectionsAfter:Tn;return l.length>0&&t-this.prevTime<s&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&EC(l[l.length-1],e)?this:new Zn(zg(this.done,e),this.undone,t,n)}addMapping(e){return new Zn(Ta(this.done,e),Ta(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,n){let s=e==0?this.done:this.undone;if(s.length==0)return null;let l=s[s.length-1];if(n&&l.selectionsAfter.length)return t.update({selection:l.selectionsAfter[l.selectionsAfter.length-1],annotations:Pf.of({side:e,rest:TC(s)}),userEvent:e==0?"select.undo":"select.redo"});if(l.changes){let r=s.length==1?Tn:s.slice(0,s.length-1);return l.mapped&&(r=Ta(r,l.mapped)),t.update({changes:l.changes,selection:l.startSelection,effects:l.effects,annotations:Pf.of({side:e,rest:r}),filter:!1,userEvent:e==0?"undo":"redo"})}else return null}}Zn.empty=new Zn(Tn,Tn);const MC=[{key:"Mod-z",run:Lg,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Bg,preventDefault:!0},{key:"Mod-u",run:SC,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:CC,preventDefault:!0}],Vg=1024;let IC=0;class Pa{constructor(e,t){this.from=e,this.to=t}}class Fe{constructor(e={}){this.id=IC++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=On.match(e)),t=>{let n=e(t);return n===void 0?null:[this,n]}}}Fe.closedBy=new Fe({deserialize:i=>i.split(" ")});Fe.openedBy=new Fe({deserialize:i=>i.split(" ")});Fe.group=new Fe({deserialize:i=>i.split(" ")});Fe.contextHash=new Fe({perNode:!0});Fe.lookAhead=new Fe({perNode:!0});Fe.mounted=new Fe({perNode:!0});const RC=Object.create(null);class On{constructor(e,t,n,s=0){this.name=e,this.props=t,this.id=n,this.flags=s}static define(e){let t=e.props&&e.props.length?Object.create(null):RC,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),s=new On(e.name||"",t,e.id,n);if(e.props){for(let l of e.props)if(Array.isArray(l)||(l=l(s)),l){if(l[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[l[0].id]=l[1]}}return s}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Fe.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let s of n.split(" "))t[s]=e[n];return n=>{for(let s=n.prop(Fe.group),l=-1;l<(s?s.length:0);l++){let r=t[l<0?n.name:s[l]];if(r)return r}}}}On.none=new On("",Object.create(null),0,8);class Su{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let n of this.types){let s=null;for(let l of e){let r=l(n);r&&(s||(s=Object.assign({},n.props)),s[r[0].id]=r[1])}t.push(s?new On(n.name,s,n.id,n.flags):n)}return new Su(t)}}const Ol=new WeakMap,ad=new WeakMap;class wt{constructor(e,t,n,s,l){if(this.type=e,this.children=t,this.positions=n,this.length=s,this.props=null,l&&l.length){this.props=Object.create(null);for(let[r,o]of l)this.props[typeof r=="number"?r:r.id]=o}}toString(){let e=this.prop(Fe.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let n of this.children){let s=n.toString();s&&(t&&(t+=","),t+=s)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e,t=0){let n=e!=null&&Ol.get(this)||this.topNode,s=new ro(n);return e!=null&&(s.moveTo(e,t),Ol.set(this,s._tree)),s}fullCursor(){return new ro(this.topNode,1)}get topNode(){return new vi(this,0,0,null)}resolve(e,t=0){let n=tr(Ol.get(this)||this.topNode,e,t,!1);return Ol.set(this,n),n}resolveInner(e,t=0){let n=tr(ad.get(this)||this.topNode,e,t,!0);return ad.set(this,n),n}iterate(e){let{enter:t,leave:n,from:s=0,to:l=this.length}=e;for(let r=this.cursor(),o=()=>r.node;;){let a=!1;if(r.from<=l&&r.to>=s&&(r.type.isAnonymous||t(r.type,r.from,r.to,o)!==!1)){if(r.firstChild())continue;r.type.isAnonymous||(a=!0)}for(;a&&n&&n(r.type,r.from,r.to,o),a=r.type.isAnonymous,!r.nextSibling();){if(!r.parent())return;a=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Eu(On.none,this.children,this.positions,0,this.children.length,0,this.length,(t,n,s)=>new wt(this.type,t,n,s,this.propValues),e.makeTree||((t,n,s)=>new wt(On.none,t,n,s)))}static build(e){return LC(e)}}wt.empty=new wt(On.none,[],[],0);class Cu{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Cu(this.buffer,this.index)}}class Ds{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return On.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],s=this.set.types[t],l=s.name;if(/\W/.test(l)&&!s.isError&&(l=JSON.stringify(l)),e+=4,n==e)return l;let r=[];for(;e<n;)r.push(this.childString(e)),e=this.buffer[e+3];return l+"("+r.join(",")+")"}findChild(e,t,n,s,l){let{buffer:r}=this,o=-1;for(let a=e;a!=t&&!(Fg(l,s,r[a+1],r[a+2])&&(o=a,n>0));a=r[a+3]);return o}slice(e,t,n,s){let l=this.buffer,r=new Uint16Array(t-e);for(let o=e,a=0;o<t;)r[a++]=l[o++],r[a++]=l[o++]-n,r[a++]=l[o++]-n,r[a++]=l[o++]-e;return new Ds(r,s-n,this.set)}}function Fg(i,e,t,n){switch(i){case-2:return t<e;case-1:return n>=e&&t<e;case 0:return t<e&&n>e;case 1:return t<=e&&n>e;case 2:return n>e;case 4:return!0}}function Wg(i,e){let t=i.childBefore(e);for(;t;){let n=t.lastChild;if(!n||n.to!=t.to)break;n.type.isError&&n.from==n.to?(i=t,t=n.prevSibling):t=n}return i}function tr(i,e,t,n){for(var s;i.from==i.to||(t<1?i.from>=e:i.from>e)||(t>-1?i.to<=e:i.to<e);){let l=!n&&i instanceof vi&&i.index<0?null:i.parent;if(!l)return i;i=l}if(n)for(let l=i,r=l.parent;r;l=r,r=l.parent)l instanceof vi&&l.index<0&&((s=r.enter(e,t,!0))===null||s===void 0?void 0:s.from)!=l.from&&(i=r);for(;;){let l=i.enter(e,t,n);if(!l)return i;i=l}}class vi{constructor(e,t,n,s){this.node=e,this._from=t,this.index=n,this._parent=s}get type(){return this.node.type}get name(){return this.node.type.name}get from(){return this._from}get to(){return this._from+this.node.length}nextChild(e,t,n,s,l=0){for(let r=this;;){for(let{children:o,positions:a}=r.node,f=t>0?o.length:-1;e!=f;e+=t){let u=o[e],c=a[e]+r._from;if(!!Fg(s,n,c,c+u.length)){if(u instanceof Ds){if(l&2)continue;let h=u.findChild(0,u.buffer.length,t,n-c,s);if(h>-1)return new Fi(new NC(r,u,e,c),null,h)}else if(l&1||!u.type.isAnonymous||Au(u)){let h;if(!(l&1)&&u.props&&(h=u.prop(Fe.mounted))&&!h.overlay)return new vi(h.tree,c,e,r);let d=new vi(u,c,e,r);return l&1||!d.type.isAnonymous?d:d.nextChild(t<0?u.children.length-1:0,t,n,s)}}}if(l&1||!r.type.isAnonymous||(r.index>=0?e=r.index+t:e=t<0?-1:r._parent.node.children.length,r=r._parent,!r))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this.node.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this.node.children.length-1,-1,e,-2)}enter(e,t,n=!0,s=!0){let l;if(n&&(l=this.node.prop(Fe.mounted))&&l.overlay){let r=e-this.from;for(let{from:o,to:a}of l.overlay)if((t>0?o<=r:o<r)&&(t<0?a>=r:a>r))return new vi(l.tree,l.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,s?0:2)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get cursor(){return new ro(this)}get tree(){return this.node}toTree(){return this.node}resolve(e,t=0){return tr(this,e,t,!1)}resolveInner(e,t=0){return tr(this,e,t,!0)}enterUnfinishedNodesBefore(e){return Wg(this,e)}getChild(e,t=null,n=null){let s=so(this,e,t,n);return s.length?s[0]:null}getChildren(e,t=null,n=null){return so(this,e,t,n)}toString(){return this.node.toString()}}function so(i,e,t,n){let s=i.cursor,l=[];if(!s.firstChild())return l;if(t!=null){for(;!s.type.is(t);)if(!s.nextSibling())return l}for(;;){if(n!=null&&s.type.is(n))return l;if(s.type.is(e)&&l.push(s.node),!s.nextSibling())return n==null?l:[]}}class NC{constructor(e,t,n,s){this.parent=e,this.buffer=t,this.index=n,this.start=s}}class Fi{constructor(e,t,n){this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(e,t,n){let{buffer:s}=this.context,l=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.context.start,n);return l<0?null:new Fi(this.context,this,l)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,n,s=!0){if(!s)return null;let{buffer:l}=this.context,r=l.findChild(this.index+4,l.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return r<0?null:new Fi(this.context,this,r)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Fi(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Fi(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get cursor(){return new ro(this)}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,s=this.index+4,l=n.buffer[this.index+3];if(l>s){let r=n.buffer[this.index+1],o=n.buffer[this.index+2];e.push(n.slice(s,l,r,o)),t.push(0)}return new wt(this.type,e,t,this.to-this.from)}resolve(e,t=0){return tr(this,e,t,!1)}resolveInner(e,t=0){return tr(this,e,t,!0)}enterUnfinishedNodesBefore(e){return Wg(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,n=null){let s=so(this,e,t,n);return s.length?s[0]:null}getChildren(e,t=null,n=null){return so(this,e,t,n)}}class ro{constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof vi)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let n=e._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=e,this.yieldBuf(e.index)}}get name(){return this.type.name}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:n,buffer:s}=this.buffer;return this.type=t||s.set.types[s.buffer[e]],this.from=n+s.buffer[e+1],this.to=n+s.buffer[e+2],!0}yield(e){return e?e instanceof vi?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree.node.children.length-1:0,e,t,n,this.mode));let{buffer:s}=this.buffer,l=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.buffer.start,n);return l<0?!1:(this.stack.push(this.index),this.yieldBuf(l))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=!0,s=!0){return this.buffer?s?this.enterChild(1,e,t):!1:this.yield(this._tree.enter(e,t,n&&!(this.mode&1),s))}parent(){if(!this.buffer)return this.yieldNode(this.mode&1?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&1?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let s=n<0?0:this.stack[n]+4;if(this.index!=s)return this.yieldBuf(t.findChild(s,this.index,-1,0,4))}else{let s=t.buffer[this.index+3];if(s<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(s)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:s}=this;if(s){if(e>0){if(this.index<s.buffer.buffer.length)return!1}else for(let l=0;l<this.index;l++)if(s.buffer.buffer[l+3]<this.index)return!1;({index:t,parent:n}=s)}else({index:t,_parent:n}=this._tree);for(;n;{index:t,_parent:n}=n)if(t>-1)for(let l=t+e,r=e<0?-1:n.node.children.length;l!=r;l+=e){let o=n.node.children[l];if(this.mode&1||o instanceof Ds||!o.type.isAnonymous||Au(o))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer){e:for(let s=this.index,l=this.stack.length;l>=0;){for(let r=e;r;r=r._parent)if(r.index==s){if(s==this.index)return r;t=r,n=l+1;break e}s=this.stack[--l]}}for(let s=n;s<this.stack.length;s++)t=new Fi(this.buffer,t,this.stack[s]);return this.bufferNode=new Fi(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree.node}}function Au(i){return i.children.some(e=>e instanceof Ds||!e.type.isAnonymous||Au(e))}function LC(i){var e;let{buffer:t,nodeSet:n,maxBufferLength:s=Vg,reused:l=[],minRepeatType:r=n.types.length}=i,o=Array.isArray(t)?new Cu(t,t.length):t,a=n.types,f=0,u=0;function c(D,A,P,S,H){let{id:X,start:$,end:ne,size:j}=o,R=u;for(;j<0;)if(o.next(),j==-1){let Ie=l[X];P.push(Ie),S.push($-D);return}else if(j==-3){f=X;return}else if(j==-4){u=X;return}else throw new RangeError(`Unrecognized record size: ${j}`);let te=a[X],Se,Ce,ee=$-D;if(ne-$<=s&&(Ce=p(o.pos-A,H))){let Ie=new Uint16Array(Ce.size-Ce.skip),Ne=o.pos-Ce.size,De=Ie.length;for(;o.pos>Ne;)De=b(Ce.start,Ie,De);Se=new Ds(Ie,ne-Ce.start,n),ee=Ce.start-D}else{let Ie=o.pos-j;o.next();let Ne=[],De=[],Je=X>=r?X:-1,We=0,Ze=ne;for(;o.pos>Ie;)Je>=0&&o.id==Je&&o.size>=0?(o.end<=Ze-s&&(d(Ne,De,$,We,o.end,Ze,Je,R),We=Ne.length,Ze=o.end),o.next()):c($,Ie,Ne,De,Je);if(Je>=0&&We>0&&We<Ne.length&&d(Ne,De,$,We,$,Ze,Je,R),Ne.reverse(),De.reverse(),Je>-1&&We>0){let Ye=h(te);Se=Eu(te,Ne,De,0,Ne.length,0,ne-$,Ye,Ye)}else Se=m(te,Ne,De,ne-$,R-ne)}P.push(Se),S.push(ee)}function h(D){return(A,P,S)=>{let H=0,X=A.length-1,$,ne;if(X>=0&&($=A[X])instanceof wt){if(!X&&$.type==D&&$.length==S)return $;(ne=$.prop(Fe.lookAhead))&&(H=P[X]+$.length+ne)}return m(D,A,P,S,H)}}function d(D,A,P,S,H,X,$,ne){let j=[],R=[];for(;D.length>S;)j.push(D.pop()),R.push(A.pop()+P-H);D.push(m(n.types[$],j,R,X-H,ne-X)),A.push(H-P)}function m(D,A,P,S,H=0,X){if(f){let $=[Fe.contextHash,f];X=X?[$].concat(X):[$]}if(H>25){let $=[Fe.lookAhead,H];X=X?[$].concat(X):[$]}return new wt(D,A,P,S,X)}function p(D,A){let P=o.fork(),S=0,H=0,X=0,$=P.end-s,ne={size:0,start:0,skip:0};e:for(let j=P.pos-D;P.pos>j;){let R=P.size;if(P.id==A&&R>=0){ne.size=S,ne.start=H,ne.skip=X,X+=4,S+=4,P.next();continue}let te=P.pos-R;if(R<0||te<j||P.start<$)break;let Se=P.id>=r?4:0,Ce=P.start;for(P.next();P.pos>te;){if(P.size<0)if(P.size==-3)Se+=4;else break e;else P.id>=r&&(Se+=4);P.next()}H=Ce,S+=R,X+=Se}return(A<0||S==D)&&(ne.size=S,ne.start=H,ne.skip=X),ne.size>4?ne:void 0}function b(D,A,P){let{id:S,start:H,end:X,size:$}=o;if(o.next(),$>=0&&S<r){let ne=P;if($>4){let j=o.pos-($-4);for(;o.pos>j;)P=b(D,A,P)}A[--P]=ne,A[--P]=X-D,A[--P]=H-D,A[--P]=S}else $==-3?f=S:$==-4&&(u=S);return P}let y=[],O=[];for(;o.pos>0;)c(i.start||0,i.bufferStart||0,y,O,-1);let C=(e=i.length)!==null&&e!==void 0?e:y.length?O[0]+y[0].length:0;return new wt(a[i.topID],y.reverse(),O.reverse(),C)}const fd=new WeakMap;function Vl(i,e){if(!i.isAnonymous||e instanceof Ds||e.type!=i)return 1;let t=fd.get(e);if(t==null){t=1;for(let n of e.children){if(n.type!=i||!(n instanceof wt)){t=1;break}t+=Vl(i,n)}fd.set(e,t)}return t}function Eu(i,e,t,n,s,l,r,o,a){let f=0;for(let m=n;m<s;m++)f+=Vl(i,e[m]);let u=Math.ceil(f*1.5/8),c=[],h=[];function d(m,p,b,y,O){for(let C=b;C<y;){let D=C,A=p[C],P=Vl(i,m[C]);for(C++;C<y;C++){let S=Vl(i,m[C]);if(P+S>=u)break;P+=S}if(C==D+1){if(P>u){let S=m[D];d(S.children,S.positions,0,S.children.length,p[D]+O);continue}c.push(m[D])}else{let S=p[C-1]+m[C-1].length-A;c.push(Eu(i,m,p,D,C,A,S,null,a))}h.push(A+O-l)}}return d(e,t,n,s,0),(o||a)(c,h,r)}class vs{constructor(e,t,n,s,l=!1,r=!1){this.from=e,this.to=t,this.tree=n,this.offset=s,this.open=(l?1:0)|(r?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],n=!1){let s=[new vs(0,e.length,e,0,!1,n)];for(let l of t)l.to>e.length&&s.push(l);return s}static applyChanges(e,t,n=128){if(!t.length)return e;let s=[],l=1,r=e.length?e[0]:null;for(let o=0,a=0,f=0;;o++){let u=o<t.length?t[o]:null,c=u?u.fromA:1e9;if(c-a>=n)for(;r&&r.from<c;){let h=r;if(a>=h.from||c<=h.to||f){let d=Math.max(h.from,a)-f,m=Math.min(h.to,c)-f;h=d>=m?null:new vs(d,m,h.tree,h.offset+f,o>0,!!u)}if(h&&s.push(h),r.to>c)break;r=l<e.length?e[l++]:null}if(!u)break;a=u.toA,f=u.toA-u.toB}return s}}class jg{startParse(e,t,n){return typeof e=="string"&&(e=new BC(e)),n=n?n.length?n.map(s=>new Pa(s.from,s.to)):[new Pa(0,0)]:[new Pa(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let s=this.startParse(e,t,n);for(;;){let l=s.advance();if(l)return l}}}class BC{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new Fe({perNode:!0});const lo=new Fe;function QC(i){return Ae.define({combine:i?e=>e.concat(i):void 0})}class Kn{constructor(e,t,n,s=[]){this.data=e,this.topNode=n,Xe.prototype.hasOwnProperty("tree")||Object.defineProperty(Xe.prototype,"tree",{get(){return fn(this)}}),this.parser=t,this.extension=[Xi.of(this),Xe.languageData.of((l,r,o)=>l.facet(ud(l,r,o)))].concat(s)}isActiveAt(e,t,n=-1){return ud(e,t,n)==this.data}findRegions(e){let t=e.facet(Xi);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[],s=(l,r)=>{if(l.prop(lo)==this.data){n.push({from:r,to:r+l.length});return}let o=l.prop(Fe.mounted);if(o){if(o.tree.prop(lo)==this.data){if(o.overlay)for(let a of o.overlay)n.push({from:a.from+r,to:a.to+r});else n.push({from:r,to:r+l.length});return}else if(o.overlay){let a=n.length;if(s(o.tree,o.overlay[0].from+r),n.length>a)return}}for(let a=0;a<l.children.length;a++){let f=l.children[a];f instanceof wt&&s(f,l.positions[a]+r)}};return s(fn(e),0),n}get allowsNesting(){return!0}}Kn.setState=Qe.define();function ud(i,e,t){let n=i.facet(Xi);if(!n)return null;let s=n.data;if(n.allowsNesting)for(let l=fn(i).topNode;l;l=l.enter(e,t,!0,!1))s=l.type.prop(lo)||s;return s}class Wr extends Kn{constructor(e,t){super(e,t,t.topNode);this.parser=t}static define(e){let t=QC(e.languageData);return new Wr(t,e.parser.configure({props:[lo.add(n=>n.isTop?t:void 0)]}))}configure(e){return new Wr(this.data,this.parser.configure(e))}get allowsNesting(){return this.parser.wrappers.length>0}}function fn(i){let e=i.field(Kn.state,!1);return e?e.tree:wt.empty}class zC{constructor(e,t=e.length){this.doc=e,this.length=t,this.cursorPos=0,this.string="",this.cursor=e.iter()}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}let mr=null;class Du{constructor(e,t,n=[],s,l,r,o,a){this.parser=e,this.state=t,this.fragments=n,this.tree=s,this.treeLen=l,this.viewport=r,this.skipped=o,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}startParse(){return this.parser.startParse(new zC(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=wt.empty&&this.isDone(t!=null?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var n;let s=Date.now()+e;for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let l=this.parse.advance();if(l)if(this.fragments=this.withoutTempSkipped(vs.addTree(l,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(n=this.parse.stoppedAt)!==null&&n!==void 0?n:this.state.doc.length,this.tree=l,this.parse=null,this.treeLen<(t!=null?t:this.state.doc.length))this.parse=this.startParse();else return!0;if(Date.now()>s)return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(vs.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=mr;mr=this;try{return e()}finally{mr=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=cd(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:s,treeLen:l,viewport:r,skipped:o}=this;if(this.takeTree(),!e.empty){let a=[];if(e.iterChangedRanges((f,u,c,h)=>a.push({fromA:f,toA:u,fromB:c,toB:h})),n=vs.applyChanges(n,a),s=wt.empty,l=0,r={from:e.mapPos(r.from,-1),to:e.mapPos(r.to,1)},this.skipped.length){o=[];for(let f of this.skipped){let u=e.mapPos(f.from,1),c=e.mapPos(f.to,-1);u<c&&o.push({from:u,to:c})}}}return new Du(this.parser,t,n,s,l,r,o,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:s,to:l}=this.skipped[n];s<e.to&&l>e.from&&(this.fragments=cd(this.fragments,s,l),this.skipped.splice(n--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends jg{createParse(t,n,s){let l=s[0].from,r=s[s.length-1].to;return{parsedPos:l,advance(){let a=mr;if(a){for(let f of s)a.tempSkipped.push(f);e&&(a.scheduleOn=a.scheduleOn?Promise.all([a.scheduleOn,e]):e)}return this.parsedPos=r,new wt(On.none,[],[],r-l)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return mr}}function cd(i,e,t){return vs.applyChanges(i,[{fromA:e,toA:t,fromB:e,toB:t}])}class nr{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged)return this;let t=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,n)||t.takeTree(),new nr(t)}static init(e){let t=Math.min(3e3,e.doc.length),n=new Du(e.facet(Xi).parser,e,[],wt.empty,0,{from:0,to:t},[],null);return n.work(20,t)||n.takeTree(),new nr(n)}}Kn.state=Nt.define({create:nr.init,update(i,e){for(let t of e.effects)if(t.is(Kn.setState))return t.value;return e.startState.facet(Xi)!=e.state.facet(Xi)?nr.init(e.state):i.apply(e)}});let Hg=i=>{let e=setTimeout(()=>i(),500);return()=>clearTimeout(e)};typeof requestIdleCallback!="undefined"&&(Hg=i=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(i,{timeout:500-100})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const VC=Dt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Kn.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Kn.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=Hg(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:s}}=this.view,l=n.field(Kn.state);if(l.tree==l.context.tree&&l.context.isDone(s+1e5))return;let r=Math.min(this.chunkBudget,100,e?Math.max(25,e.timeRemaining()-5):1e9),o=l.context.treeLen<s&&n.doc.length>s+1e3,a=l.context.work(r,s+(o?0:1e5));this.chunkBudget-=Date.now()-t,(a||this.chunkBudget<=0)&&(l.context.takeTree(),this.view.dispatch({effects:Kn.setState.of(new nr(l.context))})),this.chunkBudget>0&&!(a&&!o)&&this.scheduleWork(),this.checkAsyncSchedule(l.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>wn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return this.working||this.workScheduled>0}},{eventHandlers:{focus(){this.scheduleWork()}}}),Xi=Ae.define({combine(i){return i.length?i[0]:null},enables:[Kn.state,VC]});class Ug{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const FC=Ae.define(),Tu=Ae.define({combine:i=>{if(!i.length)return"  ";if(!/^(?: +|\t+)$/.test(i[0]))throw new Error("Invalid indent unit: "+JSON.stringify(i[0]));return i[0]}});function oo(i){let e=i.facet(Tu);return e.charCodeAt(0)==9?i.tabSize*e.length:e.length}function jr(i,e){let t="",n=i.tabSize;if(i.facet(Tu).charCodeAt(0)==9)for(;e>=n;)t+="	",e-=n;for(let s=0;s<e;s++)t+=" ";return t}function Pu(i,e){i instanceof Xe&&(i=new Fo(i));for(let n of i.state.facet(FC)){let s=n(i,e);if(s!=null)return s}let t=fn(i.state);return t?WC(i,t,e):null}class Fo{constructor(e,t={}){this.state=e,this.options=t,this.unit=oo(e)}lineAt(e,t=1){let n=this.state.doc.lineAt(e),{simulateBreak:s}=this.options;return s!=null&&s>=n.from&&s<=n.to?(t<0?s<e:s<=e)?{text:n.text.slice(s-n.from),from:s}:{text:n.text.slice(0,s-n.from),from:n.from}:n}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:s}=this.lineAt(e,t);return n.slice(e-s,Math.min(n.length,e+100-s))}column(e,t=1){let{text:n,from:s}=this.lineAt(e,t),l=this.countColumn(n,e-s),r=this.options.overrideIndentation?this.options.overrideIndentation(s):-1;return r>-1&&(l+=r-this.countColumn(n,n.search(/\S|$/))),l}countColumn(e,t=e.length){return xr(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:n,from:s}=this.lineAt(e,t),l=this.options.overrideIndentation;if(l){let r=l(s);if(r>-1)return r}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Mu=new Fe;function WC(i,e,t){return qg(e.resolveInner(t).enterUnfinishedNodesBefore(t),t,i)}function jC(i){return i.pos==i.options.simulateBreak&&i.options.simulateDoubleBreak}function HC(i){let e=i.type.prop(Mu);if(e)return e;let t=i.firstChild,n;if(t&&(n=t.type.prop(Fe.closedBy))){let s=i.lastChild,l=s&&n.indexOf(s.name)>-1;return r=>XC(r,!0,1,void 0,l&&!jC(r)?s.from:void 0)}return i.parent==null?UC:null}function qg(i,e,t){for(;i;i=i.parent){let n=HC(i);if(n)return n(new qC(t,e,i))}return null}function UC(){return 0}class qC extends Fo{constructor(e,t,n){super(e.state,e.options);this.base=e,this.pos=t,this.node=n}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let t=this.node.resolve(e.from);for(;t.parent&&t.parent.from==t.from;)t=t.parent;if($C(t,this.node))break;e=this.state.doc.lineAt(t.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?qg(e,this.pos,this.base):0}}function $C(i,e){for(let t=e;t;t=t.parent)if(i==t)return!0;return!1}function GC(i){let e=i.node,t=e.childAfter(e.from),n=e.lastChild;if(!t)return null;let s=i.options.simulateBreak,l=i.state.doc.lineAt(t.from),r=s==null||s<=l.from?l.to:Math.min(l.to,s);for(let o=t.to;;){let a=e.childAfter(o);if(!a||a==n)return null;if(!a.type.isSkipped)return a.from<r?t:null;o=a.to}}function XC(i,e,t,n,s){let l=i.textAfter,r=l.match(/^\s*/)[0].length,o=n&&l.slice(r,r+n.length)==n||s==i.pos+r,a=e?GC(i):null;return a?o?i.column(a.from):i.column(a.to):i.baseIndent+(o?0:i.unit*t)}function Mf({except:i,units:e=1}={}){return t=>{let n=i&&i.test(t.textAfter);return t.baseIndent+(n?0:e*t.unit)}}const ZC=200;function KC(){return Xe.transactionFilter.of(i=>{if(!i.docChanged||!i.isUserEvent("input.type"))return i;let e=i.startState.languageDataAt("indentOnInput",i.startState.selection.main.head);if(!e.length)return i;let t=i.newDoc,{head:n}=i.newSelection.main,s=t.lineAt(n);if(n>s.from+ZC)return i;let l=t.sliceString(s.from,n);if(!e.some(f=>f.test(l)))return i;let{state:r}=i,o=-1,a=[];for(let{head:f}of r.selection.ranges){let u=r.doc.lineAt(f);if(u.from==o)continue;o=u.from;let c=Pu(r,u.from);if(c==null)continue;let h=/^\s*/.exec(u.text)[0],d=jr(r,c);h!=d&&a.push({from:u.from,to:u.from+h.length,insert:d})}return a.length?[i,{changes:a,sequential:!0}]:i})}const YC=Ae.define(),Iu=new Fe;function $g(i){let e=i.firstChild,t=i.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?i.to:t.from}:null}function xC(i,e,t){let n=fn(i);if(n.length==0)return null;let s=n.resolveInner(t),l=null;for(let r=s;r;r=r.parent){if(r.to<=t||r.from>t)continue;if(l&&r.from<e)break;let o=r.type.prop(Iu);if(o){let a=o(r,i);a&&a.from<=t&&a.from>=e&&a.to>t&&(l=a)}}return l}function ao(i,e,t){for(let n of i.facet(YC)){let s=n(i,e,t);if(s)return s}return xC(i,e,t)}class ei extends ws{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}ei.prototype.elementClass="";ei.prototype.toDOM=void 0;ei.prototype.mapMode=Kt.TrackBefore;ei.prototype.startSide=ei.prototype.endSide=-1;ei.prototype.point=!0;const Fl=Ae.define(),JC={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>xe.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Tr=Ae.define();function Gg(i){return[Xg(),Tr.of(Object.assign(Object.assign({},JC),i))]}const eA=Te.baseTheme({".cm-gutters":{display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#999",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"}}),If=Ae.define({combine:i=>i.some(e=>e)});function Xg(i){let e=[tA,eA];return i&&i.fixed===!1&&e.push(If.of(!0)),e}const tA=Dt.fromClass(class{constructor(i){this.view=i,this.prevViewport=i.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=i.state.facet(Tr).map(e=>new dd(i,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!i.state.facet(If),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),i.scrollDOM.insertBefore(this.dom,i.contentDOM)}update(i){if(this.updateGutters(i)){let e=this.prevViewport,t=i.view.viewport,n=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(n<(t.to-t.from)*.8)}i.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(If)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=i.view.viewport}syncGutters(i){let e=this.dom.nextSibling;i&&this.dom.remove();let t=xe.iter(this.view.state.facet(Fl),this.view.viewport.from),n=[],s=this.gutters.map(l=>new nA(l,this.view.viewport,-this.view.documentPadding.top));for(let l of this.view.viewportLineBlocks){let r;if(Array.isArray(l.type)){for(let o of l.type)if(o.type==it.Text){r=o;break}}else r=l.type==it.Text?l:void 0;if(!!r){n.length&&(n=[]),Zg(t,n,l.from);for(let o of s)o.line(this.view,r,n)}}for(let l of s)l.finish();i&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(i){let e=i.startState.facet(Tr),t=i.state.facet(Tr),n=i.docChanged||i.heightChanged||i.viewportChanged||!xe.eq(i.startState.facet(Fl),i.state.facet(Fl),i.view.viewport.from,i.view.viewport.to);if(e==t)for(let s of this.gutters)s.update(i)&&(n=!0);else{n=!0;let s=[];for(let l of t){let r=e.indexOf(l);r<0?s.push(new dd(this.view,l)):(this.gutters[r].update(i),s.push(this.gutters[r]))}for(let l of this.gutters)l.dom.remove(),s.indexOf(l)<0&&l.destroy();for(let l of s)this.dom.appendChild(l.dom);this.gutters=s}return n}destroy(){for(let i of this.gutters)i.destroy();this.dom.remove()}},{provide:$t.scrollMargins.from(i=>i.gutters.length==0||!i.fixed?null:i.view.textDirection==Ke.LTR?{left:i.dom.offsetWidth}:{right:i.dom.offsetWidth})});function hd(i){return Array.isArray(i)?i:[i]}function Zg(i,e,t){for(;i.value&&i.from<=t;)i.from==t&&e.push(i.value),i.next()}class nA{constructor(e,t,n){this.gutter=e,this.height=n,this.localMarkers=[],this.i=0,this.cursor=xe.iter(e.markers,t.from)}line(e,t,n){this.localMarkers.length&&(this.localMarkers=[]),Zg(this.cursor,this.localMarkers,t.from);let s=n.length?this.localMarkers.concat(n):this.localMarkers,l=this.gutter.config.lineMarker(e,t,s);l&&s.unshift(l);let r=this.gutter;if(s.length==0&&!r.config.renderEmptyElements)return;let o=t.top-this.height;if(this.i==r.elements.length){let a=new Kg(e,t.height,o,s);r.elements.push(a),r.dom.appendChild(a.dom)}else r.elements[this.i].update(e,t.height,o,s);this.height=t.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class dd{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in t.domEventHandlers)this.dom.addEventListener(n,s=>{let l=e.lineBlockAtHeight(s.clientY-e.documentTop);t.domEventHandlers[n](e,l,s)&&s.preventDefault()});this.markers=hd(t.markers(e)),t.initialSpacer&&(this.spacer=new Kg(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=hd(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let s=this.config.updateSpacer(this.spacer.markers[0],e);s!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[s])}let n=e.view.viewport;return!xe.eq(this.markers,t,n.from,n.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class Kg{constructor(e,t,n,s){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.update(e,t,n,s)}update(e,t,n,s){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),iA(this.markers,s)||this.setMarkers(e,s)}setMarkers(e,t){let n="cm-gutterElement",s=this.dom.firstChild;for(let l=0,r=0;;){let o=r,a=l<t.length?t[l++]:null,f=!1;if(a){let u=a.elementClass;u&&(n+=" "+u);for(let c=r;c<this.markers.length;c++)if(this.markers[c].compare(a)){o=c,f=!0;break}}else o=this.markers.length;for(;r<o;){let u=this.markers[r++];if(u.toDOM){u.destroy(s);let c=s.nextSibling;s.remove(),s=c}}if(!a)break;a.toDOM&&(f?s=s.nextSibling:this.dom.insertBefore(a.toDOM(e),s)),f&&r++}this.dom.className=n,this.markers=t}destroy(){this.setMarkers(null,[])}}function iA(i,e){if(i.length!=e.length)return!1;for(let t=0;t<i.length;t++)if(!i[t].compare(e[t]))return!1;return!0}const sA=Ae.define(),Hs=Ae.define({combine(i){return ts(i,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let n=Object.assign({},e);for(let s in t){let l=n[s],r=t[s];n[s]=l?(o,a,f)=>l(o,a,f)||r(o,a,f):r}return n}})}});class Ma extends ei{constructor(e){super();this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Ia(i,e){return i.state.facet(Hs).formatNumber(e,i.state)}const rA=Tr.compute([Hs],i=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(sA)},lineMarker(e,t,n){return n.some(s=>s.toDOM)?null:new Ma(Ia(e,e.state.doc.lineAt(t.from).number))},lineMarkerChange:e=>e.startState.facet(Hs)!=e.state.facet(Hs),initialSpacer(e){return new Ma(Ia(e,md(e.state.doc.lines)))},updateSpacer(e,t){let n=Ia(t.view,md(t.view.state.doc.lines));return n==e.number?e:new Ma(n)},domEventHandlers:i.facet(Hs).domEventHandlers}));function lA(i={}){return[Hs.of(i),Xg(),rA]}function md(i){let e=9;for(;e<i;)e=e*10+9;return e}const oA=new class extends ei{constructor(){super(...arguments);this.elementClass="cm-activeLineGutter"}},aA=Fl.compute(["selection"],i=>{let e=[],t=-1;for(let n of i.selection.ranges)if(n.empty){let s=i.doc.lineAt(n.head).from;s>t&&(t=s,e.push(oA.range(s)))}return xe.of(e)});function fA(){return aA}function Yg(i,e){let t=e.mapPos(i.from,1),n=e.mapPos(i.to,-1);return t>=n?void 0:{from:t,to:n}}const Wo=Qe.define({map:Yg}),nl=Qe.define({map:Yg});function xg(i){let e=[];for(let{head:t}of i.state.selection.ranges)e.some(n=>n.from<=t&&n.to>=t)||e.push(i.lineBlockAt(t));return e}const Cs=Nt.define({create(){return Me.none},update(i,e){i=i.map(e.changes);for(let t of e.effects)t.is(Wo)&&!uA(i,t.value.from,t.value.to)?i=i.update({add:[bA.range(t.value.from,t.value.to)]}):t.is(nl)&&(i=i.update({filter:(n,s)=>t.value.from!=n||t.value.to!=s,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:n}=e.selection.main;i.between(n,n,(s,l)=>{s<n&&l>n&&(t=!0)}),t&&(i=i.update({filterFrom:n,filterTo:n,filter:(s,l)=>l<=n||s>=n}))}return i},provide:i=>Te.decorations.from(i)});function fo(i,e,t){var n;let s=null;return(n=i.field(Cs,!1))===null||n===void 0||n.between(e,t,(l,r)=>{(!s||s.from>l)&&(s={from:l,to:r})}),s}function uA(i,e,t){let n=!1;return i.between(e,e,(s,l)=>{s==e&&l==t&&(n=!0)}),n}function Jg(i,e){return i.field(Cs,!1)?e:e.concat(Qe.appendConfig.of(n1()))}const cA=i=>{for(let e of xg(i)){let t=ao(i.state,e.from,e.to);if(t)return i.dispatch({effects:Jg(i.state,[Wo.of(t),e1(i,t)])}),!0}return!1},hA=i=>{if(!i.state.field(Cs,!1))return!1;let e=[];for(let t of xg(i)){let n=fo(i.state,t.from,t.to);n&&e.push(nl.of(n),e1(i,n,!1))}return e.length&&i.dispatch({effects:e}),e.length>0};function e1(i,e,t=!0){let n=i.state.doc.lineAt(e.from).number,s=i.state.doc.lineAt(e.to).number;return Te.announce.of(`${i.state.phrase(t?"Folded lines":"Unfolded lines")} ${n} ${i.state.phrase("to")} ${s}.`)}const dA=i=>{let{state:e}=i,t=[];for(let n=0;n<e.doc.length;){let s=i.lineBlockAt(n),l=ao(e,s.from,s.to);l&&t.push(Wo.of(l)),n=(l?i.lineBlockAt(l.to):s).to+1}return t.length&&i.dispatch({effects:Jg(i.state,t)}),!!t.length},mA=i=>{let e=i.state.field(Cs,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,i.state.doc.length,(n,s)=>{t.push(nl.of({from:n,to:s}))}),i.dispatch({effects:t}),!0},pA=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:cA},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:hA},{key:"Ctrl-Alt-[",run:dA},{key:"Ctrl-Alt-]",run:mA}],gA={placeholderDOM:null,placeholderText:"\u2026"},t1=Ae.define({combine(i){return ts(i,gA)}});function n1(i){let e=[Cs,kA];return i&&e.push(t1.of(i)),e}const bA=Me.replace({widget:new class extends ns{ignoreEvents(){return!1}toDOM(i){let{state:e}=i,t=e.facet(t1),n=l=>{let r=i.lineBlockAt(i.posAtDOM(l.target)),o=fo(i.state,r.from,r.to);o&&i.dispatch({effects:nl.of(o)}),l.preventDefault()};if(t.placeholderDOM)return t.placeholderDOM(i,n);let s=document.createElement("span");return s.textContent=t.placeholderText,s.setAttribute("aria-label",e.phrase("folded code")),s.title=e.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=n,s}}}),_A={openText:"\u2304",closedText:"\u203A",markerDOM:null};class Ra extends ei{constructor(e,t){super();this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function vA(i={}){let e=Object.assign(Object.assign({},_A),i),t=new Ra(e,!0),n=new Ra(e,!1),s=Dt.fromClass(class{constructor(l){this.from=l.viewport.from,this.markers=this.buildMarkers(l)}update(l){(l.docChanged||l.viewportChanged||l.startState.facet(Xi)!=l.state.facet(Xi)||l.startState.field(Cs,!1)!=l.state.field(Cs,!1))&&(this.markers=this.buildMarkers(l.view))}buildMarkers(l){let r=new qi;for(let o of l.viewportLineBlocks){let a=fo(l.state,o.from,o.to)?n:ao(l.state,o.from,o.to)?t:null;a&&r.add(o.from,o.from,a)}return r.finish()}});return[s,Gg({class:"cm-foldGutter",markers(l){var r;return((r=l.plugin(s))===null||r===void 0?void 0:r.markers)||xe.empty},initialSpacer(){return new Ra(e,!1)},domEventHandlers:{click:(l,r)=>{let o=fo(l.state,r.from,r.to);if(o)return l.dispatch({effects:nl.of(o)}),!0;let a=ao(l.state,r.from,r.to);return a?(l.dispatch({effects:Wo.of(a)}),!0):!1}}}),n1()]}const kA=Te.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}}),yA=Te.baseTheme({".cm-matchingBracket":{backgroundColor:"#328c8252"},".cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),i1=1e4,s1="()[]{}",r1=Ae.define({combine(i){return ts(i,{afterCursor:!0,brackets:s1,maxScanDistance:i1})}}),wA=Me.mark({class:"cm-matchingBracket"}),OA=Me.mark({class:"cm-nonmatchingBracket"}),SA=Nt.define({create(){return Me.none},update(i,e){if(!e.docChanged&&!e.selection)return i;let t=[],n=e.state.facet(r1);for(let s of e.state.selection.ranges){if(!s.empty)continue;let l=Yn(e.state,s.head,-1,n)||s.head>0&&Yn(e.state,s.head-1,1,n)||n.afterCursor&&(Yn(e.state,s.head,1,n)||s.head<e.state.doc.length&&Yn(e.state,s.head+1,-1,n));if(!l)continue;let r=l.matched?wA:OA;t.push(r.range(l.start.from,l.start.to)),l.end&&t.push(r.range(l.end.from,l.end.to))}return Me.set(t,!0)},provide:i=>Te.decorations.from(i)}),CA=[SA,yA];function AA(i={}){return[r1.of(i),CA]}function Rf(i,e,t){let n=i.prop(e<0?Fe.openedBy:Fe.closedBy);if(n)return n;if(i.name.length==1){let s=t.indexOf(i.name);if(s>-1&&s%2==(e<0?1:0))return[t[s+e]]}return null}function Yn(i,e,t,n={}){let s=n.maxScanDistance||i1,l=n.brackets||s1,r=fn(i),o=r.resolveInner(e,t);for(let a=o;a;a=a.parent){let f=Rf(a.type,t,l);if(f&&a.from<a.to)return EA(i,e,t,a,f,l)}return DA(i,e,t,r,o.type,s,l)}function EA(i,e,t,n,s,l){let r=n.parent,o={from:n.from,to:n.to},a=0,f=r==null?void 0:r.cursor;if(f&&(t<0?f.childBefore(n.from):f.childAfter(n.to)))do if(t<0?f.to<=n.from:f.from>=n.to){if(a==0&&s.indexOf(f.type.name)>-1&&f.from<f.to)return{start:o,end:{from:f.from,to:f.to},matched:!0};if(Rf(f.type,t,l))a++;else if(Rf(f.type,-t,l)&&(a--,a==0))return{start:o,end:f.from==f.to?void 0:{from:f.from,to:f.to},matched:!1}}while(t<0?f.prevSibling():f.nextSibling());return{start:o,matched:!1}}function DA(i,e,t,n,s,l,r){let o=t<0?i.sliceDoc(e-1,e):i.sliceDoc(e,e+1),a=r.indexOf(o);if(a<0||a%2==0!=t>0)return null;let f={from:t<0?e-1:e,to:t>0?e+1:e},u=i.doc.iterRange(e,t>0?i.doc.length:0),c=0;for(let h=0;!u.next().done&&h<=l;){let d=u.value;t<0&&(h+=d.length);let m=e+h*t;for(let p=t>0?0:d.length-1,b=t>0?d.length:-1;p!=b;p+=t){let y=r.indexOf(d[p]);if(!(y<0||n.resolve(m+p,1).type!=s))if(y%2==0==t>0)c++;else{if(c==1)return{start:f,end:{from:m+p,to:m+p+1},matched:y>>1==a>>1};c--}}t>0&&(h+=d.length)}return u.done?{start:f,matched:!1}:null}function il(i,e){return J.create(i.ranges.map(e),i.mainIndex)}function yi(i,e){return i.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function ni({state:i,dispatch:e},t){let n=il(i.selection,t);return n.eq(i.selection)?!1:(e(yi(i,n)),!0)}function jo(i,e){return J.cursor(e?i.to:i.from)}function l1(i,e){return ni(i,t=>t.empty?i.moveByChar(t,e):jo(t,e))}const o1=i=>l1(i,i.textDirection!=Ke.LTR),a1=i=>l1(i,i.textDirection==Ke.LTR);function f1(i,e){return ni(i,t=>t.empty?i.moveByGroup(t,e):jo(t,e))}const TA=i=>f1(i,i.textDirection!=Ke.LTR),PA=i=>f1(i,i.textDirection==Ke.LTR);function MA(i,e,t){if(e.type.prop(t))return!0;let n=e.to-e.from;return n&&(n>2||/[^\s,.;:]/.test(i.sliceDoc(e.from,e.to)))||e.firstChild}function Ho(i,e,t){let n=fn(i).resolveInner(e.head),s=t?Fe.closedBy:Fe.openedBy;for(let a=e.head;;){let f=t?n.childAfter(a):n.childBefore(a);if(!f)break;MA(i,f,s)?n=f:a=t?f.to:f.from}let l=n.type.prop(s),r,o;return l&&(r=t?Yn(i,n.from,1):Yn(i,n.to,-1))&&r.matched?o=t?r.end.to:r.end.from:o=t?n.to:n.from,J.cursor(o,t?-1:1)}const IA=i=>ni(i,e=>Ho(i.state,e,i.textDirection!=Ke.LTR)),RA=i=>ni(i,e=>Ho(i.state,e,i.textDirection==Ke.LTR));function u1(i,e){return ni(i,t=>{if(!t.empty)return jo(t,e);let n=i.moveVertically(t,e);return n.head!=t.head?n:i.moveToLineBoundary(t,e)})}const c1=i=>u1(i,!1),h1=i=>u1(i,!0);function d1(i,e){return ni(i,t=>t.empty?i.moveVertically(t,e,i.dom.clientHeight):jo(t,e))}const Nf=i=>d1(i,!1),Lf=i=>d1(i,!0);function Uo(i,e,t){let n=i.lineBlockAt(e.head),s=i.moveToLineBoundary(e,t);if(s.head==e.head&&s.head!=(t?n.to:n.from)&&(s=i.moveToLineBoundary(e,t,!1)),!t&&s.head==n.from&&n.length){let l=/^\s*/.exec(i.state.sliceDoc(n.from,Math.min(n.from+100,n.to)))[0].length;l&&e.head!=n.from+l&&(s=J.cursor(n.from+l))}return s}const pd=i=>ni(i,e=>Uo(i,e,!0)),gd=i=>ni(i,e=>Uo(i,e,!1)),NA=i=>ni(i,e=>J.cursor(i.lineBlockAt(e.head).from,1)),LA=i=>ni(i,e=>J.cursor(i.lineBlockAt(e.head).to,-1));function BA(i,e,t){let n=!1,s=il(i.selection,l=>{let r=Yn(i,l.head,-1)||Yn(i,l.head,1)||l.head>0&&Yn(i,l.head-1,1)||l.head<i.doc.length&&Yn(i,l.head+1,-1);if(!r||!r.end)return l;n=!0;let o=r.start.from==l.head?r.end.to:r.end.from;return t?J.range(l.anchor,o):J.cursor(o)});return n?(e(yi(i,s)),!0):!1}const QA=({state:i,dispatch:e})=>BA(i,e,!1);function ii(i,e){let t=il(i.state.selection,n=>{let s=e(n);return J.range(n.anchor,s.head,s.goalColumn)});return t.eq(i.state.selection)?!1:(i.dispatch(yi(i.state,t)),!0)}function m1(i,e){return ii(i,t=>i.moveByChar(t,e))}const p1=i=>m1(i,i.textDirection!=Ke.LTR),g1=i=>m1(i,i.textDirection==Ke.LTR);function b1(i,e){return ii(i,t=>i.moveByGroup(t,e))}const zA=i=>b1(i,i.textDirection!=Ke.LTR),VA=i=>b1(i,i.textDirection==Ke.LTR),FA=i=>ii(i,e=>Ho(i.state,e,i.textDirection!=Ke.LTR)),WA=i=>ii(i,e=>Ho(i.state,e,i.textDirection==Ke.LTR));function _1(i,e){return ii(i,t=>i.moveVertically(t,e))}const v1=i=>_1(i,!1),k1=i=>_1(i,!0);function y1(i,e){return ii(i,t=>i.moveVertically(t,e,i.dom.clientHeight))}const bd=i=>y1(i,!1),_d=i=>y1(i,!0),vd=i=>ii(i,e=>Uo(i,e,!0)),kd=i=>ii(i,e=>Uo(i,e,!1)),jA=i=>ii(i,e=>J.cursor(i.lineBlockAt(e.head).from)),HA=i=>ii(i,e=>J.cursor(i.lineBlockAt(e.head).to)),Bf=({state:i,dispatch:e})=>(e(yi(i,{anchor:0})),!0),Qf=({state:i,dispatch:e})=>(e(yi(i,{anchor:i.doc.length})),!0),yd=({state:i,dispatch:e})=>(e(yi(i,{anchor:i.selection.main.anchor,head:0})),!0),wd=({state:i,dispatch:e})=>(e(yi(i,{anchor:i.selection.main.anchor,head:i.doc.length})),!0),UA=({state:i,dispatch:e})=>(e(i.update({selection:{anchor:0,head:i.doc.length},userEvent:"select"})),!0),qA=({state:i,dispatch:e})=>{let t=Go(i).map(({from:n,to:s})=>J.range(n,Math.min(s+1,i.doc.length)));return e(i.update({selection:J.create(t),userEvent:"select"})),!0},$A=({state:i,dispatch:e})=>{let t=il(i.selection,n=>{var s;let l=fn(i).resolveInner(n.head,1);for(;!(l.from<n.from&&l.to>=n.to||l.to>n.to&&l.from<=n.from||!(!((s=l.parent)===null||s===void 0)&&s.parent));)l=l.parent;return J.range(l.to,l.from)});return e(yi(i,t)),!0},GA=({state:i,dispatch:e})=>{let t=i.selection,n=null;return t.ranges.length>1?n=J.create([t.main]):t.main.empty||(n=J.create([J.cursor(t.main.head)])),n?(e(yi(i,n)),!0):!1};function qo({state:i,dispatch:e},t){if(i.readOnly)return!1;let n="delete.selection",s=i.changeByRange(l=>{let{from:r,to:o}=l;if(r==o){let a=t(r);a<r?n="delete.backward":a>r&&(n="delete.forward"),r=Math.min(r,a),o=Math.max(o,a)}return r==o?{range:l}:{changes:{from:r,to:o},range:J.cursor(r)}});return s.changes.empty?!1:(e(i.update(s,{scrollIntoView:!0,userEvent:n})),!0)}function $o(i,e,t){if(i instanceof Te)for(let n of i.pluginField($t.atomicRanges))n.between(e,e,(s,l)=>{s<e&&l>e&&(e=t?l:s)});return e}const w1=(i,e)=>qo(i,t=>{let{state:n}=i,s=n.doc.lineAt(t),l,r;if(!e&&t>s.from&&t<s.from+200&&!/[^ \t]/.test(l=s.text.slice(0,t-s.from))){if(l[l.length-1]=="	")return t-1;let o=xr(l,n.tabSize),a=o%oo(n)||oo(n);for(let f=0;f<a&&l[l.length-1-f]==" ";f++)t--;r=t}else r=gn(s.text,t-s.from,e)+s.from,r==t&&s.number!=(e?n.doc.lines:1)&&(r+=e?1:-1);return $o(i,r,e)}),zf=i=>w1(i,!1),O1=i=>w1(i,!0),S1=(i,e)=>qo(i,t=>{let n=t,{state:s}=i,l=s.doc.lineAt(n),r=s.charCategorizer(n);for(let o=null;;){if(n==(e?l.to:l.from)){n==t&&l.number!=(e?s.doc.lines:1)&&(n+=e?1:-1);break}let a=gn(l.text,n-l.from,e)+l.from,f=l.text.slice(Math.min(n,a)-l.from,Math.max(n,a)-l.from),u=r(f);if(o!=null&&u!=o)break;(f!=" "||n!=t)&&(o=u),n=a}return $o(i,n,e)}),C1=i=>S1(i,!1),XA=i=>S1(i,!0),A1=i=>qo(i,e=>{let t=i.lineBlockAt(e).to;return $o(i,e<t?t:Math.min(i.state.doc.length,e+1),!0)}),ZA=i=>qo(i,e=>{let t=i.lineBlockAt(e).from;return $o(i,e>t?t:Math.max(0,e-1),!1)}),KA=({state:i,dispatch:e})=>{if(i.readOnly)return!1;let t=i.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:tt.of(["",""])},range:J.cursor(n.from)}));return e(i.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},YA=({state:i,dispatch:e})=>{if(i.readOnly)return!1;let t=i.changeByRange(n=>{if(!n.empty||n.from==0||n.from==i.doc.length)return{range:n};let s=n.from,l=i.doc.lineAt(s),r=s==l.from?s-1:gn(l.text,s-l.from,!1)+l.from,o=s==l.to?s+1:gn(l.text,s-l.from,!0)+l.from;return{changes:{from:r,to:o,insert:i.doc.slice(s,o).append(i.doc.slice(r,s))},range:J.cursor(o)}});return t.changes.empty?!1:(e(i.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Go(i){let e=[],t=-1;for(let n of i.selection.ranges){let s=i.doc.lineAt(n.from),l=i.doc.lineAt(n.to);if(!n.empty&&n.to==l.from&&(l=i.doc.lineAt(n.to-1)),t>=s.number){let r=e[e.length-1];r.to=l.to,r.ranges.push(n)}else e.push({from:s.from,to:l.to,ranges:[n]});t=l.number+1}return e}function E1(i,e,t){if(i.readOnly)return!1;let n=[],s=[];for(let l of Go(i)){if(t?l.to==i.doc.length:l.from==0)continue;let r=i.doc.lineAt(t?l.to+1:l.from-1),o=r.length+1;if(t){n.push({from:l.to,to:r.to},{from:l.from,insert:r.text+i.lineBreak});for(let a of l.ranges)s.push(J.range(Math.min(i.doc.length,a.anchor+o),Math.min(i.doc.length,a.head+o)))}else{n.push({from:r.from,to:l.from},{from:l.to,insert:i.lineBreak+r.text});for(let a of l.ranges)s.push(J.range(a.anchor-o,a.head-o))}}return n.length?(e(i.update({changes:n,scrollIntoView:!0,selection:J.create(s,i.selection.mainIndex),userEvent:"move.line"})),!0):!1}const xA=({state:i,dispatch:e})=>E1(i,e,!1),JA=({state:i,dispatch:e})=>E1(i,e,!0);function D1(i,e,t){if(i.readOnly)return!1;let n=[];for(let s of Go(i))t?n.push({from:s.from,insert:i.doc.slice(s.from,s.to)+i.lineBreak}):n.push({from:s.to,insert:i.lineBreak+i.doc.slice(s.from,s.to)});return e(i.update({changes:n,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const eE=({state:i,dispatch:e})=>D1(i,e,!1),tE=({state:i,dispatch:e})=>D1(i,e,!0),nE=i=>{if(i.state.readOnly)return!1;let{state:e}=i,t=e.changes(Go(e).map(({from:s,to:l})=>(s>0?s--:l<e.doc.length&&l++,{from:s,to:l}))),n=il(e.selection,s=>i.moveVertically(s,!0)).map(t);return i.dispatch({changes:t,selection:n,scrollIntoView:!0,userEvent:"delete.line"}),!0};function iE(i,e){if(/\(\)|\[\]|\{\}/.test(i.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=fn(i).resolveInner(e),n=t.childBefore(e),s=t.childAfter(e),l;return n&&s&&n.to<=e&&s.from>=e&&(l=n.type.prop(Fe.closedBy))&&l.indexOf(s.name)>-1&&i.doc.lineAt(n.to).from==i.doc.lineAt(s.from).from?{from:n.to,to:s.from}:null}const sE=T1(!1),rE=T1(!0);function T1(i){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(s=>{let{from:l,to:r}=s,o=e.doc.lineAt(l),a=!i&&l==r&&iE(e,l);i&&(l=r=(r<=o.to?o:e.doc.lineAt(r)).to);let f=new Fo(e,{simulateBreak:l,simulateDoubleBreak:!!a}),u=Pu(f,l);for(u==null&&(u=/^\s*/.exec(e.doc.lineAt(l).text)[0].length);r<o.to&&/\s/.test(o.text[r-o.from]);)r++;a?{from:l,to:r}=a:l>o.from&&l<o.from+100&&!/\S/.test(o.text.slice(0,l))&&(l=o.from);let c=["",jr(e,u)];return a&&c.push(jr(e,f.lineIndent(o.from,-1))),{changes:{from:l,to:r,insert:tt.of(c)},range:J.cursor(l+1+c[1].length)}});return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function Ru(i,e){let t=-1;return i.changeByRange(n=>{let s=[];for(let r=n.from;r<=n.to;){let o=i.doc.lineAt(r);o.number>t&&(n.empty||n.to>o.from)&&(e(o,s,n),t=o.number),r=o.to+1}let l=i.changes(s);return{changes:s,range:J.range(l.mapPos(n.anchor,1),l.mapPos(n.head,1))}})}const lE=({state:i,dispatch:e})=>{if(i.readOnly)return!1;let t=Object.create(null),n=new Fo(i,{overrideIndentation:l=>{let r=t[l];return r==null?-1:r}}),s=Ru(i,(l,r,o)=>{let a=Pu(n,l.from);if(a==null)return;/\S/.test(l.text)||(a=0);let f=/^\s*/.exec(l.text)[0],u=jr(i,a);(f!=u||o.from<l.from+f.length)&&(t[l.from]=a,r.push({from:l.from,to:l.from+f.length,insert:u}))});return s.changes.empty||e(i.update(s,{userEvent:"indent"})),!0},oE=({state:i,dispatch:e})=>i.readOnly?!1:(e(i.update(Ru(i,(t,n)=>{n.push({from:t.from,insert:i.facet(Tu)})}),{userEvent:"input.indent"})),!0),aE=({state:i,dispatch:e})=>i.readOnly?!1:(e(i.update(Ru(i,(t,n)=>{let s=/^\s*/.exec(t.text)[0];if(!s)return;let l=xr(s,i.tabSize),r=0,o=jr(i,Math.max(0,l-oo(i)));for(;r<s.length&&r<o.length&&s.charCodeAt(r)==o.charCodeAt(r);)r++;n.push({from:t.from+r,to:t.from+s.length,insert:o.slice(r)})}),{userEvent:"delete.dedent"})),!0),fE=[{key:"Ctrl-b",run:o1,shift:p1,preventDefault:!0},{key:"Ctrl-f",run:a1,shift:g1},{key:"Ctrl-p",run:c1,shift:v1},{key:"Ctrl-n",run:h1,shift:k1},{key:"Ctrl-a",run:NA,shift:jA},{key:"Ctrl-e",run:LA,shift:HA},{key:"Ctrl-d",run:O1},{key:"Ctrl-h",run:zf},{key:"Ctrl-k",run:A1},{key:"Ctrl-Alt-h",run:C1},{key:"Ctrl-o",run:KA},{key:"Ctrl-t",run:YA},{key:"Alt-<",run:Bf},{key:"Alt->",run:Qf},{key:"Ctrl-v",run:Lf},{key:"Alt-v",run:Nf}],uE=[{key:"ArrowLeft",run:o1,shift:p1,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:TA,shift:zA},{mac:"Cmd-ArrowLeft",run:gd,shift:kd},{key:"ArrowRight",run:a1,shift:g1,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:PA,shift:VA},{mac:"Cmd-ArrowRight",run:pd,shift:vd},{key:"ArrowUp",run:c1,shift:v1,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Bf,shift:yd},{mac:"Ctrl-ArrowUp",run:Nf,shift:bd},{key:"ArrowDown",run:h1,shift:k1,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Qf,shift:wd},{mac:"Ctrl-ArrowDown",run:Lf,shift:_d},{key:"PageUp",run:Nf,shift:bd},{key:"PageDown",run:Lf,shift:_d},{key:"Home",run:gd,shift:kd},{key:"Mod-Home",run:Bf,shift:yd},{key:"End",run:pd,shift:vd},{key:"Mod-End",run:Qf,shift:wd},{key:"Enter",run:sE},{key:"Mod-a",run:UA},{key:"Backspace",run:zf,shift:zf},{key:"Delete",run:O1},{key:"Mod-Backspace",mac:"Alt-Backspace",run:C1},{key:"Mod-Delete",mac:"Alt-Delete",run:XA},{mac:"Mod-Backspace",run:ZA},{mac:"Mod-Delete",run:A1}].concat(fE.map(i=>({mac:i.key,run:i.run,shift:i.shift}))),cE=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:IA,shift:FA},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:RA,shift:WA},{key:"Alt-ArrowUp",run:xA},{key:"Shift-Alt-ArrowUp",run:eE},{key:"Alt-ArrowDown",run:JA},{key:"Shift-Alt-ArrowDown",run:tE},{key:"Escape",run:GA},{key:"Mod-Enter",run:rE},{key:"Alt-l",mac:"Ctrl-l",run:qA},{key:"Mod-i",run:$A,preventDefault:!0},{key:"Mod-[",run:aE},{key:"Mod-]",run:oE},{key:"Mod-Alt-\\",run:lE},{key:"Shift-Mod-k",run:nE},{key:"Shift-Mod-\\",run:QA}].concat(uE),uo={brackets:["(","[","{","'",'"'],before:`)]}'":;>`},bs=Qe.define({map(i,e){let t=e.mapPos(i,-1,Kt.TrackAfter);return t==null?void 0:t}}),Nu=Qe.define({map(i,e){return e.mapPos(i)}}),Lu=new class extends ws{};Lu.startSide=1;Lu.endSide=-1;const P1=Nt.define({create(){return xe.empty},update(i,e){if(e.selection){let t=e.state.doc.lineAt(e.selection.main.head).from,n=e.startState.doc.lineAt(e.startState.selection.main.head).from;t!=e.changes.mapPos(n,-1)&&(i=xe.empty)}i=i.map(e.changes);for(let t of e.effects)t.is(bs)?i=i.update({add:[Lu.range(t.value,t.value+1)]}):t.is(Nu)&&(i=i.update({filter:n=>n!=t.value}));return i}});function hE(){return[Te.inputHandler.of(dE),P1]}const Na="()[]{}<>";function M1(i){for(let e=0;e<Na.length;e+=2)if(Na.charCodeAt(e)==i)return Na.charAt(e+1);return pu(i<128?i:i+1)}function I1(i,e){return i.languageDataAt("closeBrackets",e)[0]||uo}function dE(i,e,t,n){if(i.composing)return!1;let s=i.state.selection.main;if(n.length>2||n.length==2&&Dn(Ut(n,0))==1||e!=s.from||t!=s.to)return!1;let l=gE(i.state,n);return l?(i.dispatch(l),!0):!1}const mE=({state:i,dispatch:e})=>{let n=I1(i,i.selection.main.head).brackets||uo.brackets,s=null,l=i.changeByRange(r=>{if(r.empty){let o=bE(i.doc,r.head);for(let a of n)if(a==o&&Xo(i.doc,r.head)==M1(Ut(a,0)))return{changes:{from:r.head-a.length,to:r.head+a.length},range:J.cursor(r.head-a.length),userEvent:"delete.backward"}}return{range:s=r}});return s||e(i.update(l,{scrollIntoView:!0})),!s},pE=[{key:"Backspace",run:mE}];function gE(i,e){let t=I1(i,i.selection.main.head),n=t.brackets||uo.brackets;for(let s of n){let l=M1(Ut(s,0));if(e==s)return l==s?kE(i,s,n.indexOf(s+s+s)>-1):_E(i,s,l,t.before||uo.before);if(e==l&&R1(i,i.selection.main.from))return vE(i,s,l)}return null}function R1(i,e){let t=!1;return i.field(P1).between(0,i.doc.length,n=>{n==e&&(t=!0)}),t}function Xo(i,e){let t=i.sliceString(e,e+2);return t.slice(0,Dn(Ut(t,0)))}function bE(i,e){let t=i.sliceString(e-2,e);return Dn(Ut(t,0))==t.length?t:t.slice(1)}function _E(i,e,t,n){let s=null,l=i.changeByRange(r=>{if(!r.empty)return{changes:[{insert:e,from:r.from},{insert:t,from:r.to}],effects:bs.of(r.to+e.length),range:J.range(r.anchor+e.length,r.head+e.length)};let o=Xo(i.doc,r.head);return!o||/\s/.test(o)||n.indexOf(o)>-1?{changes:{insert:e+t,from:r.head},effects:bs.of(r.head+e.length),range:J.cursor(r.head+e.length)}:{range:s=r}});return s?null:i.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function vE(i,e,t){let n=null,s=i.selection.ranges.map(l=>l.empty&&Xo(i.doc,l.head)==t?J.cursor(l.head+t.length):n=l);return n?null:i.update({selection:J.create(s,i.selection.mainIndex),scrollIntoView:!0,effects:i.selection.ranges.map(({from:l})=>Nu.of(l))})}function kE(i,e,t){let n=null,s=i.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:e,from:l.to}],effects:bs.of(l.to+e.length),range:J.range(l.anchor+e.length,l.head+e.length)};let r=l.head,o=Xo(i.doc,r);if(o==e){if(Od(i,r))return{changes:{insert:e+e,from:r},effects:bs.of(r+e.length),range:J.cursor(r+e.length)};if(R1(i,r)){let a=t&&i.sliceDoc(r,r+e.length*3)==e+e+e;return{range:J.cursor(r+e.length*(a?3:1)),effects:Nu.of(r)}}}else{if(t&&i.sliceDoc(r-2*e.length,r)==e+e&&Od(i,r-2*e.length))return{changes:{insert:e+e+e+e,from:r},effects:bs.of(r+e.length),range:J.cursor(r+e.length)};if(i.charCategorizer(r)(o)!=bn.Word){let a=i.sliceDoc(r-1,r);if(a!=e&&i.charCategorizer(r)(a)!=bn.Word)return{changes:{insert:e+e,from:r},effects:bs.of(r+e.length),range:J.cursor(r+e.length)}}}return{range:n=l}});return n?null:i.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function Od(i,e){let t=fn(i).resolveInner(e+1);return t.parent&&t.from==e}const Sd=Ae.define({combine(i){let e,t;for(let n of i)e=e||n.topContainer,t=t||n.bottomContainer;return{topContainer:e,bottomContainer:t}}});function Hr(i,e){let t=i.plugin(N1),n=t?t.specs.indexOf(e):-1;return n>-1?t.panels[n]:null}const N1=Dt.fromClass(class{constructor(i){this.input=i.state.facet(Ur),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(i));let e=i.state.facet(Sd);this.top=new Sl(i,!0,e.topContainer),this.bottom=new Sl(i,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(i){let e=i.state.facet(Sd);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Sl(i.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Sl(i.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=i.state.facet(Ur);if(t!=this.input){let n=t.filter(a=>a),s=[],l=[],r=[],o=[];for(let a of n){let f=this.specs.indexOf(a),u;f<0?(u=a(i.view),o.push(u)):(u=this.panels[f],u.update&&u.update(i)),s.push(u),(u.top?l:r).push(u)}this.specs=n,this.panels=s,this.top.sync(l),this.bottom.sync(r);for(let a of o)a.dom.classList.add("cm-panel"),a.mount&&a.mount()}else for(let n of this.panels)n.update&&n.update(i)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:$t.scrollMargins.from(i=>({top:i.top.scrollMargin(),bottom:i.bottom.scrollMargin()}))});class Sl{constructor(e,t,n){this.view=e,this.top=t,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=Cd(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=Cd(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function Cd(i){let e=i.nextSibling;return i.remove(),e}const yE=Te.baseTheme({".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"}}),Ur=Ae.define({enables:[N1,yE]});function at(){var i=arguments[0];typeof i=="string"&&(i=document.createElement(i));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var s=t[n];typeof s=="string"?i.setAttribute(n,s):s!=null&&(i[n]=s)}e++}for(;e<arguments.length;e++)L1(i,arguments[e]);return i}function L1(i,e){if(typeof e=="string")i.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)i.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)L1(i,e[t]);else throw new RangeError("Unsupported child node: "+e)}const Ad=typeof String.prototype.normalize=="function"?i=>i.normalize("NFKD"):i=>i;class ir{constructor(e,t,n=0,s=e.length,l){this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,s),this.bufferStart=n,this.normalize=l?r=>l(Ad(r)):Ad,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Ut(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=pu(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=Dn(e);let s=this.normalize(t);for(let l=0,r=n;;l++){let o=s.charCodeAt(l),a=this.match(o,r);if(a)return this.value=a,this;if(l==s.length-1)break;r==n&&l<t.length&&t.charCodeAt(l)==o&&r++}}}match(e,t){let n=null;for(let s=0;s<this.matches.length;s+=2){let l=this.matches[s],r=!1;this.query.charCodeAt(l)==e&&(l==this.query.length-1?n={from:this.matches[s+1],to:t+1}:(this.matches[s]++,r=!0)),r||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?n={from:t,to:t+1}:this.matches.push(1,t)),n}}typeof Symbol!="undefined"&&(ir.prototype[Symbol.iterator]=function(){return this});const B1={from:-1,to:-1,match:/.*/.exec("")},Bu="gm"+(/x/.unicode==null?"":"u");class Q1{constructor(e,t,n,s=0,l=e.length){if(this.to=l,this.curLine="",this.done=!1,this.value=B1,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new z1(e,t,n,s,l);this.re=new RegExp(t,Bu+(n!=null&&n.ignoreCase?"i":"")),this.iter=e.iter();let r=e.lineAt(s);this.curLineStart=r.from,this.matchPos=s,this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let n=this.curLineStart+t.index,s=n+t[0].length;if(this.matchPos=s+(n==s?1:0),n==this.curLine.length&&this.nextLine(),n<s||n>this.value.to)return this.value={from:n,to:s,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const La=new WeakMap;class Zs{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,n){let s=La.get(e);if(!s||s.from>=n||s.to<=t){let o=new Zs(t,e.sliceString(t,n));return La.set(e,o),o}if(s.from==t&&s.to==n)return s;let{text:l,from:r}=s;return r>t&&(l=e.sliceString(t,r)+l,r=t),s.to<n&&(l+=e.sliceString(s.to,n)),La.set(e,new Zs(r,l)),new Zs(t,l.slice(t-r,n-r))}}class z1{constructor(e,t,n,s,l){this.text=e,this.to=l,this.done=!1,this.value=B1,this.matchPos=s,this.re=new RegExp(t,Bu+(n!=null&&n.ignoreCase?"i":"")),this.flat=Zs.get(e,s,this.chunkEnd(s+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t&&this.flat.to<this.to&&t.index+t[0].length>this.flat.text.length-10&&(t=null),t){let n=this.flat.from+t.index,s=n+t[0].length;return this.value={from:n,to:s,match:t},this.matchPos=s+(n==s?1:0),this}else{if(this.flat.to==this.to)return this.done=!0,this;this.flat=Zs.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}}typeof Symbol!="undefined"&&(Q1.prototype[Symbol.iterator]=z1.prototype[Symbol.iterator]=function(){return this});function wE(i){try{return new RegExp(i,Bu),!0}catch{return!1}}function Vf(i){let e=at("input",{class:"cm-textfield",name:"line"}),t=at("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),i.dispatch({effects:co.of(!1)}),i.focus()):s.keyCode==13&&(s.preventDefault(),n())},onsubmit:s=>{s.preventDefault(),n()}},at("label",i.state.phrase("Go to line"),": ",e)," ",at("button",{class:"cm-button",type:"submit"},i.state.phrase("go")));function n(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!s)return;let{state:l}=i,r=l.doc.lineAt(l.selection.main.head),[,o,a,f,u]=s,c=f?+f.slice(1):0,h=a?+a:r.number;if(a&&u){let m=h/100;o&&(m=m*(o=="-"?-1:1)+r.number/l.doc.lines),h=Math.round(l.doc.lines*m)}else a&&o&&(h=h*(o=="-"?-1:1)+r.number);let d=l.doc.line(Math.max(1,Math.min(l.doc.lines,h)));i.dispatch({effects:co.of(!1),selection:J.cursor(d.from+Math.max(0,Math.min(c,d.length))),scrollIntoView:!0}),i.focus()}return{dom:t,pos:-10}}const co=Qe.define(),Ed=Nt.define({create(){return!0},update(i,e){for(let t of e.effects)t.is(co)&&(i=t.value);return i},provide:i=>Ur.from(i,e=>e?Vf:null)}),OE=i=>{let e=Hr(i,Vf);if(!e){let t=[co.of(!0)];i.state.field(Ed,!1)==null&&t.push(Qe.appendConfig.of([Ed,SE])),i.dispatch({effects:t}),e=Hr(i,Vf)}return e&&e.dom.querySelector("input").focus(),!0},SE=Te.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),CE={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100},V1=Ae.define({combine(i){return ts(i,CE,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function AE(i){let e=[PE,TE];return i&&e.push(V1.of(i)),e}const EE=Me.mark({class:"cm-selectionMatch"}),DE=Me.mark({class:"cm-selectionMatch cm-selectionMatch-main"}),TE=Dt.fromClass(class{constructor(i){this.decorations=this.getDeco(i)}update(i){(i.selectionSet||i.docChanged||i.viewportChanged)&&(this.decorations=this.getDeco(i.view))}getDeco(i){let e=i.state.facet(V1),{state:t}=i,n=t.selection;if(n.ranges.length>1)return Me.none;let s=n.main,l,r=null;if(s.empty){if(!e.highlightWordAroundCursor)return Me.none;let a=t.wordAt(s.head);if(!a)return Me.none;r=t.charCategorizer(s.head),l=t.sliceDoc(a.from,a.to)}else{let a=s.to-s.from;if(a<e.minSelectionLength||a>200||(l=t.sliceDoc(s.from,s.to).trim(),!l))return Me.none}let o=[];for(let a of i.visibleRanges){let f=new ir(t.doc,l,a.from,a.to);for(;!f.next().done;){let{from:u,to:c}=f.value;if((!r||(u==0||r(t.sliceDoc(u-1,u))!=bn.Word)&&(c==t.doc.length||r(t.sliceDoc(c,c+1))!=bn.Word))&&(r&&u<=s.from&&c>=s.to?o.push(DE.range(u,c)):(u>=s.to||c<=s.from)&&o.push(EE.range(u,c)),o.length>e.maxMatches))return Me.none}}return Me.set(o)}},{decorations:i=>i.decorations}),PE=Te.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),ME=({state:i,dispatch:e})=>{let{selection:t}=i,n=J.create(t.ranges.map(s=>i.wordAt(s.head)||J.cursor(s.head)),t.mainIndex);return n.eq(t)?!1:(e(i.update({selection:n})),!0)};function IE(i,e){let{main:t,ranges:n}=i.selection,s=i.wordAt(t.head),l=s&&s.from==t.from&&s.to==t.to;for(let r=!1,o=new ir(i.doc,e,n[n.length-1].to);;)if(o.next(),o.done){if(r)return null;o=new ir(i.doc,e,0,Math.max(0,n[n.length-1].from-1)),r=!0}else{if(r&&n.some(a=>a.from==o.value.from))continue;if(l){let a=i.wordAt(o.value.from);if(!a||a.from!=o.value.from||a.to!=o.value.to)continue}return o.value}}const RE=({state:i,dispatch:e})=>{let{ranges:t}=i.selection;if(t.some(l=>l.from===l.to))return ME({state:i,dispatch:e});let n=i.sliceDoc(t[0].from,t[0].to);if(i.selection.ranges.some(l=>i.sliceDoc(l.from,l.to)!=n))return!1;let s=IE(i,n);return s?(e(i.update({selection:i.selection.addRange(J.range(s.from,s.to),!1),scrollIntoView:!0})),!0):!1},Qu=Ae.define({combine(i){var e;return{top:i.reduce((t,n)=>t!=null?t:n.top,void 0)||!1,caseSensitive:i.reduce((t,n)=>t!=null?t:n.caseSensitive||n.matchCase,void 0)||!1,createPanel:((e=i.find(t=>t.createPanel))===null||e===void 0?void 0:e.createPanel)||(t=>new HE(t))}}});class F1{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||wE(this.search))}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp}create(){return this.regexp?new LE(this):new NE(this)}}class W1{constructor(e){this.spec=e}}class NE extends W1{constructor(e){super(e);this.unquoted=e.search.replace(/\\([nrt\\])/g,(t,n)=>n=="n"?`
`:n=="r"?"\r":n=="t"?"	":"\\")}cursor(e,t=0,n=e.length){return new ir(e,this.unquoted,t,n,this.spec.caseSensitive?void 0:s=>s.toLowerCase())}nextMatch(e,t,n){let s=this.cursor(e,n).nextOverlapping();return s.done&&(s=this.cursor(e,0,t).nextOverlapping()),s.done?null:s.value}prevMatchInRange(e,t,n){for(let s=n;;){let l=Math.max(t,s-1e4-this.unquoted.length),r=this.cursor(e,l,s),o=null;for(;!r.nextOverlapping().done;)o=r.value;if(o)return o;if(l==t)return null;s-=1e4}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.length)}getReplacement(e){return this.spec.replace}matchAll(e,t){let n=this.cursor(e),s=[];for(;!n.next().done;){if(s.length>=t)return null;s.push(n.value)}return s}highlight(e,t,n,s){let l=this.cursor(e,Math.max(0,t-this.unquoted.length),Math.min(n+this.unquoted.length,e.length));for(;!l.next().done;)s(l.value.from,l.value.to)}}class LE extends W1{cursor(e,t=0,n=e.length){return new Q1(e,this.spec.search,this.spec.caseSensitive?void 0:{ignoreCase:!0},t,n)}nextMatch(e,t,n){let s=this.cursor(e,n).next();return s.done&&(s=this.cursor(e,0,t).next()),s.done?null:s.value}prevMatchInRange(e,t,n){for(let s=1;;s++){let l=Math.max(t,n-s*1e4),r=this.cursor(e,l,n),o=null;for(;!r.next().done;)o=r.value;if(o&&(l==t||o.from>l+10))return o;if(l==t)return null}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.length)}getReplacement(e){return this.spec.replace.replace(/\$([$&\d+])/g,(t,n)=>n=="$"?"$":n=="&"?e.match[0]:n!="0"&&+n<e.match.length?e.match[n]:t)}matchAll(e,t){let n=this.cursor(e),s=[];for(;!n.next().done;){if(s.length>=t)return null;s.push(n.value)}return s}highlight(e,t,n,s){let l=this.cursor(e,Math.max(0,t-250),Math.min(n+250,e.length));for(;!l.next().done;)s(l.value.from,l.value.to)}}const qr=Qe.define(),zu=Qe.define(),Hi=Nt.define({create(i){return new Ba(Ff(i).create(),po)},update(i,e){for(let t of e.effects)t.is(qr)?i=new Ba(t.value.create(),i.panel):t.is(zu)&&(i=new Ba(i.query,t.value?po:null));return i},provide:i=>Ur.from(i,e=>e.panel)});class Ba{constructor(e,t){this.query=e,this.panel=t}}const BE=Me.mark({class:"cm-searchMatch"}),QE=Me.mark({class:"cm-searchMatch cm-searchMatch-selected"}),zE=Dt.fromClass(class{constructor(i){this.view=i,this.decorations=this.highlight(i.state.field(Hi))}update(i){let e=i.state.field(Hi);(e!=i.startState.field(Hi)||i.docChanged||i.selectionSet)&&(this.decorations=this.highlight(e))}highlight({query:i,panel:e}){if(!e||!i.spec.valid)return Me.none;let{view:t}=this,n=new qi;for(let s=0,l=t.visibleRanges,r=l.length;s<r;s++){let{from:o,to:a}=l[s];for(;s<r-1&&a>l[s+1].from-2*250;)a=l[++s].to;i.highlight(t.state.doc,o,a,(f,u)=>{let c=t.state.selection.ranges.some(h=>h.from==f&&h.to==u);n.add(f,u,c?QE:BE)})}return n.finish()}},{decorations:i=>i.decorations});function sl(i){return e=>{let t=e.state.field(Hi,!1);return t&&t.query.spec.valid?i(e,t):j1(e)}}const ho=sl((i,{query:e})=>{let{from:t,to:n}=i.state.selection.main,s=e.nextMatch(i.state.doc,t,n);return!s||s.from==t&&s.to==n?!1:(i.dispatch({selection:{anchor:s.from,head:s.to},scrollIntoView:!0,effects:Vu(i,s),userEvent:"select.search"}),!0)}),mo=sl((i,{query:e})=>{let{state:t}=i,{from:n,to:s}=t.selection.main,l=e.prevMatch(t.doc,n,s);return l?(i.dispatch({selection:{anchor:l.from,head:l.to},scrollIntoView:!0,effects:Vu(i,l),userEvent:"select.search"}),!0):!1}),VE=sl((i,{query:e})=>{let t=e.matchAll(i.state.doc,1e3);return!t||!t.length?!1:(i.dispatch({selection:J.create(t.map(n=>J.range(n.from,n.to))),userEvent:"select.search.matches"}),!0)}),FE=({state:i,dispatch:e})=>{let t=i.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:n,to:s}=t.main,l=[],r=0;for(let o=new ir(i.doc,i.sliceDoc(n,s));!o.next().done;){if(l.length>1e3)return!1;o.value.from==n&&(r=l.length),l.push(J.range(o.value.from,o.value.to))}return e(i.update({selection:J.create(l,r),userEvent:"select.search.matches"})),!0},Dd=sl((i,{query:e})=>{let{state:t}=i,{from:n,to:s}=t.selection.main;if(t.readOnly)return!1;let l=e.nextMatch(t.doc,n,n);if(!l)return!1;let r=[],o,a;if(l.from==n&&l.to==s&&(a=t.toText(e.getReplacement(l)),r.push({from:l.from,to:l.to,insert:a}),l=e.nextMatch(t.doc,l.from,l.to)),l){let f=r.length==0||r[0].from>=l.to?0:l.to-l.from-a.length;o={anchor:l.from-f,head:l.to-f}}return i.dispatch({changes:r,selection:o,scrollIntoView:!!o,effects:l?Vu(i,l):void 0,userEvent:"input.replace"}),!0}),WE=sl((i,{query:e})=>{if(i.state.readOnly)return!1;let t=e.matchAll(i.state.doc,1e9).map(n=>{let{from:s,to:l}=n;return{from:s,to:l,insert:e.getReplacement(n)}});return t.length?(i.dispatch({changes:t,userEvent:"input.replace.all"}),!0):!1});function po(i){return i.state.facet(Qu).createPanel(i)}function Ff(i,e){var t;let n=i.selection.main,s=n.empty||n.to>n.from+100?"":i.sliceDoc(n.from,n.to),l=(t=e==null?void 0:e.caseSensitive)!==null&&t!==void 0?t:i.facet(Qu).caseSensitive;return e&&!s?e:new F1({search:s.replace(/\n/g,"\\n"),caseSensitive:l})}const j1=i=>{let e=i.state.field(Hi,!1);if(e&&e.panel){let t=Hr(i,po);if(!t)return!1;let n=t.dom.querySelector("[name=search]");if(n!=i.root.activeElement){let s=Ff(i.state,e.query.spec);s.valid&&i.dispatch({effects:qr.of(s)}),n.focus(),n.select()}}else i.dispatch({effects:[zu.of(!0),e?qr.of(Ff(i.state,e.query.spec)):Qe.appendConfig.of(qE)]});return!0},H1=i=>{let e=i.state.field(Hi,!1);if(!e||!e.panel)return!1;let t=Hr(i,po);return t&&t.dom.contains(i.root.activeElement)&&i.focus(),i.dispatch({effects:zu.of(!1)}),!0},jE=[{key:"Mod-f",run:j1,scope:"editor search-panel"},{key:"F3",run:ho,shift:mo,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:ho,shift:mo,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:H1,scope:"editor search-panel"},{key:"Mod-Shift-l",run:FE},{key:"Alt-g",run:OE},{key:"Mod-d",run:RE,preventDefault:!0}];class HE{constructor(e){this.view=e;let t=this.query=e.state.field(Hi).query.spec;this.commit=this.commit.bind(this),this.searchField=at("input",{value:t.search,placeholder:Sn(e,"Find"),"aria-label":Sn(e,"Find"),class:"cm-textfield",name:"search",onchange:this.commit,onkeyup:this.commit}),this.replaceField=at("input",{value:t.replace,placeholder:Sn(e,"Replace"),"aria-label":Sn(e,"Replace"),class:"cm-textfield",name:"replace",onchange:this.commit,onkeyup:this.commit}),this.caseField=at("input",{type:"checkbox",name:"case",checked:t.caseSensitive,onchange:this.commit}),this.reField=at("input",{type:"checkbox",name:"re",checked:t.regexp,onchange:this.commit});function n(s,l,r){return at("button",{class:"cm-button",name:s,onclick:l,type:"button"},r)}this.dom=at("div",{onkeydown:s=>this.keydown(s),class:"cm-search"},[this.searchField,n("next",()=>ho(e),[Sn(e,"next")]),n("prev",()=>mo(e),[Sn(e,"previous")]),n("select",()=>VE(e),[Sn(e,"all")]),at("label",null,[this.caseField,Sn(e,"match case")]),at("label",null,[this.reField,Sn(e,"regexp")]),...e.state.readOnly?[]:[at("br"),this.replaceField,n("replace",()=>Dd(e),[Sn(e,"replace")]),n("replaceAll",()=>WE(e),[Sn(e,"replace all")]),at("button",{name:"close",onclick:()=>H1(e),"aria-label":Sn(e,"close"),type:"button"},["\xD7"])]])}commit(){let e=new F1({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:qr.of(e)}))}keydown(e){YS(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?mo:ho)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),Dd(this.view))}update(e){for(let t of e.transactions)for(let n of t.effects)n.is(qr)&&!n.value.eq(this.query)&&this.setQuery(n.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Qu).top}}function Sn(i,e){return i.state.phrase(e)}const Cl=30,Al=/[\s\.,:;?!]/;function Vu(i,{from:e,to:t}){let n=i.state.doc.lineAt(e).from,s=i.state.doc.lineAt(t).to,l=Math.max(n,e-Cl),r=Math.min(s,t+Cl),o=i.state.sliceDoc(l,r);if(l!=n){for(let a=0;a<Cl;a++)if(!Al.test(o[a+1])&&Al.test(o[a])){o=o.slice(a);break}}if(r!=s){for(let a=o.length-1;a>o.length-Cl;a--)if(!Al.test(o[a-1])&&Al.test(o[a])){o=o.slice(0,a);break}}return Te.announce.of(`${i.state.phrase("current match")}. ${o} ${i.state.phrase("on line")} ${i.state.doc.lineAt(e).number}`)}const UE=Te.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),qE=[Hi,Jr.lowest(zE),UE],$E=typeof navigator!="undefined"&&!/Edge\/(\d+)/.exec(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),Qa="-10000px";class U1{constructor(e,t,n){this.facet=t,this.createTooltipView=n,this.input=e.state.facet(t),this.tooltips=this.input.filter(s=>s),this.tooltipViews=this.tooltips.map(n)}update(e){let t=e.state.facet(this.facet),n=t.filter(l=>l);if(t===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let s=[];for(let l=0;l<n.length;l++){let r=n[l],o=-1;if(!!r){for(let a=0;a<this.tooltips.length;a++){let f=this.tooltips[a];f&&f.create==r.create&&(o=a)}if(o<0)s[l]=this.createTooltipView(r);else{let a=s[l]=this.tooltipViews[o];a.update&&a.update(e)}}}for(let l of this.tooltipViews)s.indexOf(l)<0&&l.dom.remove();return this.input=t,this.tooltips=n,this.tooltipViews=s,!0}}function GE(){return{top:0,left:0,bottom:innerHeight,right:innerWidth}}const za=Ae.define({combine:i=>{var e,t,n;return{position:$E?"absolute":((e=i.find(s=>s.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=i.find(s=>s.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((n=i.find(s=>s.tooltipSpace))===null||n===void 0?void 0:n.tooltipSpace)||GE}}}),XE=Dt.fromClass(class{constructor(i){this.view=i,this.inView=!0,this.lastTransaction=0,this.intersectionTimeout=-1;let e=i.state.facet(za);this.position=e.position,this.parent=e.parent,this.classes=i.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new U1(i,Zo,t=>this.createTooltip(t)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{this.intersectionTimeout<0&&Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&(this.intersectionTimeout=setTimeout(()=>{this.intersectionTimeout=-1,this.maybeMeasure()},50))},{threshold:[1]}):null,this.observeIntersection(),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let i of this.manager.tooltipViews)this.intersectionObserver.observe(i.dom)}}update(i){i.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(i);e&&this.observeIntersection();let t=e||i.geometryChanged,n=i.state.facet(za);if(n.position!=this.position){this.position=n.position;for(let s of this.manager.tooltipViews)s.dom.style.position=this.position;t=!0}if(n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer();for(let s of this.manager.tooltipViews)this.container.appendChild(s.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(i){let e=i.create(this.view);if(e.dom.classList.add("cm-tooltip"),i.arrow&&!e.dom.querySelector("cm-tooltip > cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",e.dom.appendChild(t)}return e.dom.style.position=this.position,e.dom.style.top=Qa,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var i;for(let{dom:e}of this.manager.tooltipViews)e.remove();(i=this.intersectionObserver)===null||i===void 0||i.disconnect(),clearTimeout(this.intersectionTimeout)}readMeasure(){let i=this.view.dom.getBoundingClientRect();return{editor:i,parent:this.parent?this.container.getBoundingClientRect():i,pos:this.manager.tooltips.map(e=>this.view.coordsAtPos(e.pos)),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(za).tooltipSpace(this.view)}}writeMeasure(i){let{editor:e,space:t}=i,n=[];for(let s=0;s<this.manager.tooltips.length;s++){let l=this.manager.tooltips[s],r=this.manager.tooltipViews[s],{dom:o}=r,a=i.pos[s],f=i.size[s];if(!a||a.bottom<=Math.max(e.top,t.top)||a.top>=Math.min(e.bottom,t.bottom)||a.right<=Math.max(e.left,t.left)||a.left>=Math.min(e.right,t.right)){o.style.top=Qa;continue}let u=l.arrow?r.dom.querySelector(".cm-tooltip-arrow"):null,c=u?7:0,h=f.right-f.left,d=f.bottom-f.top,m=r.offset||KE,p=this.view.textDirection==Ke.LTR,b=f.width>t.right-t.left?p?t.left:t.right-f.width:p?Math.min(a.left-(u?14:0)+m.x,t.right-h):Math.max(t.left,a.left-h+(u?14:0)-m.x),y=!!l.above;!l.strictSide&&(y?a.top-(f.bottom-f.top)-m.y<t.top:a.bottom+(f.bottom-f.top)+m.y>t.bottom)&&y==t.bottom-a.bottom>a.top-t.top&&(y=!y);let O=y?a.top-d-c-m.y:a.bottom+c+m.y,C=b+h;for(let D of n)D.left<C&&D.right>b&&D.top<O+d&&D.bottom>O&&(O=y?D.top-d-2-c:D.bottom+c+2);this.position=="absolute"?(o.style.top=O-i.parent.top+"px",o.style.left=b-i.parent.left+"px"):(o.style.top=O+"px",o.style.left=b+"px"),u&&(u.style.left=`${a.left+(p?m.x:-m.x)-(b+14-7)}px`),n.push({left:b,top:O,right:C,bottom:O+d}),o.classList.toggle("cm-tooltip-above",y),o.classList.toggle("cm-tooltip-below",!y),r.positioned&&r.positioned()}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let i of this.manager.tooltipViews)i.dom.style.top=Qa}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),ZE=Te.baseTheme({".cm-tooltip":{zIndex:100},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:`${7}px`,width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:`${7}px solid transparent`,borderRight:`${7}px solid transparent`},".cm-tooltip-above &":{bottom:`-${7}px`,"&:before":{borderTop:`${7}px solid #bbb`},"&:after":{borderTop:`${7}px solid #f5f5f5`,bottom:"1px"}},".cm-tooltip-below &":{top:`-${7}px`,"&:before":{borderBottom:`${7}px solid #bbb`},"&:after":{borderBottom:`${7}px solid #f5f5f5`,top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),KE={x:0,y:0},Zo=Ae.define({enables:[XE,ZE]}),go=Ae.define();class Fu{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new U1(e,go,t=>this.createHostedView(t))}static create(e){return new Fu(e)}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(){for(let e of this.manager.tooltipViews)e.positioned&&e.positioned()}update(e){this.manager.update(e)}}const YE=Zo.compute([go],i=>{let e=i.facet(go).filter(t=>t);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.filter(t=>t.end!=null).map(t=>t.end)),create:Fu.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class xE{constructor(e,t,n,s,l){this.view=e,this.source=t,this.field=n,this.setHover=s,this.hoverTime=l,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){var e;clearTimeout(this.restartTimeout);let{lastMove:t}=this,n=this.view.contentDOM.contains(t.target)?this.view.posAtCoords(t):null;if(n==null)return;let s=this.view.coordsAtPos(n);if(s==null||t.y<s.top||t.y>s.bottom||t.x<s.left-this.view.defaultCharacterWidth||t.x>s.right+this.view.defaultCharacterWidth)return;let l=this.view.bidiSpans(this.view.state.doc.lineAt(n)).find(a=>a.from<=n&&a.to>=n),r=l&&l.dir==Ke.RTL?-1:1,o=this.source(this.view,n,t.x<s.left?-r:r);if(!((e=o)===null||e===void 0)&&e.then){let a=this.pending={pos:n};o.then(f=>{this.pending==a&&(this.pending=null,f&&this.view.dispatch({effects:this.setHover.of(f)}))},f=>wn(this.view.state,f,"hover tooltip"))}else o&&this.view.dispatch({effects:this.setHover.of(o)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let n=this.active;if(n&&!JE(this.lastMove.target)||this.pending){let{pos:s}=n||this.pending,l=(t=n==null?void 0:n.end)!==null&&t!==void 0?t:s;(s==l?this.view.posAtCoords(this.lastMove)!=s:!e3(this.view,s,l,e.clientX,e.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function JE(i){for(let e=i;e;e=e.parentNode)if(e.nodeType==1&&e.classList.contains("cm-tooltip"))return!0;return!1}function e3(i,e,t,n,s,l){let r=document.createRange(),o=i.domAtPos(e),a=i.domAtPos(t);r.setEnd(a.node,a.offset),r.setStart(o.node,o.offset);let f=r.getClientRects();r.detach();for(let u=0;u<f.length;u++){let c=f[u];if(Math.max(c.top-s,s-c.bottom,c.left-n,n-c.right)<=l)return!0}return!1}function t3(i,e={}){let t=Qe.define(),n=Nt.define({create(){return null},update(l,r){if(l&&e.hideOnChange&&(r.docChanged||r.selection))return null;for(let o of r.effects){if(o.is(t))return o.value;if(o.is(n3))return null}if(l&&r.docChanged){let o=r.changes.mapPos(l.pos,-1,Kt.TrackDel);if(o==null)return null;let a=Object.assign(Object.create(null),l);return a.pos=o,l.end!=null&&(a.end=r.changes.mapPos(l.end)),a}return l},provide:l=>go.from(l)}),s=e.hoverTime||600;return[n,Dt.define(l=>new xE(l,i,n,t,s)),YE]}const n3=Qe.define();class i3{constructor(e,t,n){this.state=e,this.pos=t,this.explicit=n,this.abortListeners=[]}tokenBefore(e){let t=fn(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),s=t.text.slice(n-t.from,this.pos-t.from),l=s.search(q1(e,!1));return l<0?null:{from:n+l,to:this.pos,text:s.slice(l)}}get aborted(){return this.abortListeners==null}addEventListener(e,t){e=="abort"&&this.abortListeners&&this.abortListeners.push(t)}}function Td(i){let e=Object.keys(i).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function s3(i){let e=Object.create(null),t=Object.create(null);for(let{label:s}of i){e[s[0]]=!0;for(let l=1;l<s.length;l++)t[s[l]]=!0}let n=Td(e)+Td(t)+"*$";return[new RegExp("^"+n),new RegExp(n)]}function r3(i){let e=i.map(s=>typeof s=="string"?{label:s}:s),[t,n]=e.every(s=>/^\w+$/.test(s.label))?[/\w*$/,/\w+$/]:s3(e);return s=>{let l=s.matchBefore(n);return l||s.explicit?{from:l?l.from:s.pos,options:e,span:t}:null}}class Pd{constructor(e,t,n){this.completion=e,this.source=t,this.match=n}}function sr(i){return i.selection.main.head}function q1(i,e){var t;let{source:n}=i,s=e&&n[0]!="^",l=n[n.length-1]!="$";return!s&&!l?i:new RegExp(`${s?"^":""}(?:${n})${l?"$":""}`,(t=i.flags)!==null&&t!==void 0?t:i.ignoreCase?"i":"")}const l3=es.define();function $1(i,e){let t=e.completion.apply||e.completion.label,n=e.source;typeof t=="string"?i.dispatch({changes:{from:n.from,to:n.to,insert:t},selection:{anchor:n.from+t.length},userEvent:"input.complete",annotations:l3.of(e.completion)}):t(i,e.completion,n.from,n.to)}const Md=new WeakMap;function o3(i){if(!Array.isArray(i))return i;let e=Md.get(i);return e||Md.set(i,e=r3(i)),e}class a3{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let t=0;t<e.length;){let n=Ut(e,t),s=Dn(n);this.chars.push(n);let l=e.slice(t,t+s),r=l.toUpperCase();this.folded.push(Ut(r==l?l.toLowerCase():r,0)),t+=s}this.astral=e.length!=this.chars.length}match(e){if(this.pattern.length==0)return[0];if(e.length<this.pattern.length)return null;let{chars:t,folded:n,any:s,precise:l,byWord:r}=this;if(t.length==1){let y=Ut(e,0);return y==t[0]?[0,0,Dn(y)]:y==n[0]?[-200,0,Dn(y)]:null}let o=e.indexOf(this.pattern);if(o==0)return[0,0,this.pattern.length];let a=t.length,f=0;if(o<0){for(let y=0,O=Math.min(e.length,200);y<O&&f<a;){let C=Ut(e,y);(C==t[f]||C==n[f])&&(s[f++]=y),y+=Dn(C)}if(f<a)return null}let u=0,c=0,h=!1,d=0,m=-1,p=-1,b=/[a-z]/.test(e);for(let y=0,O=Math.min(e.length,200),C=0;y<O&&c<a;){let D=Ut(e,y);o<0&&(u<a&&D==t[u]&&(l[u++]=y),d<a&&(D==t[d]||D==n[d]?(d==0&&(m=y),p=y+1,d++):d=0));let A,P=D<255?D>=48&&D<=57||D>=97&&D<=122?2:D>=65&&D<=90?1:0:(A=pu(D))!=A.toLowerCase()?1:A!=A.toUpperCase()?2:0;(P==1&&b||C==0&&P!=0)&&(t[c]==D||n[c]==D&&(h=!0))&&(r[c++]=y),C=P,y+=Dn(D)}return c==a&&r[0]==0?this.result(-100+(h?-200:0),r,e):d==a&&m==0?[-200,0,p]:o>-1?[-700,o,o+this.pattern.length]:d==a?[-200+-700,m,p]:c==a?this.result(-100+(h?-200:0)+-700,r,e):t.length==2?null:this.result((s[0]?-700:0)+-200+-1100,s,e)}result(e,t,n){let s=[e],l=1;for(let r of t){let o=r+(this.astral?Dn(Ut(n,r)):1);l>1&&s[l-1]==r?s[l-1]=o:(s[l++]=r,s[l++]=o)}return s}}const As=Ae.define({combine(i){return ts(i,{activateOnTyping:!0,override:null,maxRenderedOptions:100,defaultKeymap:!0,optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[]},{defaultKeymap:(e,t)=>e&&t,icons:(e,t)=>e&&t,optionClass:(e,t)=>n=>f3(e(n),t(n)),addToOptions:(e,t)=>e.concat(t)})}});function f3(i,e){return i?e?i+" "+e:i:e}function u3(i){let e=i.addToOptions.slice();return i.icons&&e.push({render(t){let n=document.createElement("div");return n.classList.add("cm-completionIcon"),t.type&&n.classList.add(...t.type.split(/\s+/g).map(s=>"cm-completionIcon-"+s)),n.setAttribute("aria-hidden","true"),n},position:20}),e.push({render(t,n,s){let l=document.createElement("span");l.className="cm-completionLabel";let{label:r}=t,o=0;for(let a=1;a<s.length;){let f=s[a++],u=s[a++];f>o&&l.appendChild(document.createTextNode(r.slice(o,f)));let c=l.appendChild(document.createElement("span"));c.appendChild(document.createTextNode(r.slice(f,u))),c.className="cm-completionMatchedText",o=u}return o<r.length&&l.appendChild(document.createTextNode(r.slice(o))),l},position:50},{render(t){if(!t.detail)return null;let n=document.createElement("span");return n.className="cm-completionDetail",n.textContent=t.detail,n},position:80}),e.sort((t,n)=>t.position-n.position).map(t=>t.render)}function c3(i,e){let t=document.createElement("div");t.className="cm-tooltip cm-completionInfo";let{info:n}=i.completion;if(typeof n=="string")t.textContent=n;else{let s=n(i.completion);s.then?s.then(l=>t.appendChild(l),l=>wn(e.state,l,"completion info")):t.appendChild(s)}return t}function Id(i,e,t){if(i<=t)return{from:0,to:i};if(e<=i>>1){let s=Math.floor(e/t);return{from:s*t,to:(s+1)*t}}let n=Math.floor((i-e)/t);return{from:i-(n+1)*t,to:i-n*t}}class h3{constructor(e,t){this.view=e,this.stateField=t,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:o=>this.positionInfo(o),key:this};let n=e.state.field(t),{options:s,selected:l}=n.open,r=e.state.facet(As);this.optionContent=u3(r),this.optionClass=r.optionClass,this.range=Id(s.length,l,r.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.dom.addEventListener("mousedown",o=>{for(let a=o.target,f;a&&a!=this.dom;a=a.parentNode)if(a.nodeName=="LI"&&(f=/-(\d+)$/.exec(a.id))&&+f[1]<s.length){$1(e,s[+f[1]]),o.preventDefault();return}}),this.list=this.dom.appendChild(this.createListBox(s,n.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})}mount(){this.updateSel()}update(e){e.state.field(this.stateField)!=e.startState.field(this.stateField)&&this.updateSel()}positioned(){this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=Id(t.options.length,t.selected,this.view.state.facet(As).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t.options,e.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})),this.updateSelectedOption(t.selected)){this.info&&(this.info.remove(),this.info=null);let n=t.options[t.selected];n.completion.info&&(this.info=this.dom.appendChild(c3(n,this.view)),this.view.requestMeasure(this.placeInfo))}}updateSelectedOption(e){let t=null;for(let n=this.list.firstChild,s=this.range.from;n;n=n.nextSibling,s++)s==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected");return t&&m3(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect();if(t.top>innerHeight-10||t.bottom<10)return null;let s=Math.max(0,Math.min(e.getBoundingClientRect().top,innerHeight-n.height))-t.top,l=this.view.textDirection==Ke.RTL,r=t.left,o=innerWidth-t.right;return l&&r<Math.min(n.width,o)?l=!1:!l&&o<Math.min(n.width,r)&&(l=!0),{top:s,left:l}}positionInfo(e){this.info&&(this.info.style.top=(e?e.top:-1e6)+"px",e&&(this.info.classList.toggle("cm-completionInfo-left",e.left),this.info.classList.toggle("cm-completionInfo-right",!e.left)))}createListBox(e,t,n){const s=document.createElement("ul");s.id=t,s.setAttribute("role","listbox");for(let l=n.from;l<n.to;l++){let{completion:r,match:o}=e[l];const a=s.appendChild(document.createElement("li"));a.id=t+"-"+l,a.setAttribute("role","option");let f=this.optionClass(r);f&&(a.className=f);for(let u of this.optionContent){let c=u(r,this.view.state,o);c&&a.appendChild(c)}}return n.from&&s.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&s.classList.add("cm-completionListIncompleteBottom"),s}}function d3(i){return e=>new h3(e,i)}function m3(i,e){let t=i.getBoundingClientRect(),n=e.getBoundingClientRect();n.top<t.top?i.scrollTop-=t.top-n.top:n.bottom>t.bottom&&(i.scrollTop+=n.bottom-t.bottom)}const p3=300;function Rd(i){return(i.boost||0)*100+(i.apply?10:0)+(i.info?5:0)+(i.type?1:0)}function g3(i,e){let t=[],n=0;for(let r of i)if(r.hasResult())if(r.result.filter===!1)for(let o of r.result.options)t.push(new Pd(o,r,[1e9-n++]));else{let o=new a3(e.sliceDoc(r.from,r.to)),a;for(let f of r.result.options)(a=o.match(f.label))&&(f.boost!=null&&(a[0]+=f.boost),t.push(new Pd(f,r,a)))}t.sort(Ld);let s=[],l=null;for(let r of t.sort(Ld)){if(s.length==p3)break;!l||l.label!=r.completion.label||l.detail!=r.completion.detail||l.type!=r.completion.type||l.apply!=r.completion.apply?s.push(r):Rd(r.completion)>Rd(l)&&(s[s.length-1]=r),l=r.completion}return s}class Pr{constructor(e,t,n,s,l){this.options=e,this.attrs=t,this.tooltip=n,this.timestamp=s,this.selected=l}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Pr(this.options,Nd(t,e),this.tooltip,this.timestamp,e)}static build(e,t,n,s,l){let r=g3(e,t);if(!r.length)return null;let o=0;if(s&&s.selected){let a=s.options[s.selected].completion;for(let f=0;f<r.length&&!o;f++)r[f].completion==a&&(o=f)}return new Pr(r,Nd(n,o),{pos:e.reduce((a,f)=>f.hasResult()?Math.min(a,f.from):a,1e8),create:d3(Bn),above:l.aboveCursor},s?s.timestamp:Date.now(),o)}map(e){return new Pr(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected)}}class bo{constructor(e,t,n){this.active=e,this.id=t,this.open=n}static start(){return new bo(v3,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,n=t.facet(As),l=(n.override||t.languageDataAt("autocomplete",sr(t)).map(o3)).map(o=>(this.active.find(f=>f.source==o)||new sn(o,this.active.some(f=>f.state!=0)?1:0)).update(e,n));l.length==this.active.length&&l.every((o,a)=>o==this.active[a])&&(l=this.active);let r=e.selection||l.some(o=>o.hasResult()&&e.changes.touchesRange(o.from,o.to))||!b3(l,this.active)?Pr.build(l,t,this.id,this.open,n):this.open&&e.docChanged?this.open.map(e.changes):this.open;!r&&l.every(o=>o.state!=1)&&l.some(o=>o.hasResult())&&(l=l.map(o=>o.hasResult()?new sn(o.source,0):o));for(let o of e.effects)o.is(X1)&&(r=r&&r.setSelected(o.value,this.id));return l==this.active&&r==this.open?this:new bo(l,this.id,r)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:_3}}function b3(i,e){if(i==e)return!0;for(let t=0,n=0;;){for(;t<i.length&&!i[t].hasResult;)t++;for(;n<e.length&&!e[n].hasResult;)n++;let s=t==i.length,l=n==e.length;if(s||l)return s==l;if(i[t++].result!=e[n++].result)return!1}}const _3={"aria-autocomplete":"list","aria-expanded":"false"};function Nd(i,e){return{"aria-autocomplete":"list","aria-expanded":"true","aria-activedescendant":i+"-"+e,"aria-controls":i}}const v3=[];function Ld(i,e){let t=e.match[0]-i.match[0];return t||i.completion.label.localeCompare(e.completion.label)}function Wf(i){return i.isUserEvent("input.type")?"input":i.isUserEvent("delete.backward")?"delete":null}class sn{constructor(e,t,n=-1){this.source=e,this.state=t,this.explicitPos=n}hasResult(){return!1}update(e,t){let n=Wf(e),s=this;n?s=s.handleUserEvent(e,n,t):e.docChanged?s=s.handleChange(e):e.selection&&s.state!=0&&(s=new sn(s.source,0));for(let l of e.effects)if(l.is(Wu))s=new sn(s.source,1,l.value?sr(e.state):-1);else if(l.is(ju))s=new sn(s.source,0);else if(l.is(G1))for(let r of l.value)r.source==s.source&&(s=r);return s}handleUserEvent(e,t,n){return t=="delete"||!n.activateOnTyping?this.map(e.changes):new sn(this.source,1)}handleChange(e){return e.changes.touchesRange(sr(e.startState))?new sn(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new sn(this.source,this.state,e.mapPos(this.explicitPos))}}class _o extends sn{constructor(e,t,n,s,l,r){super(e,2,t);this.result=n,this.from=s,this.to=l,this.span=r}hasResult(){return!0}handleUserEvent(e,t,n){let s=e.changes.mapPos(this.from),l=e.changes.mapPos(this.to,1),r=sr(e.state);if((this.explicitPos>-1?r<s:r<=s)||r>l)return new sn(this.source,t=="input"&&n.activateOnTyping?1:0);let o=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return this.span&&(s==l||this.span.test(e.state.sliceDoc(s,l)))?new _o(this.source,o,this.result,s,l,this.span):new sn(this.source,1,o)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new sn(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new _o(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1),this.span)}}const Wu=Qe.define(),ju=Qe.define(),G1=Qe.define({map(i,e){return i.map(t=>t.map(e))}}),X1=Qe.define(),Bn=Nt.define({create(){return bo.start()},update(i,e){return i.update(e)},provide:i=>[Zo.from(i,e=>e.tooltip),Te.contentAttributes.from(i,e=>e.attrs)]}),Z1=75;function El(i,e="option"){return t=>{let n=t.state.field(Bn,!1);if(!n||!n.open||Date.now()-n.open.timestamp<Z1)return!1;let s=1,l;e=="page"&&(l=t.dom.querySelector(".cm-tooltip-autocomplete"))&&(s=Math.max(2,Math.floor(l.offsetHeight/l.firstChild.offsetHeight)));let r=n.open.selected+s*(i?1:-1),{length:o}=n.open.options;return r<0?r=e=="page"?0:o-1:r>=o&&(r=e=="page"?o-1:0),t.dispatch({effects:X1.of(r)}),!0}}const k3=i=>{let e=i.state.field(Bn,!1);return i.state.readOnly||!e||!e.open||Date.now()-e.open.timestamp<Z1?!1:($1(i,e.open.options[e.open.selected]),!0)},y3=i=>i.state.field(Bn,!1)?(i.dispatch({effects:Wu.of(!0)}),!0):!1,w3=i=>{let e=i.state.field(Bn,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(i.dispatch({effects:ju.of(null)}),!0)};class O3{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const Bd=50,S3=50,C3=1e3,A3=Dt.fromClass(class{constructor(i){this.view=i,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of i.state.field(Bn).active)e.state==1&&this.startQuery(e)}update(i){let e=i.state.field(Bn);if(!i.selectionSet&&!i.docChanged&&i.startState.field(Bn)==e)return;let t=i.transactions.some(n=>(n.selection||n.docChanged)&&!Wf(n));for(let n=0;n<this.running.length;n++){let s=this.running[n];if(t||s.updates.length+i.transactions.length>S3&&s.time-Date.now()>C3){for(let l of s.context.abortListeners)try{l()}catch(r){wn(this.view.state,r)}s.context.abortListeners=null,this.running.splice(n--,1)}else s.updates.push(...i.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(n=>n.state==1&&!this.running.some(s=>s.active.source==n.source))?setTimeout(()=>this.startUpdate(),Bd):-1,this.composing!=0)for(let n of i.transactions)Wf(n)=="input"?this.composing=2:this.composing==2&&n.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:i}=this.view,e=i.field(Bn);for(let t of e.active)t.state==1&&!this.running.some(n=>n.active.source==t.source)&&this.startQuery(t)}startQuery(i){let{state:e}=this.view,t=sr(e),n=new i3(e,t,i.explicitPos==t),s=new O3(i,n);this.running.push(s),Promise.resolve(i.source(n)).then(l=>{s.context.aborted||(s.done=l||null,this.scheduleAccept())},l=>{this.view.dispatch({effects:ju.of(null)}),wn(this.view.state,l)})}scheduleAccept(){this.running.every(i=>i.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),Bd))}accept(){var i;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(As);for(let n=0;n<this.running.length;n++){let s=this.running[n];if(s.done===void 0)continue;if(this.running.splice(n--,1),s.done){let r=new _o(s.active.source,s.active.explicitPos,s.done,s.done.from,(i=s.done.to)!==null&&i!==void 0?i:sr(s.updates.length?s.updates[0].startState:this.view.state),s.done.span&&s.done.filter!==!1?q1(s.done.span,!0):null);for(let o of s.updates)r=r.update(o,t);if(r.hasResult()){e.push(r);continue}}let l=this.view.state.field(Bn).active.find(r=>r.source==s.active.source);if(l&&l.state==1)if(s.done==null){let r=new sn(s.active.source,0);for(let o of s.updates)r=r.update(o,t);r.state!=1&&e.push(r)}else this.startQuery(l)}e.length&&this.view.dispatch({effects:G1.of(e)})}},{eventHandlers:{compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Wu.of(!1)}),20),this.composing=0}}}),E3=Te.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#39e",color:"white"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25CB'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25CC'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1D465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1D436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1D461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222A'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25A1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1F511}\uFE0E'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25A2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});function D3(i={}){return[Bn,As.of(i),A3,T3,E3]}const K1=[{key:"Ctrl-Space",run:y3},{key:"Escape",run:w3},{key:"ArrowDown",run:El(!0)},{key:"ArrowUp",run:El(!1)},{key:"PageDown",run:El(!0,"page")},{key:"PageUp",run:El(!1,"page")},{key:"Enter",run:k3}],T3=Jr.highest(Ou.computeN([As],i=>i.facet(As).defaultKeymap?[K1]:[])),P3=i=>{let e=Hu(i.state);return e.line?M3(i):e.block?x1(i):!1};function Y1(i,e){return({state:t,dispatch:n})=>{let s=i(e,t.selection.ranges,t);return s?(n(t.update(s)),!0):!1}}const M3=Y1(L3,0),x1=Y1(N3,0),I3=[{key:"Mod-/",run:P3},{key:"Alt-A",run:x1}];function Hu(i,e=i.selection.main.head){let t=i.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const pr=50;function R3(i,{open:e,close:t},n,s){let l=i.sliceDoc(n-pr,n),r=i.sliceDoc(s,s+pr),o=/\s*$/.exec(l)[0].length,a=/^\s*/.exec(r)[0].length,f=l.length-o;if(l.slice(f-e.length,f)==e&&r.slice(a,a+t.length)==t)return{open:{pos:n-o,margin:o&&1},close:{pos:s+a,margin:a&&1}};let u,c;s-n<=2*pr?u=c=i.sliceDoc(n,s):(u=i.sliceDoc(n,n+pr),c=i.sliceDoc(s-pr,s));let h=/^\s*/.exec(u)[0].length,d=/\s*$/.exec(c)[0].length,m=c.length-d-t.length;return u.slice(h,h+e.length)==e&&c.slice(m,m+t.length)==t?{open:{pos:n+h+e.length,margin:/\s/.test(u.charAt(h+e.length))?1:0},close:{pos:s-d-t.length,margin:/\s/.test(c.charAt(m-1))?1:0}}:null}function N3(i,e,t){let n=e.map(l=>Hu(t,l.from).block);if(!n.every(l=>l))return null;let s=e.map((l,r)=>R3(t,n[r],l.from,l.to));if(i!=2&&!s.every(l=>l)){let l=0;return t.changeByRange(r=>{let{open:o,close:a}=n[l++];if(s[l])return{range:r};let f=o.length+1;return{changes:[{from:r.from,insert:o+" "},{from:r.to,insert:" "+a}],range:J.range(r.anchor+f,r.head+f)}})}else if(i!=1&&s.some(l=>l)){let l=[];for(let r=0,o;r<s.length;r++)if(o=s[r]){let a=n[r],{open:f,close:u}=o;l.push({from:f.pos-a.open.length,to:f.pos+f.margin},{from:u.pos-u.margin,to:u.pos+a.close.length})}return{changes:l}}return null}function L3(i,e,t){let n=[],s=-1;for(let{from:l,to:r}of e){let o=n.length,a=1e9;for(let f=l;f<=r;){let u=t.doc.lineAt(f);if(u.from>s&&(l==r||r>u.from)){s=u.from;let c=Hu(t,f).line;if(!c)continue;let h=/^\s*/.exec(u.text)[0].length,d=h==u.length,m=u.text.slice(h,h+c.length)==c?h:-1;h<u.text.length&&h<a&&(a=h),n.push({line:u,comment:m,token:c,indent:h,empty:d,single:!1})}f=u.to+1}if(a<1e9)for(let f=o;f<n.length;f++)n[f].indent<n[f].line.text.length&&(n[f].indent=a);n.length==o+1&&(n[o].single=!0)}if(i!=2&&n.some(l=>l.comment<0&&(!l.empty||l.single))){let l=[];for(let{line:o,token:a,indent:f,empty:u,single:c}of n)(c||!u)&&l.push({from:o.from+f,insert:a+" "});let r=t.changes(l);return{changes:r,selection:t.selection.map(r,1)}}else if(i!=1&&n.some(l=>l.comment>=0)){let l=[];for(let{line:r,comment:o,token:a}of n)if(o>=0){let f=r.from+o,u=f+a.length;r.text[u-r.from]==" "&&u++,l.push({from:f,to:u})}return{changes:l}}return null}const jf=2e3;function B3(i,e,t){let n=Math.min(e.line,t.line),s=Math.max(e.line,t.line),l=[];if(e.off>jf||t.off>jf||e.col<0||t.col<0){let r=Math.min(e.off,t.off),o=Math.max(e.off,t.off);for(let a=n;a<=s;a++){let f=i.doc.line(a);f.length<=o&&l.push(J.range(f.from+r,f.to+o))}}else{let r=Math.min(e.col,t.col),o=Math.max(e.col,t.col);for(let a=n;a<=s;a++){let f=i.doc.line(a),u=xa(f.text,r,i.tabSize,!0);if(u>-1){let c=xa(f.text,o,i.tabSize);l.push(J.range(f.from+u,f.from+c))}}}return l}function Q3(i,e){let t=i.coordsAtPos(i.viewport.from);return t?Math.round(Math.abs((t.left-e)/i.defaultCharacterWidth)):-1}function Qd(i,e){let t=i.posAtCoords({x:e.clientX,y:e.clientY},!1),n=i.state.doc.lineAt(t),s=t-n.from,l=s>jf?-1:s==n.length?Q3(i,e.clientX):xr(n.text,i.state.tabSize,t-n.from);return{line:n.number,col:l,off:s}}function z3(i,e){let t=Qd(i,e),n=i.state.selection;return t?{update(s){if(s.docChanged){let l=s.changes.mapPos(s.startState.doc.line(t.line).from),r=s.state.doc.lineAt(l);t={line:r.number,col:t.col,off:Math.min(t.off,r.length)},n=n.map(s.changes)}},get(s,l,r){let o=Qd(i,s);if(!o)return n;let a=B3(i.state,t,o);return a.length?r?J.create(a.concat(n.ranges)):J.create(a):n}}:null}function V3(i){let e=(i==null?void 0:i.eventFilter)||(t=>t.altKey&&t.button==0);return Te.mouseSelectionStyle.of((t,n)=>e(n)?z3(t,n):null)}let F3=0;class qn{constructor(e,t,n){this.set=e,this.base=t,this.modified=n,this.id=F3++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let t=new qn([],null,[]);if(t.set.push(t),e)for(let n of e.set)t.set.push(n);return t}static defineModifier(){let e=new vo;return t=>t.modified.indexOf(e)>-1?t:vo.get(t.base||t,t.modified.concat(e).sort((n,s)=>n.id-s.id))}}let W3=0;class vo{constructor(){this.instances=[],this.id=W3++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find(o=>o.base==e&&j3(t,o.modified));if(n)return n;let s=[],l=new qn(s,e,t);for(let o of t)o.instances.push(l);let r=J1(t);for(let o of e.set)for(let a of r)s.push(vo.get(o,a));return l}}function j3(i,e){return i.length==e.length&&i.every((t,n)=>t==e[n])}function J1(i){let e=[i];for(let t=0;t<i.length;t++)for(let n of J1(i.slice(0,t).concat(i.slice(t+1))))e.push(n);return e}function e0(i){let e=Object.create(null);for(let t in i){let n=i[t];Array.isArray(n)||(n=[n]);for(let s of t.split(" "))if(s){let l=[],r=2,o=s;for(let c=0;;){if(o=="..."&&c>0&&c+3==s.length){r=1;break}let h=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!h)throw new RangeError("Invalid path: "+s);if(l.push(h[0]=="*"?null:h[0][0]=='"'?JSON.parse(h[0]):h[0]),c+=h[0].length,c==s.length)break;let d=s[c++];if(c==s.length&&d=="!"){r=0;break}if(d!="/")throw new RangeError("Invalid path: "+s);o=s.slice(c)}let a=l.length-1,f=l[a];if(!f)throw new RangeError("Invalid path: "+s);let u=new H3(n,r,a>0?l.slice(0,a):null);e[f]=u.sort(e[f])}}return t0.add(e)}const t0=new Fe,Uu=Ae.define({combine(i){return i.length?Ko.combinedMatch(i):null}}),n0=Ae.define({combine(i){return i.length?i[0].match:null}});function Hf(i){return i.facet(Uu)||i.facet(n0)}class H3{constructor(e,t,n,s){this.tags=e,this.mode=t,this.context=n,this.next=s}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}class Ko{constructor(e,t){this.map=Object.create(null);let n;function s(r){let o=Ui.newName();return(n||(n=Object.create(null)))["."+o]=r,o}this.all=typeof t.all=="string"?t.all:t.all?s(t.all):null;for(let r of e){let o=(r.class||s(Object.assign({},r,{tag:null})))+(this.all?" "+this.all:""),a=r.tag;if(!Array.isArray(a))this.map[a.id]=o;else for(let f of a)this.map[f.id]=o}this.module=n?new Ui(n):null,this.scope=t.scope||null,this.match=this.match.bind(this);let l=[q3];this.module&&l.push(Te.styleModule.of(this.module)),this.extension=l.concat(Uu.of(this)),this.fallback=l.concat(n0.of(this))}match(e,t){if(this.scope&&t!=this.scope)return null;for(let n of e.set){let s=this.map[n.id];if(s!==void 0)return n!=e&&(this.map[e.id]=s),s}return this.map[e.id]=this.all}static combinedMatch(e){if(e.length==1)return e[0].match;let t=e.some(n=>n.scope)?void 0:Object.create(null);return(n,s)=>{let l=t&&t[n.id];if(l!==void 0)return l;let r=null;for(let o of e){let a=o.match(n,s);a&&(r=r?r+" "+a:a)}return t&&(t[n.id]=r),r}}static define(e,t){return new Ko(e,t||{})}static get(e,t,n){let s=Hf(e);return s&&s(t,n||On.none)}}class U3{constructor(e){this.markCache=Object.create(null),this.tree=fn(e.state),this.decorations=this.buildDeco(e,Hf(e.state))}update(e){let t=fn(e.state),n=Hf(e.state),s=n!=e.startState.facet(Uu);t.length<e.view.viewport.to&&!s&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||s)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n))}buildDeco(e,t){if(!t||!this.tree.length)return Me.none;let n=new qi;for(let{from:s,to:l}of e.visibleRanges)G3(this.tree,s,l,t,(r,o,a)=>{n.add(r,o,this.markCache[a]||(this.markCache[a]=Me.mark({class:a})))});return n.finish()}}const q3=Jr.extend(Dt.fromClass(U3,{decorations:i=>i.decorations})),zd=[""];class $3{constructor(e,t,n){this.at=e,this.style=t,this.span=n,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,n,s,l,r){let{type:o,from:a,to:f}=e;if(a>=n||f<=t)return;zd[l]=o.name,o.isTop&&(r=o);let u=s,c=o.prop(t0),h=!1;for(;c;){if(!c.context||X3(c.context,zd,l)){for(let m of c.tags){let p=this.style(m,r);p&&(u&&(u+=" "),u+=p,c.mode==1?s+=(s?" ":"")+p:c.mode==0&&(h=!0))}break}c=c.next}if(this.startSpan(e.from,u),h)return;let d=e.tree&&e.tree.prop(Fe.mounted);if(d&&d.overlay){let m=e.node.enter(d.overlay[0].from+a,1),p=e.firstChild();for(let b=0,y=a;;b++){let O=b<d.overlay.length?d.overlay[b]:null,C=O?O.from+a:f,D=Math.max(t,y),A=Math.min(n,C);if(D<A&&p)for(;e.from<A&&(this.highlightRange(e,D,A,s,l+1,r),this.startSpan(Math.min(n,e.to),u),!(e.to>=C||!e.nextSibling())););if(!O||C>n)break;y=O.to+a,y>t&&(this.highlightRange(m.cursor,Math.max(t,O.from+a),Math.min(n,y),s,l,d.tree.type),this.startSpan(y,u))}p&&e.parent()}else if(e.firstChild()){do if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,s,l+1,r),this.startSpan(Math.min(n,e.to),u)}while(e.nextSibling());e.parent()}}}function G3(i,e,t,n,s){let l=new $3(e,n,s);l.highlightRange(i.cursor(),e,t,"",0,i.type),l.flush(t)}function X3(i,e,t){if(i.length>t-1)return!1;for(let n=t-1,s=i.length-1;s>=0;s--,n--){let l=i[s];if(l&&l!=e[n])return!1}return!0}const oe=qn.define,Dl=oe(),Ii=oe(),Vd=oe(Ii),Fd=oe(Ii),Ri=oe(),Tl=oe(Ri),Va=oe(Ri),Hn=oe(),fs=oe(Hn),hi=oe(),jn=oe(),Uf=oe(),gr=oe(Uf),Pl=oe(),le={comment:Dl,lineComment:oe(Dl),blockComment:oe(Dl),docComment:oe(Dl),name:Ii,variableName:oe(Ii),typeName:Vd,tagName:oe(Vd),propertyName:Fd,attributeName:oe(Fd),className:oe(Ii),labelName:oe(Ii),namespace:oe(Ii),macroName:oe(Ii),literal:Ri,string:Tl,docString:oe(Tl),character:oe(Tl),attributeValue:oe(Tl),number:Va,integer:oe(Va),float:oe(Va),bool:oe(Ri),regexp:oe(Ri),escape:oe(Ri),color:oe(Ri),url:oe(Ri),keyword:hi,self:oe(hi),null:oe(hi),atom:oe(hi),unit:oe(hi),modifier:oe(hi),operatorKeyword:oe(hi),controlKeyword:oe(hi),definitionKeyword:oe(hi),operator:jn,derefOperator:oe(jn),arithmeticOperator:oe(jn),logicOperator:oe(jn),bitwiseOperator:oe(jn),compareOperator:oe(jn),updateOperator:oe(jn),definitionOperator:oe(jn),typeOperator:oe(jn),controlOperator:oe(jn),punctuation:Uf,separator:oe(Uf),bracket:gr,angleBracket:oe(gr),squareBracket:oe(gr),paren:oe(gr),brace:oe(gr),content:Hn,heading:fs,heading1:oe(fs),heading2:oe(fs),heading3:oe(fs),heading4:oe(fs),heading5:oe(fs),heading6:oe(fs),contentSeparator:oe(Hn),list:oe(Hn),quote:oe(Hn),emphasis:oe(Hn),strong:oe(Hn),link:oe(Hn),monospace:oe(Hn),strikethrough:oe(Hn),inserted:oe(),deleted:oe(),changed:oe(),invalid:oe(),meta:Pl,documentMeta:oe(Pl),annotation:oe(Pl),processingInstruction:oe(Pl),definition:qn.defineModifier(),constant:qn.defineModifier(),function:qn.defineModifier(),standard:qn.defineModifier(),local:qn.defineModifier(),special:qn.defineModifier()},Z3=Ko.define([{tag:le.link,textDecoration:"underline"},{tag:le.heading,textDecoration:"underline",fontWeight:"bold"},{tag:le.emphasis,fontStyle:"italic"},{tag:le.strong,fontWeight:"bold"},{tag:le.strikethrough,textDecoration:"line-through"},{tag:le.keyword,color:"#708"},{tag:[le.atom,le.bool,le.url,le.contentSeparator,le.labelName],color:"#219"},{tag:[le.literal,le.inserted],color:"#164"},{tag:[le.string,le.deleted],color:"#a11"},{tag:[le.regexp,le.escape,le.special(le.string)],color:"#e40"},{tag:le.definition(le.variableName),color:"#00f"},{tag:le.local(le.variableName),color:"#30a"},{tag:[le.typeName,le.namespace],color:"#085"},{tag:le.className,color:"#167"},{tag:[le.special(le.variableName),le.macroName],color:"#256"},{tag:le.definition(le.propertyName),color:"#00c"},{tag:le.comment,color:"#940"},{tag:le.meta,color:"#7a757a"},{tag:le.invalid,color:"#f00"}]);class K3{constructor(e,t,n){this.from=e,this.to=t,this.diagnostic=n}}class ms{constructor(e,t,n){this.diagnostics=e,this.panel=t,this.selected=n}static init(e,t,n){let s=Me.set(e.map(l=>l.from==l.to||l.from==l.to-1&&n.doc.lineAt(l.from).to==l.from?Me.widget({widget:new sD(l),diagnostic:l}).range(l.from):Me.mark({attributes:{class:"cm-lintRange cm-lintRange-"+l.severity},diagnostic:l}).range(l.from,l.to)),!0);return new ms(s,t,rr(s))}}function rr(i,e=null,t=0){let n=null;return i.between(t,1e9,(s,l,{spec:r})=>{if(!(e&&r.diagnostic!=e))return n=new K3(s,l,r.diagnostic),!1}),n}function i0(i,e){return i.field(ln,!1)?e:e.concat(Qe.appendConfig.of([ln,Te.decorations.compute([ln],t=>{let{selected:n,panel:s}=t.field(ln);return!n||!s||n.from==n.to?Me.none:Me.set([x3.range(n.from,n.to)])}),t3(J3),rD]))}function Y3(i,e){return{effects:i0(i,[qu.of(e)])}}const qu=Qe.define(),$u=Qe.define(),s0=Qe.define(),ln=Nt.define({create(){return new ms(Me.none,null,null)},update(i,e){if(e.docChanged){let t=i.diagnostics.map(e.changes),n=null;if(i.selected){let s=e.changes.mapPos(i.selected.from,1);n=rr(t,i.selected.diagnostic,s)||rr(t,null,s)}i=new ms(t,i.panel,n)}for(let t of e.effects)t.is(qu)?i=ms.init(t.value,i.panel,e.state):t.is($u)?i=new ms(i.diagnostics,t.value?Yo.open:null,i.selected):t.is(s0)&&(i=new ms(i.diagnostics,i.panel,t.value));return i},provide:i=>[Ur.from(i,e=>e.panel),Te.decorations.from(i,e=>e.diagnostics)]}),x3=Me.mark({class:"cm-lintRange cm-lintRange-active"});function J3(i,e,t){let{diagnostics:n}=i.state.field(ln),s=[],l=2e8,r=0;return n.between(e-(t<0?1:0),e+(t>0?1:0),(o,a,{spec:f})=>{e>=o&&e<=a&&(o==a||(e>o||t>0)&&(e<a||t<0))&&(s.push(f.diagnostic),l=Math.min(o,l),r=Math.max(a,r))}),s.length?{pos:l,end:r,above:i.state.doc.lineAt(l).to<r,create(){return{dom:r0(i,s)}}}:null}function r0(i,e){return at("ul",{class:"cm-tooltip-lint"},e.map(t=>a0(i,t,!1)))}const l0=i=>{let e=i.state.field(ln,!1);(!e||!e.panel)&&i.dispatch({effects:i0(i.state,[$u.of(!0)])});let t=Hr(i,Yo.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},qf=i=>{let e=i.state.field(ln,!1);return!e||!e.panel?!1:(i.dispatch({effects:$u.of(!1)}),!0)},eD=i=>{let e=i.state.field(ln,!1);if(!e)return!1;let t=i.state.selection.main,n=e.diagnostics.iter(t.to+1);return!n.value&&(n=e.diagnostics.iter(0),!n.value||n.from==t.from&&n.to==t.to)?!1:(i.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0}),!0)},tD=[{key:"Mod-Shift-m",run:l0},{key:"F8",run:eD}],nD=Dt.fromClass(class{constructor(i){this.view=i,this.timeout=-1,this.set=!0;let{delay:e}=i.state.facet(Or);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){let i=Date.now();if(i<this.lintTime-10)setTimeout(this.run,this.lintTime-i);else{this.set=!1;let{state:e}=this.view,{sources:t}=e.facet(Or);Promise.all(t.map(n=>Promise.resolve(n(this.view)))).then(n=>{var s,l;let r=n.reduce((o,a)=>o.concat(a));this.view.state.doc==e.doc&&(r.length||((l=(s=this.view.state.field(ln,!1))===null||s===void 0?void 0:s.diagnostics)===null||l===void 0?void 0:l.size))&&this.view.dispatch(Y3(this.view.state,r))},n=>{wn(this.view.state,n)})}}update(i){let e=i.state.facet(Or);(i.docChanged||e!=i.startState.facet(Or))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),Or=Ae.define({combine(i){return{sources:i.map(e=>e.source),delay:i.length?Math.max(...i.map(e=>e.delay)):750}},enables:nD});function iD(i,e={}){var t;return Or.of({source:i,delay:(t=e.delay)!==null&&t!==void 0?t:750})}function o0(i){let e=[];if(i)e:for(let{name:t}of i){for(let n=0;n<t.length;n++){let s=t[n];if(/[a-zA-Z]/.test(s)&&!e.some(l=>l.toLowerCase()==s.toLowerCase())){e.push(s);continue e}}e.push("")}return e}function a0(i,e,t){var n;let s=t?o0(e.actions):[];return at("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},at("span",{class:"cm-diagnosticText"},e.message),(n=e.actions)===null||n===void 0?void 0:n.map((l,r)=>{let o=c=>{c.preventDefault();let h=rr(i.state.field(ln).diagnostics,e);h&&l.apply(i,h.from,h.to)},{name:a}=l,f=s[r]?a.indexOf(s[r]):-1,u=f<0?a:[a.slice(0,f),at("u",a.slice(f,f+1)),a.slice(f+1)];return at("button",{type:"button",class:"cm-diagnosticAction",onclick:o,onmousedown:o,"aria-label":` Action: ${a}${f<0?"":` (access key "${s[r]})"`}.`},u)}),e.source&&at("div",{class:"cm-diagnosticSource"},e.source))}class sD extends ns{constructor(e){super();this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return at("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class Wd{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=a0(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Yo{constructor(e){this.view=e,this.items=[];let t=s=>{if(s.keyCode==27)qf(this.view),this.view.focus();else if(s.keyCode==38||s.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(s.keyCode==40||s.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(s.keyCode==36)this.moveSelection(0);else if(s.keyCode==35)this.moveSelection(this.items.length-1);else if(s.keyCode==13)this.view.focus();else if(s.keyCode>=65&&s.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:l}=this.items[this.selectedIndex],r=o0(l.actions);for(let o=0;o<r.length;o++)if(r[o].toUpperCase().charCodeAt(0)==s.keyCode){let a=rr(this.view.state.field(ln).diagnostics,l);a&&l.actions[o].apply(e,a.from,a.to)}}else return;s.preventDefault()},n=s=>{for(let l=0;l<this.items.length;l++)this.items[l].dom.contains(s.target)&&this.moveSelection(l)};this.list=at("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:n}),this.dom=at("div",{class:"cm-panel-lint"},this.list,at("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>qf(this.view)},"\xD7")),this.update()}get selectedIndex(){let e=this.view.state.field(ln).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(ln),n=0,s=!1,l=null;for(e.between(0,this.view.state.doc.length,(r,o,{spec:a})=>{let f=-1,u;for(let c=n;c<this.items.length;c++)if(this.items[c].diagnostic==a.diagnostic){f=c;break}f<0?(u=new Wd(this.view,a.diagnostic),this.items.splice(n,0,u),s=!0):(u=this.items[f],f>n&&(this.items.splice(n,f-n),s=!0)),t&&u.diagnostic==t.diagnostic?u.dom.hasAttribute("aria-selected")||(u.dom.setAttribute("aria-selected","true"),l=u):u.dom.hasAttribute("aria-selected")&&u.dom.removeAttribute("aria-selected"),n++});n<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)s=!0,this.items.pop();this.items.length==0&&(this.items.push(new Wd(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),s=!0),l?(this.list.setAttribute("aria-activedescendant",l.id),this.view.requestMeasure({key:this,read:()=>({sel:l.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:r,panel:o})=>{r.top<o.top?this.list.scrollTop-=o.top-r.top:r.bottom>o.bottom&&(this.list.scrollTop+=r.bottom-o.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),s&&this.sync()}sync(){let e=this.list.firstChild;function t(){let n=e;e=n.nextSibling,n.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;e!=n.dom;)t();e=n.dom.nextSibling}else this.list.insertBefore(n.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(ln),n=rr(t.diagnostics,this.items[e].diagnostic);!n||this.view.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:s0.of(n)})}static open(e){return new Yo(e)}}function Wl(i,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(i)}</svg>')`}function Fa(i){return Wl(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${i}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const rD=Te.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Fa("#d11")},".cm-lintRange-warning":{backgroundImage:Fa("orange")},".cm-lintRange-info":{backgroundImage:Fa("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});class lD extends ei{constructor(e){super();this.diagnostics=e,this.severity=e.reduce((t,n)=>{let s=n.severity;return s=="error"||s=="warning"&&t=="info"?s:t},"info")}toDOM(e){let t=document.createElement("div");return t.className="cm-lint-marker cm-lint-marker-"+this.severity,t.onmouseover=()=>aD(e,t,this.diagnostics),t}}function oD(i,e){let t=n=>{let s=e.getBoundingClientRect();if(!(n.clientX>s.left-10&&n.clientX<s.right+10&&n.clientY>s.top-10&&n.clientY<s.bottom+10)){for(let l=n.target;l;l=l.parentNode)if(l.nodeType==1&&l.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",t),i.state.field(u0)&&i.dispatch({effects:Gu.of(null)})}};window.addEventListener("mousemove",t)}function aD(i,e,t){function n(){let l=i.visualLineAtHeight(e.getBoundingClientRect().top+5);const r=i.coordsAtPos(l.from),o=e.getBoundingClientRect();r&&i.dispatch({effects:Gu.of({pos:l.from,above:!1,create(){return{dom:r0(i,t),offset:{x:o.left-r.left,y:0}}}})}),e.onmouseout=e.onmousemove=null,oD(i,e)}let s=setTimeout(n,600);e.onmouseout=()=>{clearTimeout(s),e.onmouseout=e.onmousemove=null},e.onmousemove=()=>{clearTimeout(s),s=setTimeout(n,600)}}function fD(i,e){let t=Object.create(null);for(let s of e){let l=i.lineAt(s.from);(t[l.from]||(t[l.from]=[])).push(s)}let n=[];for(let s in t)n.push(new lD(t[s]).range(+s));return xe.of(n,!0)}const uD=Gg({class:"cm-gutter-lint",markers:i=>i.state.field(f0)}),f0=Nt.define({create(){return xe.empty},update(i,e){i=i.map(e.changes);for(let t of e.effects)t.is(qu)&&(i=fD(e.state.doc,t.value));return i}}),Gu=Qe.define(),u0=Nt.define({create(){return null},update(i,e){return i&&e.docChanged&&(i=Object.assign(Object.assign({},i),{pos:e.changes.mapPos(i.pos)})),e.effects.reduce((t,n)=>n.is(Gu)?n.value:t,i)},provide:i=>Zo.from(i)}),cD=Te.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:"0 .2em",display:"flex",flexDirection:"column",justifyContent:"center"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:Wl('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:Wl('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error:before":{content:Wl('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}});function c0(){return[f0,uD,cD,u0]}const h0=[lA(),fA(),hC(),OC(),vA(),eC(),lC(),Xe.allowMultipleSelections.of(!0),KC(),Z3.fallback,AA(),hE(),D3(),V3(),_C(),AE(),Ou.of([...pE,...cE,...jE,...MC,...pA,...I3,...K1,...tD])];class ko{constructor(e,t,n,s,l,r,o,a,f,u=0,c){this.p=e,this.stack=t,this.state=n,this.reducePos=s,this.pos=l,this.score=r,this.buffer=o,this.bufferBase=a,this.curContext=f,this.lookAhead=u,this.parent=c}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,n=0){let s=e.parser.context;return new ko(e,[],t,n,n,0,[],0,s?new jd(s,s.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){let t=e>>19,n=e&65535,{parser:s}=this.p,l=s.dynamicPrecedence(n);if(l&&(this.score+=l),t==0){n<s.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,4,!0),this.pushState(s.getGoto(this.state,n,!0),this.reducePos),this.reduceContext(n,this.reducePos);return}let r=this.stack.length-(t-1)*3-(e&262144?6:0),o=this.stack[r-2],a=this.stack[r-1],f=this.bufferBase+this.buffer.length-a;if(n<s.minRepeatTerm||e&131072){let u=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,o,u,f+4,!0)}if(e&262144)this.state=this.stack[r];else{let u=this.stack[r-3];this.state=s.getGoto(u,n,!0)}for(;this.stack.length>r;)this.stack.pop();this.reduceContext(n,o)}storeNode(e,t,n,s=4,l=!1){if(e==0){let r=this,o=this.buffer.length;if(o==0&&r.parent&&(o=r.bufferBase-r.parent.bufferBase,r=r.parent),o>0&&r.buffer[o-4]==0&&r.buffer[o-1]>-1){if(t==n)return;if(r.buffer[o-2]>=t){r.buffer[o-2]=n;return}}}if(!l||this.pos==n)this.buffer.push(e,t,n,s);else{let r=this.buffer.length;if(r>0&&this.buffer[r-4]!=0)for(;r>0&&this.buffer[r-2]>n;)this.buffer[r]=this.buffer[r-4],this.buffer[r+1]=this.buffer[r-3],this.buffer[r+2]=this.buffer[r-2],this.buffer[r+3]=this.buffer[r-1],r-=4,s>4&&(s-=4);this.buffer[r]=e,this.buffer[r+1]=t,this.buffer[r+2]=n,this.buffer[r+3]=s}}shift(e,t,n){let s=this.pos;if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let l=e,{parser:r}=this.p;(n>this.pos||t<=r.maxNode)&&(this.pos=n,r.stateFlag(l,1)||(this.reducePos=n)),this.pushState(l,s),this.shiftContext(t,s),t<=r.maxNode&&this.buffer.push(t,s,n,4)}else this.pos=n,this.shiftContext(t,s),t<=this.p.parser.maxNode&&this.buffer.push(t,s,n,4)}apply(e,t,n){e&65536?this.reduce(e):this.shift(e,t,n)}useNode(e,t){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let s=this.pos;this.reducePos=this.pos=s+e.length,this.pushState(t,s),this.buffer.push(n,s,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let n=e.buffer.slice(t),s=e.bufferBase+t;for(;e&&s==e.bufferBase;)e=e.parent;return new ko(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,s,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,n?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new hD(this);;){let n=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if((n&65536)==0)return!0;if(n==0)return!1;t.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>4<<1||this.stack.length>=120){let s=[];for(let l=0,r;l<t.length;l+=2)(r=t[l+1])!=this.state&&this.p.parser.hasAction(r,e)&&s.push(t[l],r);if(this.stack.length<120)for(let l=0;s.length<4<<1&&l<t.length;l+=2){let r=t[l+1];s.some((o,a)=>a&1&&o==r)||s.push(t[l],r)}t=s}let n=[];for(let s=0;s<t.length&&n.length<4;s+=2){let l=t[s+1];if(l==this.state)continue;let r=this.split();r.storeNode(0,r.pos,r.pos,4,!0),r.pushState(l,this.pos),r.shiftContext(t[s],this.pos),r.score-=200,n.push(r)}return n}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);if((e&65536)==0)return!1;let{parser:t}=this.p;if(!t.validAction(this.state,e)){let n=e>>19,s=e&65535,l=this.stack.length-n*3;if(l<0||t.getGoto(this.stack[l],s,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reduce(e),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new jd(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class jd{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}var Hd;(function(i){i[i.Insert=200]="Insert",i[i.Delete=190]="Delete",i[i.Reduce=100]="Reduce",i[i.MaxNext=4]="MaxNext",i[i.MaxInsertStackDepth=300]="MaxInsertStackDepth",i[i.DampenInsertStackDepth=120]="DampenInsertStackDepth"})(Hd||(Hd={}));class hD{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,n=e>>19;n==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(n-1)*3;let s=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=s}}class yo{constructor(e,t,n){this.stack=e,this.pos=t,this.index=n,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new yo(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new yo(this.stack,this.pos,this.index)}}class jl{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Ud=new jl;class dD{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Ud,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let n=this.range,s=this.rangeIndex,l=this.pos+e;for(;l<n.from;){if(!s)return null;let r=this.ranges[--s];l-=n.from-r.to,n=r}for(;t<0?l>n.to:l>=n.to;){if(s==this.ranges.length-1)return null;let r=this.ranges[++s];l+=r.from-n.to,n=r}return l}peek(e){let t=this.chunkOff+e,n,s;if(t>=0&&t<this.chunk.length)n=this.pos+e,s=this.chunk.charCodeAt(t);else{let l=this.resolveOffset(e,1);if(l==null)return-1;if(n=l,n>=this.chunk2Pos&&n<this.chunk2Pos+this.chunk2.length)s=this.chunk2.charCodeAt(n-this.chunk2Pos);else{let r=this.rangeIndex,o=this.range;for(;o.to<=n;)o=this.ranges[++r];this.chunk2=this.input.chunk(this.chunk2Pos=n),n+this.chunk2.length>o.to&&(this.chunk2=this.chunk2.slice(0,o.to-n)),s=this.chunk2.charCodeAt(0)}}return n>=this.token.lookAhead&&(this.token.lookAhead=n+1),s}acceptToken(e,t=0){let n=t?this.resolveOffset(t,-1):this.pos;if(n==null||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=Ud,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let n="";for(let s of this.ranges){if(s.from>=t)break;s.to>e&&(n+=this.input.read(Math.max(s.from,e),Math.min(s.to,t)))}return n}}class Hl{constructor(e,t){this.data=e,this.id=t}token(e,t){mD(this.data,e,t,this.id)}}Hl.prototype.contextual=Hl.prototype.fallback=Hl.prototype.extend=!1;class Xu{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function mD(i,e,t,n){let s=0,l=1<<n,{parser:r}=t.p,{dialect:o}=r;e:for(;(l&i[s])!=0;){let a=i[s+1];for(let f=s+3;f<a;f+=2)if((i[f+1]&l)>0){let u=i[f];if(o.allows(u)&&(e.token.value==-1||e.token.value==u||r.overrides(u,e.token.value))){e.acceptToken(u);break}}for(let f=e.next,u=0,c=i[s+2];u<c;){let h=u+c>>1,d=a+h+(h<<1),m=i[d],p=i[d+1];if(f<m)c=h;else if(f>=p)u=h+1;else{s=i[d+2],e.advance();continue e}}break}}function Ml(i,e=Uint16Array){if(typeof i!="string")return i;let t=null;for(let n=0,s=0;n<i.length;){let l=0;for(;;){let r=i.charCodeAt(n++),o=!1;if(r==126){l=65535;break}r>=92&&r--,r>=34&&r--;let a=r-32;if(a>=46&&(a-=46,o=!0),l+=a,o)break;l*=46}t?t[s++]=l:t=new e(l)}return t}const Ln=typeof process!="undefined"&&/\bparse\b/.test({}.LOG);let Wa=null;var qd;(function(i){i[i.Margin=25]="Margin"})(qd||(qd={}));function $d(i,e,t){let n=i.fullCursor();for(n.moveTo(e);;)if(!(t<0?n.childBefore(e):n.childAfter(e)))for(;;){if((t<0?n.to<e:n.from>e)&&!n.type.isError)return t<0?Math.max(0,Math.min(n.to-1,e-25)):Math.min(i.length,Math.max(n.from+1,e+25));if(t<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return t<0?0:i.length}}class pD{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?$d(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?$d(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let n=this.trees[t],s=this.index[t];if(s==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let l=n.children[s],r=this.start[t]+n.positions[s];if(r>e)return this.nextStart=r,null;if(l instanceof wt){if(r==e){if(r<this.safeFrom)return null;let o=r+l.length;if(o<=this.safeTo){let a=l.prop(Fe.lookAhead);if(!a||o+a<this.fragment.to)return l}}this.index[t]++,r+l.length>=Math.max(this.safeFrom,e)&&(this.trees.push(l),this.start.push(r),this.index.push(0))}else this.index[t]++,this.nextStart=r+l.length}}}class gD{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(n=>new jl)}getActions(e){let t=0,n=null,{parser:s}=e.p,{tokenizers:l}=s,r=s.stateSlot(e.state,3),o=e.curContext?e.curContext.hash:0,a=0;for(let f=0;f<l.length;f++){if((1<<f&r)==0)continue;let u=l[f],c=this.tokens[f];if(!(n&&!u.fallback)&&((u.contextual||c.start!=e.pos||c.mask!=r||c.context!=o)&&(this.updateCachedToken(c,u,e),c.mask=r,c.context=o),c.lookAhead>c.end+25&&(a=Math.max(c.lookAhead,a)),c.value!=0)){let h=t;if(c.extended>-1&&(t=this.addActions(e,c.extended,c.end,t)),t=this.addActions(e,c.value,c.end,t),!u.extend&&(n=c,t>h))break}}for(;this.actions.length>t;)this.actions.pop();return a&&e.setLookAhead(a),!n&&e.pos==this.stream.end&&(n=new jl,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,t=this.addActions(e,n.value,n.end,t)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new jl,{pos:n,p:s}=e;return t.start=n,t.end=Math.min(n+1,s.stream.end),t.value=n==s.stream.end?s.parser.eofTerm:0,t}updateCachedToken(e,t,n){if(t.token(this.stream.reset(n.pos,e),n),e.value>-1){let{parser:s}=n.p;for(let l=0;l<s.specialized.length;l++)if(s.specialized[l]==e.value){let r=s.specializers[l](this.stream.read(e.start,e.end),n);if(r>=0&&n.p.parser.dialect.allows(r>>1)){(r&1)==0?e.value=r>>1:e.extended=r>>1;break}}}else e.value=0,e.end=Math.min(n.p.stream.end,n.pos+1)}putAction(e,t,n,s){for(let l=0;l<s;l+=3)if(this.actions[l]==e)return s;return this.actions[s++]=e,this.actions[s++]=t,this.actions[s++]=n,s}addActions(e,t,n,s){let{state:l}=e,{parser:r}=e.p,{data:o}=r;for(let a=0;a<2;a++)for(let f=r.stateSlot(l,a?2:1);;f+=3){if(o[f]==65535)if(o[f+1]==1)f=pi(o,f+2);else{s==0&&o[f+1]==2&&(s=this.putAction(pi(o,f+1),t,n,s));break}o[f]==t&&(s=this.putAction(pi(o,f+1),t,n,s))}return s}}var Gd;(function(i){i[i.Distance=5]="Distance",i[i.MaxRemainingPerStep=3]="MaxRemainingPerStep",i[i.MinBufferLengthPrune=200]="MinBufferLengthPrune",i[i.ForceReduceLimit=10]="ForceReduceLimit"})(Gd||(Gd={}));class bD{constructor(e,t,n,s){this.parser=e,this.input=t,this.ranges=s,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.stream=new dD(t,s),this.tokens=new gD(e,this.stream),this.topTerm=e.top[1];let{from:l}=s[0];this.stacks=[ko.start(this,e.top[0],l)],this.fragments=n.length&&this.stream.end-l>e.bufferLength*4?new pD(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,n=this.stacks=[],s,l;for(let r=0;r<e.length;r++){let o=e[r];for(;;){if(this.tokens.mainToken=null,o.pos>t)n.push(o);else{if(this.advanceStack(o,n,e))continue;{s||(s=[],l=[]),s.push(o);let a=this.tokens.getMainToken(o);l.push(a.value,a.end)}}break}}if(!n.length){let r=s&&vD(s);if(r)return this.stackToTree(r);if(this.parser.strict)throw Ln&&s&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&s){let r=this.stoppedAt!=null&&s[0].pos>this.stoppedAt?s[0]:this.runRecovery(s,l,n);if(r)return this.stackToTree(r.forceAll())}if(this.recovering){let r=this.recovering==1?1:this.recovering*3;if(n.length>r)for(n.sort((o,a)=>a.score-o.score);n.length>r;)n.pop();n.some(o=>o.reducePos>t)&&this.recovering--}else if(n.length>1){e:for(let r=0;r<n.length-1;r++){let o=n[r];for(let a=r+1;a<n.length;a++){let f=n[a];if(o.sameState(f)||o.buffer.length>200&&f.buffer.length>200)if((o.score-f.score||o.buffer.length-f.buffer.length)>0)n.splice(a--,1);else{n.splice(r--,1);continue e}}}}this.minStackPos=n[0].pos;for(let r=1;r<n.length;r++)n[r].pos<this.minStackPos&&(this.minStackPos=n[r].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,n){let s=e.pos,{parser:l}=this,r=Ln?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&s>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let f=e.curContext&&e.curContext.tracker.strict,u=f?e.curContext.hash:0;for(let c=this.fragments.nodeAt(s);c;){let h=this.parser.nodeSet.types[c.type.id]==c.type?l.getGoto(e.state,c.type.id):-1;if(h>-1&&c.length&&(!f||(c.prop(Fe.contextHash)||0)==u))return e.useNode(c,h),Ln&&console.log(r+this.stackID(e)+` (via reuse of ${l.getName(c.type.id)})`),!0;if(!(c instanceof wt)||c.children.length==0||c.positions[0]>0)break;let d=c.children[0];if(d instanceof wt&&c.positions[0]==0)c=d;else break}}let o=l.stateSlot(e.state,4);if(o>0)return e.reduce(o),Ln&&console.log(r+this.stackID(e)+` (via always-reduce ${l.getName(o&65535)})`),!0;let a=this.tokens.getActions(e);for(let f=0;f<a.length;){let u=a[f++],c=a[f++],h=a[f++],d=f==a.length||!n,m=d?e:e.split();if(m.apply(u,c,h),Ln&&console.log(r+this.stackID(m)+` (via ${(u&65536)==0?"shift":`reduce of ${l.getName(u&65535)}`} for ${l.getName(c)} @ ${s}${m==e?"":", split"})`),d)return!0;m.pos>s?t.push(m):n.push(m)}return!1}advanceFully(e,t){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return Xd(e,t),!0}}runRecovery(e,t,n){let s=null,l=!1;for(let r=0;r<e.length;r++){let o=e[r],a=t[r<<1],f=t[(r<<1)+1],u=Ln?this.stackID(o)+" -> ":"";if(o.deadEnd&&(l||(l=!0,o.restart(),Ln&&console.log(u+this.stackID(o)+" (restarted)"),this.advanceFully(o,n))))continue;let c=o.split(),h=u;for(let d=0;c.forceReduce()&&d<10&&(Ln&&console.log(h+this.stackID(c)+" (via force-reduce)"),!this.advanceFully(c,n));d++)Ln&&(h=this.stackID(c)+" -> ");for(let d of o.recoverByInsert(a))Ln&&console.log(u+this.stackID(d)+" (via recover-insert)"),this.advanceFully(d,n);this.stream.end>o.pos?(f==o.pos&&(f++,a=0),o.recoverByDelete(a,f),Ln&&console.log(u+this.stackID(o)+` (via recover-delete ${this.parser.getName(a)})`),Xd(o,n)):(!s||s.score<o.score)&&(s=o)}return s}stackToTree(e){return e.close(),wt.build({buffer:yo.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(Wa||(Wa=new WeakMap)).get(e);return t||Wa.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function Xd(i,e){for(let t=0;t<e.length;t++){let n=e[t];if(n.pos==i.pos&&n.sameState(i)){e[t].score<i.score&&(e[t]=i);return}}e.push(i)}class _D{constructor(e,t,n){this.source=e,this.flags=t,this.disabled=n}allows(e){return!this.disabled||this.disabled[e]==0}}class $r extends jg{constructor(e){super();if(this.wrappers=[],e.version!=13)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (${13})`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let o=0;o<e.repeatNodeCount;o++)t.push("");let n=Object.keys(e.topRules).map(o=>e.topRules[o][1]),s=[];for(let o=0;o<t.length;o++)s.push([]);function l(o,a,f){s[o].push([a,a.deserialize(String(f))])}if(e.nodeProps)for(let o of e.nodeProps){let a=o[0];for(let f=1;f<o.length;){let u=o[f++];if(u>=0)l(u,a,o[f++]);else{let c=o[f+-u];for(let h=-u;h>0;h--)l(o[f++],a,c);f++}}}this.nodeSet=new Su(t.map((o,a)=>On.define({name:a>=this.minRepeatTerm?void 0:o,id:a,props:s[a],top:n.indexOf(a)>-1,error:a==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(a)>-1}))),this.strict=!1,this.bufferLength=Vg;let r=Ml(e.tokenData);if(this.context=e.context,this.specialized=new Uint16Array(e.specialized?e.specialized.length:0),this.specializers=[],e.specialized)for(let o=0;o<e.specialized.length;o++)this.specialized[o]=e.specialized[o].term,this.specializers[o]=e.specialized[o].get;this.states=Ml(e.states,Uint32Array),this.data=Ml(e.stateData),this.goto=Ml(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(o=>typeof o=="number"?new Hl(r,o):o),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,n){let s=new bD(this,e,t,n);for(let l of this.wrappers)s=l(s,e,t,n);return s}getGoto(e,t,n=!1){let s=this.goto;if(t>=s[0])return-1;for(let l=s[t+1];;){let r=s[l++],o=r&1,a=s[l++];if(o&&n)return a;for(let f=l+(r>>1);l<f;l++)if(s[l]==e)return a;if(o)return-1}}hasAction(e,t){let n=this.data;for(let s=0;s<2;s++)for(let l=this.stateSlot(e,s?2:1),r;;l+=3){if((r=n[l])==65535)if(n[l+1]==1)r=n[l=pi(n,l+2)];else{if(n[l+1]==2)return pi(n,l+2);break}if(r==t||r==0)return pi(n,l+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){if(t==this.stateSlot(e,4))return!0;for(let n=this.stateSlot(e,1);;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=pi(this.data,n+2);else return!1;if(t==pi(this.data,n+1))return!0}}nextStates(e){let t=[];for(let n=this.stateSlot(e,1);;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=pi(this.data,n+2);else break;if((this.data[n+2]&1)==0){let s=this.data[n+1];t.some((l,r)=>r&1&&l==s)||t.push(this.data[n],s)}}return t}overrides(e,t){let n=Zd(this.data,this.tokenPrecTable,t);return n<0||Zd(this.data,this.tokenPrecTable,e)<n}configure(e){let t=Object.assign(Object.create($r.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=n}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(n=>{let s=e.tokenizers.find(l=>l.from==n);return s?s.to:n})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),n=t.map(()=>!1);if(e)for(let l of e.split(" ")){let r=t.indexOf(l);r>=0&&(n[r]=!0)}let s=null;for(let l=0;l<t.length;l++)if(!n[l])for(let r=this.dialects[t[l]],o;(o=this.data[r++])!=65535;)(s||(s=new Uint8Array(this.maxTerm+1)))[o]=1;return new _D(e,n,s)}static deserialize(e){return new $r(e)}}function pi(i,e){return i[e]|i[e+1]<<16}function Zd(i,e,t){for(let n=e,s;(s=i[n])!=65535;n++)if(s==t)return n-e;return-1}function vD(i){let e=null;for(let t of i){let n=t.p.stoppedAt;(t.pos==t.p.stream.end||n!=null&&t.pos>n)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}const kD=$r.deserialize({version:13,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"\u26A0 JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[[Fe.openedBy,7,"{",12,"["],[Fe.closedBy,8,"}",13,"]"]],skippedNodes:[0],repeatNodeCount:2,tokenData:"(p~RaXY!WYZ!W]^!Wpq!Wrs!]|}$i}!O$n!Q!R$w!R![&V![!]&h!}#O&m#P#Q&r#Y#Z&w#b#c'f#h#i'}#o#p(f#q#r(k~!]Oc~~!`Upq!]qr!]rs!rs#O!]#O#P!w#P~!]~!wOe~~!zXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#g~#jR!Q![#s!c!i#s#T#Z#s~#vR!Q![$P!c!i$P#T#Z$P~$SR!Q![$]!c!i$]#T#Z$]~$`R!Q![!]!c!i!]#T#Z!]~$nOh~~$qQ!Q!R$w!R![&V~$|RT~!O!P%V!g!h%k#X#Y%k~%YP!Q![%]~%bRT~!Q![%]!g!h%k#X#Y%k~%nR{|%w}!O%w!Q![%}~%zP!Q![%}~&SPT~!Q![%}~&[ST~!O!P%V!Q![&V!g!h%k#X#Y%k~&mOg~~&rO]~~&wO[~~&zP#T#U&}~'QP#`#a'T~'WP#g#h'Z~'^P#X#Y'a~'fOR~~'iP#i#j'l~'oP#`#a'r~'uP#`#a'x~'}OS~~(QP#f#g(T~(WP#i#j(Z~(^P#X#Y(a~(fOQ~~(kOW~~(pOV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),yD=()=>i=>{try{JSON.parse(i.state.doc.toString())}catch(e){if(!(e instanceof SyntaxError))throw e;const t=wD(e,i.state.doc);return[{from:t,message:e.message,severity:"error",to:t}]}return[]};function wD(i,e){let t;return(t=i.message.match(/at position (\d+)/))?Math.min(+t[1],e.length):(t=i.message.match(/at line (\d+) column (\d+)/))?Math.min(e.line(+t[1]).from+ +t[2]-1,e.length):0}const OD=Wr.define({parser:kD.configure({props:[Mu.add({Object:Mf({except:/^\s*\}/}),Array:Mf({except:/^\s*\]/})}),Iu.add({"Object Array":$g}),e0({String:le.string,Number:le.number,"True False":le.bool,PropertyName:le.propertyName,Null:le.null,",":le.separator,"[ ]":le.squareBracket,"{ }":le.brace})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function SD(){return new Ug(OD)}var CD=AD;function AD(i,e,t){var n=null,s=null,l=function(){n&&(clearTimeout(n),s=null,n=null)},r=function(){var a=s;l(),a&&a()},o=function(){if(!e)return i.apply(this,arguments);var a=this,f=arguments,u=t&&!n;if(l(),s=function(){i.apply(a,f)},n=setTimeout(function(){if(n=null,!u){var c=s;return s=null,c()}},e),u)return s()};return o.cancel=l,o.flush=r,o}function ED(i){let e;return{c(){e=Z("Saved!")},l(t){e=K(t,"Saved!")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function DD(i){let e,t;return e=new Rt({props:{slot:"icon",name:"check-circle-fill",class:"me-2"}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p:ie,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function TD(i){let e,t;return e=new gp({props:{$$slots:{icon:[DD],default:[ED]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s&4096&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function PD(i){let e,t,n,s,l,r,o,a,f;return n=new Ow({props:{isOpen:i[1],$$slots:{default:[TD]},$$scope:{ctx:i}}}),{c(){e=M("div"),t=M("div"),N(n.$$.fragment),s=U(),l=M("div"),r=M("div"),this.h()},l(u){e=I(u,"DIV",{});var c=V(e);t=I(c,"DIV",{class:!0});var h=V(t);Q(n.$$.fragment,h),h.forEach(g),s=q(c),l=I(c,"DIV",{class:!0});var d=V(l);r=I(d,"DIV",{}),V(r).forEach(g),d.forEach(g),c.forEach(g),this.h()},h(){z(t,"class","toast-wrapper svelte-1pm4aff"),z(l,"class","wrapper svelte-1pm4aff")},m(u,c){w(u,e,c),F(e,t),L(n,t,null),F(e,s),F(e,l),F(l,r),i[6](r),o=!0,a||(f=nu(vp.call(null,r,{control:!0,code:"KeyS",callback:i[7]})),a=!0)},p(u,[c]){const h={};c&2&&(h.isOpen=u[1]),c&4096&&(h.$$scope={dirty:c,ctx:u}),n.$set(h)},i(u){o||(_(n.$$.fragment,u),o=!0)},o(u){k(n.$$.fragment,u),o=!1},d(u){u&&g(e),B(n),i[6](null),a=!1,f()}}}function MD(i,e,t){let{object:n}=e,s=JSON.stringify(n,void 0,2),{error:l=void 0}=e,{changed:r=!1}=e,o=!1;const a=CD(()=>{t(1,o=!1)},1e3),f=p=>{qf(h),t(4,l=void 0);try{const b=h.state.doc.toJSON().join(`
`);t(3,n=JSON.parse(b)),s=b,t(1,o=!0),a(),p&&p()}catch(b){b instanceof Error&&(t(4,l=b.message),l0(h))}},u=p=>{p.docChanged&&(s!==p.state.doc.toJSON().join(`
`)?t(5,r=!0):t(5,r=!1))};let c,h;ti(()=>{h=new Te({state:Xe.create({extensions:[h0,SD(),Te.lineWrapping,Te.updateListener.of(u),iD(yD()),c0()],doc:s}),parent:c})});function d(p){ue[p?"unshift":"push"](()=>{c=p,t(2,c)})}const m=()=>{f()};return i.$$set=p=>{"object"in p&&t(3,n=p.object),"error"in p&&t(4,l=p.error),"changed"in p&&t(5,r=p.changed)},i.$$.update=()=>{i.$$.dirty&8&&n&&t(5,r=!1)},[f,o,c,n,l,r,d,m]}class ID extends ke{constructor(e){super();ye(this,e,MD,PD,we,{object:3,error:4,changed:5,save:0})}get save(){return this.$$.ctx[0]}}function Kd(i){let e,t;return{c(){e=M("i"),t=Z("(unsaved changes)")},l(n){e=I(n,"I",{});var s=V(e);t=K(s,"(unsaved changes)"),s.forEach(g)},m(n,s){w(n,e,s),F(e,t)},d(n){n&&g(e)}}}function RD(i){let e,t,n=i[2]&&Kd();return{c(){e=Z(`Edit JSON
    `),n&&n.c(),t=re()},l(s){e=K(s,`Edit JSON
    `),n&&n.l(s),t=re()},m(s,l){w(s,e,l),n&&n.m(s,l),w(s,t,l)},p(s,l){s[2]?n||(n=Kd(),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(s){s&&g(e),n&&n.d(s),s&&g(t)}}}function ND(i){let e,t,n;return e=new Rt({props:{name:"exclamation-triangle-fill"}}),{c(){N(e.$$.fragment),t=Z(`
      \xA0 Be careful, if you don't know what you are doing, you can break the deck`)},l(s){Q(e.$$.fragment,s),t=K(s,`
      \xA0 Be careful, if you don't know what you are doing, you can break the deck`)},m(s,l){L(e,s,l),w(s,t,l),n=!0},p:ie,i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){k(e.$$.fragment,s),n=!1},d(s){B(e,s),s&&g(t)}}}function LD(i){let e,t,n,s,l,r,o;e=new tp({props:{color:"warning",$$slots:{default:[ND]},$$scope:{ctx:i}}});function a(h){i[5](h)}function f(h){i[6](h)}function u(h){i[7](h)}let c={};return i[4]!==void 0&&(c.object=i[4]),i[2]!==void 0&&(c.changed=i[2]),i[3]!==void 0&&(c.save=i[3]),n=new ID({props:c}),ue.push(()=>He(n,"object",a)),ue.push(()=>He(n,"changed",f)),ue.push(()=>He(n,"save",u)),{c(){N(e.$$.fragment),t=U(),N(n.$$.fragment)},l(h){Q(e.$$.fragment,h),t=q(h),Q(n.$$.fragment,h)},m(h,d){L(e,h,d),w(h,t,d),L(n,h,d),o=!0},p(h,d){const m={};d&512&&(m.$$scope={dirty:d,ctx:h}),e.$set(m);const p={};!s&&d&16&&(s=!0,p.object=h[4],Ue(()=>s=!1)),!l&&d&4&&(l=!0,p.changed=h[2],Ue(()=>l=!1)),!r&&d&8&&(r=!0,p.save=h[3],Ue(()=>r=!1)),n.$set(p)},i(h){o||(_(e.$$.fragment,h),_(n.$$.fragment,h),o=!0)},o(h){k(e.$$.fragment,h),k(n.$$.fragment,h),o=!1},d(h){B(e,h),h&&g(t),B(n,h)}}}function BD(i){let e;return{c(){e=Z("Save changes")},l(t){e=K(t,"Save changes")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function QD(i){let e;return{c(){e=Z("Cancel")},l(t){e=K(t,"Cancel")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function zD(i){let e,t,n,s;return e=new ct({props:{color:"primary",$$slots:{default:[BD]},$$scope:{ctx:i}}}),e.$on("click",i[8]),n=new ct({props:{color:"secondary",$$slots:{default:[QD]},$$scope:{ctx:i}}}),n.$on("click",i[0]),{c(){N(e.$$.fragment),t=U(),N(n.$$.fragment)},l(l){Q(e.$$.fragment,l),t=q(l),Q(n.$$.fragment,l)},m(l,r){L(e,l,r),w(l,t,r),L(n,l,r),s=!0},p(l,r){const o={};r&512&&(o.$$scope={dirty:r,ctx:l}),e.$set(o);const a={};r&512&&(a.$$scope={dirty:r,ctx:l}),n.$set(a)},i(l){s||(_(e.$$.fragment,l),_(n.$$.fragment,l),s=!0)},o(l){k(e.$$.fragment,l),k(n.$$.fragment,l),s=!1},d(l){B(e,l),l&&g(t),B(n,l)}}}function VD(i){let e,t,n,s,l,r;return e=new Ro({props:{toggle:i[0],$$slots:{default:[RD]},$$scope:{ctx:i}}}),n=new Yr({props:{$$slots:{default:[LD]},$$scope:{ctx:i}}}),l=new du({props:{$$slots:{default:[zD]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment),t=U(),N(n.$$.fragment),s=U(),N(l.$$.fragment)},l(o){Q(e.$$.fragment,o),t=q(o),Q(n.$$.fragment,o),s=q(o),Q(l.$$.fragment,o)},m(o,a){L(e,o,a),w(o,t,a),L(n,o,a),w(o,s,a),L(l,o,a),r=!0},p(o,a){const f={};a&516&&(f.$$scope={dirty:a,ctx:o}),e.$set(f);const u={};a&540&&(u.$$scope={dirty:a,ctx:o}),n.$set(u);const c={};a&520&&(c.$$scope={dirty:a,ctx:o}),l.$set(c)},i(o){r||(_(e.$$.fragment,o),_(n.$$.fragment,o),_(l.$$.fragment,o),r=!0)},o(o){k(e.$$.fragment,o),k(n.$$.fragment,o),k(l.$$.fragment,o),r=!1},d(o){B(e,o),o&&g(t),B(n,o),o&&g(s),B(l,o)}}}function FD(i){let e,t;return e=new No({props:{isOpen:i[1],toggle:i[0],size:"xl",backdrop:"static",$$slots:{default:[VD]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,[s]){const l={};s&2&&(l.isOpen=n[1]),s&540&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function WD(i,e,t){let n;Et(i,nn,h=>t(4,n=h));let s=!1,l,r;const o=()=>{t(1,s=!s)};function a(h){n=h,nn.set(n)}function f(h){l=h,t(2,l)}function u(h){r=h,t(3,r)}return[o,s,l,r,n,a,f,u,()=>r(o)]}class jD extends ke{constructor(e){super();ye(this,e,WD,FD,we,{toggle:0})}get toggle(){return this.$$.ctx[0]}}function HD(i){let e;return{c(){e=Z("Import JSON")},l(t){e=K(t,"Import JSON")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function Yd(i){let e,t;return e=new tp({props:{color:"danger",$$slots:{default:[UD]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s&264&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function UD(i){let e,t,n,s;return e=new Rt({props:{name:"exclamation-triangle-fill"}}),{c(){N(e.$$.fragment),t=Z(`
        \xA0 `),n=Z(i[3])},l(l){Q(e.$$.fragment,l),t=K(l,`
        \xA0 `),n=K(l,i[3])},m(l,r){L(e,l,r),w(l,t,r),w(l,n,r),s=!0},p(l,r){(!s||r&8)&&$e(n,l[3])},i(l){s||(_(e.$$.fragment,l),s=!0)},o(l){k(e.$$.fragment,l),s=!1},d(l){B(e,l),l&&g(t),l&&g(n)}}}function qD(i){let e,t,n,s,l,r,o,a,f,u=i[3]&&Yd(i);function c(d){i[5](d)}let h={type:"textarea"};return i[2]!==void 0&&(h.value=i[2]),l=new Ot({props:h}),ue.push(()=>He(l,"value",c)),{c(){e=M("div"),t=U(),u&&u.c(),n=U(),s=M("div"),N(l.$$.fragment),this.h()},l(d){e=I(d,"DIV",{}),V(e).forEach(g),t=q(d),u&&u.l(d),n=q(d),s=I(d,"DIV",{class:!0});var m=V(s);Q(l.$$.fragment,m),m.forEach(g),this.h()},h(){z(s,"class","input-wrapper svelte-ea16md")},m(d,m){w(d,e,m),w(d,t,m),u&&u.m(d,m),w(d,n,m),w(d,s,m),L(l,s,null),o=!0,a||(f=nu(vp.call(null,e,{code:"Escape",callback:i[0]})),a=!0)},p(d,m){d[3]?u?(u.p(d,m),m&8&&_(u,1)):(u=Yd(d),u.c(),_(u,1),u.m(n.parentNode,n)):u&&(ge(),k(u,1,1,()=>{u=null}),be());const p={};!r&&m&4&&(r=!0,p.value=d[2],Ue(()=>r=!1)),l.$set(p)},i(d){o||(_(u),_(l.$$.fragment,d),o=!0)},o(d){k(u),k(l.$$.fragment,d),o=!1},d(d){d&&g(e),d&&g(t),u&&u.d(d),d&&g(n),d&&g(s),B(l),a=!1,f()}}}function $D(i){let e;return{c(){e=Z("Import")},l(t){e=K(t,"Import")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function GD(i){let e;return{c(){e=Z("Cancel")},l(t){e=K(t,"Cancel")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function XD(i){let e,t,n,s;return e=new ct({props:{color:"primary",$$slots:{default:[$D]},$$scope:{ctx:i}}}),e.$on("click",i[4]),n=new ct({props:{color:"secondary",$$slots:{default:[GD]},$$scope:{ctx:i}}}),n.$on("click",i[0]),{c(){N(e.$$.fragment),t=U(),N(n.$$.fragment)},l(l){Q(e.$$.fragment,l),t=q(l),Q(n.$$.fragment,l)},m(l,r){L(e,l,r),w(l,t,r),L(n,l,r),s=!0},p(l,r){const o={};r&256&&(o.$$scope={dirty:r,ctx:l}),e.$set(o);const a={};r&256&&(a.$$scope={dirty:r,ctx:l}),n.$set(a)},i(l){s||(_(e.$$.fragment,l),_(n.$$.fragment,l),s=!0)},o(l){k(e.$$.fragment,l),k(n.$$.fragment,l),s=!1},d(l){B(e,l),l&&g(t),B(n,l)}}}function ZD(i){let e,t,n,s,l,r;return e=new Ro({props:{toggle:i[0],$$slots:{default:[HD]},$$scope:{ctx:i}}}),n=new Yr({props:{$$slots:{default:[qD]},$$scope:{ctx:i}}}),l=new du({props:{$$slots:{default:[XD]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment),t=U(),N(n.$$.fragment),s=U(),N(l.$$.fragment)},l(o){Q(e.$$.fragment,o),t=q(o),Q(n.$$.fragment,o),s=q(o),Q(l.$$.fragment,o)},m(o,a){L(e,o,a),w(o,t,a),L(n,o,a),w(o,s,a),L(l,o,a),r=!0},p(o,a){const f={};a&256&&(f.$$scope={dirty:a,ctx:o}),e.$set(f);const u={};a&268&&(u.$$scope={dirty:a,ctx:o}),n.$set(u);const c={};a&256&&(c.$$scope={dirty:a,ctx:o}),l.$set(c)},i(o){r||(_(e.$$.fragment,o),_(n.$$.fragment,o),_(l.$$.fragment,o),r=!0)},o(o){k(e.$$.fragment,o),k(n.$$.fragment,o),k(l.$$.fragment,o),r=!1},d(o){B(e,o),o&&g(t),B(n,o),o&&g(s),B(l,o)}}}function KD(i){let e,t;return e=new No({props:{isOpen:i[1],toggle:i[0],size:"xl",backdrop:"static",$$slots:{default:[ZD]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,[s]){const l={};s&2&&(l.isOpen=n[1]),s&268&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function YD(i,e,t){let n;Et(i,Qi,c=>t(6,n=c));const s=Ki();let l=!1,r="",o;const a=()=>{try{const c=Ya(r,n.convertFirstSubtitle,n.convertDndSpellblock);if(t(3,o=void 0),c.length===0){t(3,o="Uknown import format!");return}s("import",{cards:c}),f()}catch(c){console.warn(c),t(3,o=c.message)}},f=()=>{t(1,l=!l)};function u(c){r=c,t(2,r),t(1,l)}return i.$$.update=()=>{i.$$.dirty&2&&l&&t(2,r="")},[f,l,r,o,a,u]}class xD extends ke{constructor(e){super();ye(this,e,YD,KD,we,{toggle:0})}get toggle(){return this.$$.ctx[0]}}function JD(i){let e;return{c(){e=Z("Import from file")},l(t){e=K(t,"Import from file")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function e4(i){let e;return{c(){e=Z("Import sample deck")},l(t){e=K(t,"Import sample deck")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function t4(i){let e;return{c(){e=Z("Import JSON")},l(t){e=K(t,"Import JSON")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function n4(i){let e;return{c(){e=Z("Export to file")},l(t){e=K(t,"Export to file")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function i4(i){let e;return{c(){e=Z("Print")},l(t){e=K(t,"Print")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function s4(i){let e;return{c(){e=Z("Edit JSON")},l(t){e=K(t,"Edit JSON")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function r4(i){let e;return{c(){e=Z("This will convert subtitles followed by a rule into sections.")},l(t){e=K(t,"This will convert subtitles followed by a rule into sections.")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function l4(i){let e;return{c(){e=Z(`This will convert properties containing Casting Time, Range, Components, and Duration
            (in that order) into a block.`)},l(t){e=K(t,`This will convert properties containing Casting Time, Range, Components, and Duration
            (in that order) into a block.`)},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function o4(i){let e,t,n,s,l,r,o,a,f,u,c,h,d,m,p,b,y,O,C,D,A,P,S,H,X,$,ne,j,R,te,Se,Ce,ee,Ie,Ne,De,Je,We,Ze,Ye,et,st;f=new ct({props:{block:!0,color:"primary",$$slots:{default:[JD]},$$scope:{ctx:i}}}),f.$on("click",i[16]),h=new ct({props:{block:!0,color:"primary",$$slots:{default:[e4]},$$scope:{ctx:i}}}),h.$on("click",i[8]),p=new ct({props:{block:!0,color:"primary",$$slots:{default:[t4]},$$scope:{ctx:i}}}),p.$on("click",i[17]),O=new ct({props:{block:!0,color:"primary",$$slots:{default:[n4]},$$scope:{ctx:i}}}),O.$on("click",i[9]),A=new ct({props:{block:!0,color:"primary",href:"/output",$$slots:{default:[i4]},$$scope:{ctx:i}}}),H=new ct({props:{block:!0,color:"primary",$$slots:{default:[s4]},$$scope:{ctx:i}}}),H.$on("click",i[12]);function se(ve){i[18](ve)}let rt={type:"checkbox",label:"Convert subtitle + rule to sections?",id:"convert-first-subtitle"};i[6].convertFirstSubtitle!==void 0&&(rt.checked=i[6].convertFirstSubtitle),te=new Ot({props:rt}),ue.push(()=>He(te,"checked",se)),ee=new Lr({props:{id:"convert-first-subtitle-help",$$slots:{default:[r4]},$$scope:{ctx:i}}});function ht(ve){i[19](ve)}let Wt={type:"checkbox",label:"Convert D&D spell blocks?",id:"convert-dnd-spell-block"};return i[6].convertDndSpellblock!==void 0&&(Wt.checked=i[6].convertDndSpellblock),De=new Ot({props:Wt}),ue.push(()=>He(De,"checked",ht)),Ze=new Lr({props:{id:"convert-dnd-spell-block-help",$$slots:{default:[l4]},$$scope:{ctx:i}}}),{c(){e=M("div"),t=M("div"),n=M("input"),s=U(),l=M("a"),r=Z("Hidden download link"),o=U(),a=M("div"),N(f.$$.fragment),u=U(),c=M("div"),N(h.$$.fragment),d=U(),m=M("div"),N(p.$$.fragment),b=U(),y=M("div"),N(O.$$.fragment),C=U(),D=M("div"),N(A.$$.fragment),P=U(),S=M("div"),N(H.$$.fragment),X=U(),$=M("h2"),ne=Z("Options"),j=U(),R=M("div"),N(te.$$.fragment),Ce=U(),N(ee.$$.fragment),Ie=U(),Ne=M("div"),N(De.$$.fragment),We=U(),N(Ze.$$.fragment),this.h()},l(ve){e=I(ve,"DIV",{class:!0});var Oe=V(e);t=I(Oe,"DIV",{class:!0});var pt=V(t);n=I(pt,"INPUT",{type:!0,accept:!0}),s=q(pt),l=I(pt,"A",{href:!0,download:!0});var dt=V(l);r=K(dt,"Hidden download link"),dt.forEach(g),pt.forEach(g),o=q(Oe),a=I(Oe,"DIV",{class:!0});var fe=V(a);Q(f.$$.fragment,fe),fe.forEach(g),u=q(Oe),c=I(Oe,"DIV",{class:!0});var ft=V(c);Q(h.$$.fragment,ft),ft.forEach(g),d=q(Oe),m=I(Oe,"DIV",{class:!0});var _e=V(m);Q(p.$$.fragment,_e),_e.forEach(g),b=q(Oe),y=I(Oe,"DIV",{class:!0});var Be=V(y);Q(O.$$.fragment,Be),Be.forEach(g),C=q(Oe),D=I(Oe,"DIV",{class:!0});var St=V(D);Q(A.$$.fragment,St),St.forEach(g),P=q(Oe),S=I(Oe,"DIV",{class:!0});var Ct=V(S);Q(H.$$.fragment,Ct),Ct.forEach(g),X=q(Oe),$=I(Oe,"H2",{class:!0});var Jt=V($);ne=K(Jt,"Options"),Jt.forEach(g),j=q(Oe),R=I(Oe,"DIV",{class:!0});var nt=V(R);Q(te.$$.fragment,nt),Ce=q(nt),Q(ee.$$.fragment,nt),nt.forEach(g),Ie=q(Oe),Ne=I(Oe,"DIV",{class:!0});var Lt=V(Ne);Q(De.$$.fragment,Lt),We=q(Lt),Q(Ze.$$.fragment,Lt),Lt.forEach(g),Oe.forEach(g),this.h()},h(){z(n,"type","file"),z(n,"accept",".json"),z(l,"href",i[3]),z(l,"download",T4),z(t,"class","hidden svelte-b6nokw"),z(a,"class","sidebar-element svelte-b6nokw"),z(c,"class","sidebar-element svelte-b6nokw"),z(m,"class","sidebar-element svelte-b6nokw"),z(y,"class","sidebar-element svelte-b6nokw"),z(D,"class","sidebar-element svelte-b6nokw"),z(S,"class","sidebar-element svelte-b6nokw"),z($,"class","sidebar-header svelte-b6nokw"),z(R,"class","sidebar-element low full svelte-b6nokw"),z(Ne,"class","sidebar-element low full svelte-b6nokw"),z(e,"class","button-grid svelte-b6nokw")},m(ve,Oe){w(ve,e,Oe),F(e,t),F(t,n),i[14](n),F(t,s),F(t,l),F(l,r),i[15](l),F(e,o),F(e,a),L(f,a,null),F(e,u),F(e,c),L(h,c,null),F(e,d),F(e,m),L(p,m,null),F(e,b),F(e,y),L(O,y,null),F(e,C),F(e,D),L(A,D,null),F(e,P),F(e,S),L(H,S,null),F(e,X),F(e,$),F($,ne),F(e,j),F(e,R),L(te,R,null),F(R,Ce),L(ee,R,null),F(e,Ie),F(e,Ne),L(De,Ne,null),F(Ne,We),L(Ze,Ne,null),Ye=!0,et||(st=E(n,"change",i[13]),et=!0)},p(ve,Oe){(!Ye||Oe&8)&&z(l,"href",ve[3]);const pt={};Oe&1073741824&&(pt.$$scope={dirty:Oe,ctx:ve}),f.$set(pt);const dt={};Oe&1073741824&&(dt.$$scope={dirty:Oe,ctx:ve}),h.$set(dt);const fe={};Oe&1073741824&&(fe.$$scope={dirty:Oe,ctx:ve}),p.$set(fe);const ft={};Oe&1073741824&&(ft.$$scope={dirty:Oe,ctx:ve}),O.$set(ft);const _e={};Oe&1073741824&&(_e.$$scope={dirty:Oe,ctx:ve}),A.$set(_e);const Be={};Oe&1073741824&&(Be.$$scope={dirty:Oe,ctx:ve}),H.$set(Be);const St={};!Se&&Oe&64&&(Se=!0,St.checked=ve[6].convertFirstSubtitle,Ue(()=>Se=!1)),te.$set(St);const Ct={};Oe&1073741824&&(Ct.$$scope={dirty:Oe,ctx:ve}),ee.$set(Ct);const Jt={};!Je&&Oe&64&&(Je=!0,Jt.checked=ve[6].convertDndSpellblock,Ue(()=>Je=!1)),De.$set(Jt);const nt={};Oe&1073741824&&(nt.$$scope={dirty:Oe,ctx:ve}),Ze.$set(nt)},i(ve){Ye||(_(f.$$.fragment,ve),_(h.$$.fragment,ve),_(p.$$.fragment,ve),_(O.$$.fragment,ve),_(A.$$.fragment,ve),_(H.$$.fragment,ve),_(te.$$.fragment,ve),_(ee.$$.fragment,ve),_(De.$$.fragment,ve),_(Ze.$$.fragment,ve),Ye=!0)},o(ve){k(f.$$.fragment,ve),k(h.$$.fragment,ve),k(p.$$.fragment,ve),k(O.$$.fragment,ve),k(A.$$.fragment,ve),k(H.$$.fragment,ve),k(te.$$.fragment,ve),k(ee.$$.fragment,ve),k(De.$$.fragment,ve),k(Ze.$$.fragment,ve),Ye=!1},d(ve){ve&&g(e),i[14](null),i[15](null),B(f),B(h),B(p),B(O),B(A),B(H),B(te),B(ee),B(De),B(Ze),et=!1,st()}}}function a4(i){let e;return{c(){e=Z("Paper size")},l(t){e=K(t,"Paper size")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function f4(i){let e;return{c(){e=Z("mm")},l(t){e=K(t,"mm")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function u4(i){let e;return{c(){e=Z("mm")},l(t){e=K(t,"mm")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function c4(i){let e,t,n,s,l,r,o,a,f,u;function c(p){i[20](p)}let h={id:"paper-size-width",placeholder:"Width",type:"number"};i[7].paperSize.width!==void 0&&(h.value=i[7].paperSize.width),e=new Ot({props:h}),ue.push(()=>He(e,"value",c)),s=new yn({props:{$$slots:{default:[f4]},$$scope:{ctx:i}}});function d(p){i[21](p)}let m={id:"paper-size-height",placeholder:"Height",type:"number"};return i[7].paperSize.height!==void 0&&(m.value=i[7].paperSize.height),r=new Ot({props:m}),ue.push(()=>He(r,"value",d)),f=new yn({props:{$$slots:{default:[u4]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment),n=U(),N(s.$$.fragment),l=U(),N(r.$$.fragment),a=U(),N(f.$$.fragment)},l(p){Q(e.$$.fragment,p),n=q(p),Q(s.$$.fragment,p),l=q(p),Q(r.$$.fragment,p),a=q(p),Q(f.$$.fragment,p)},m(p,b){L(e,p,b),w(p,n,b),L(s,p,b),w(p,l,b),L(r,p,b),w(p,a,b),L(f,p,b),u=!0},p(p,b){const y={};!t&&b&128&&(t=!0,y.value=p[7].paperSize.width,Ue(()=>t=!1)),e.$set(y);const O={};b&1073741824&&(O.$$scope={dirty:b,ctx:p}),s.$set(O);const C={};!o&&b&128&&(o=!0,C.value=p[7].paperSize.height,Ue(()=>o=!1)),r.$set(C);const D={};b&1073741824&&(D.$$scope={dirty:b,ctx:p}),f.$set(D)},i(p){u||(_(e.$$.fragment,p),_(s.$$.fragment,p),_(r.$$.fragment,p),_(f.$$.fragment,p),u=!0)},o(p){k(e.$$.fragment,p),k(s.$$.fragment,p),k(r.$$.fragment,p),k(f.$$.fragment,p),u=!1},d(p){B(e,p),p&&g(n),B(s,p),p&&g(l),B(r,p),p&&g(a),B(f,p)}}}function h4(i){let e,t,n,s,l;return t=new Rn({props:{for:"paper-size",$$slots:{default:[a4]},$$scope:{ctx:i}}}),s=new Ji({props:{id:"paper-size",$$slots:{default:[c4]},$$scope:{ctx:i}}}),{c(){e=M("span"),N(t.$$.fragment),n=U(),N(s.$$.fragment)},l(r){e=I(r,"SPAN",{});var o=V(e);Q(t.$$.fragment,o),o.forEach(g),n=q(r),Q(s.$$.fragment,r)},m(r,o){w(r,e,o),L(t,e,null),w(r,n,o),L(s,r,o),l=!0},p(r,o){const a={};o&1073741824&&(a.$$scope={dirty:o,ctx:r}),t.$set(a);const f={};o&1073741952&&(f.$$scope={dirty:o,ctx:r}),s.$set(f)},i(r){l||(_(t.$$.fragment,r),_(s.$$.fragment,r),l=!0)},o(r){k(t.$$.fragment,r),k(s.$$.fragment,r),l=!1},d(r){r&&g(e),B(t),r&&g(n),B(s,r)}}}function d4(i){let e;return{c(){e=Z("Print adjust")},l(t){e=K(t,"Print adjust")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function m4(i){let e;return{c(){e=Z("Use this to adjust the print in order to make up for difference in printers")},l(t){e=K(t,"Use this to adjust the print in order to make up for difference in printers")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function p4(i){let e;return{c(){e=Z("mm")},l(t){e=K(t,"mm")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function g4(i){let e;return{c(){e=Z("mm")},l(t){e=K(t,"mm")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function b4(i){let e,t,n,s,l,r,o,a,f,u;function c(p){i[22](p)}let h={id:"page-adjust-x",placeholder:"X",type:"number"};i[7].adjust.x!==void 0&&(h.value=i[7].adjust.x),e=new Ot({props:h}),ue.push(()=>He(e,"value",c)),s=new yn({props:{$$slots:{default:[p4]},$$scope:{ctx:i}}});function d(p){i[23](p)}let m={id:"page-adjust-y",placeholder:"Y",type:"number"};return i[7].adjust.y!==void 0&&(m.value=i[7].adjust.y),r=new Ot({props:m}),ue.push(()=>He(r,"value",d)),f=new yn({props:{$$slots:{default:[g4]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment),n=U(),N(s.$$.fragment),l=U(),N(r.$$.fragment),a=U(),N(f.$$.fragment)},l(p){Q(e.$$.fragment,p),n=q(p),Q(s.$$.fragment,p),l=q(p),Q(r.$$.fragment,p),a=q(p),Q(f.$$.fragment,p)},m(p,b){L(e,p,b),w(p,n,b),L(s,p,b),w(p,l,b),L(r,p,b),w(p,a,b),L(f,p,b),u=!0},p(p,b){const y={};!t&&b&128&&(t=!0,y.value=p[7].adjust.x,Ue(()=>t=!1)),e.$set(y);const O={};b&1073741824&&(O.$$scope={dirty:b,ctx:p}),s.$set(O);const C={};!o&&b&128&&(o=!0,C.value=p[7].adjust.y,Ue(()=>o=!1)),r.$set(C);const D={};b&1073741824&&(D.$$scope={dirty:b,ctx:p}),f.$set(D)},i(p){u||(_(e.$$.fragment,p),_(s.$$.fragment,p),_(r.$$.fragment,p),_(f.$$.fragment,p),u=!0)},o(p){k(e.$$.fragment,p),k(s.$$.fragment,p),k(r.$$.fragment,p),k(f.$$.fragment,p),u=!1},d(p){B(e,p),p&&g(n),B(s,p),p&&g(l),B(r,p),p&&g(a),B(f,p)}}}function _4(i){let e,t,n,s,l,r,o;return t=new Rn({props:{for:"page-adjust",$$slots:{default:[d4]},$$scope:{ctx:i}}}),s=new Lr({props:{id:"page-adjust-help",$$slots:{default:[m4]},$$scope:{ctx:i}}}),r=new Ji({props:{id:"page-adjust",$$slots:{default:[b4]},$$scope:{ctx:i}}}),{c(){e=M("span"),N(t.$$.fragment),n=U(),N(s.$$.fragment),l=U(),N(r.$$.fragment)},l(a){e=I(a,"SPAN",{});var f=V(e);Q(t.$$.fragment,f),n=q(f),Q(s.$$.fragment,f),f.forEach(g),l=q(a),Q(r.$$.fragment,a)},m(a,f){w(a,e,f),L(t,e,null),F(e,n),L(s,e,null),w(a,l,f),L(r,a,f),o=!0},p(a,f){const u={};f&1073741824&&(u.$$scope={dirty:f,ctx:a}),t.$set(u);const c={};f&1073741824&&(c.$$scope={dirty:f,ctx:a}),s.$set(c);const h={};f&1073741952&&(h.$$scope={dirty:f,ctx:a}),r.$set(h)},i(a){o||(_(t.$$.fragment,a),_(s.$$.fragment,a),_(r.$$.fragment,a),o=!0)},o(a){k(t.$$.fragment,a),k(s.$$.fragment,a),k(r.$$.fragment,a),o=!1},d(a){a&&g(e),B(t),B(s),a&&g(l),B(r,a)}}}function v4(i){let e;return{c(){e=Z("Cardback border")},l(t){e=K(t,"Cardback border")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function k4(i){let e;return{c(){e=Z(`Use this add a colored border around the back of the cards when printing to make up
              for printing variances.`)},l(t){e=K(t,`Use this add a colored border around the back of the cards when printing to make up
              for printing variances.`)},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function y4(i){let e;return{c(){e=Z("mm")},l(t){e=K(t,"mm")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function w4(i){let e,t,n,s,l;function r(a){i[24](a)}let o={id:"card-back-border-input",placeholder:"Cardback border",type:"number"};return i[7].cardBackBorder!==void 0&&(o.value=i[7].cardBackBorder),e=new Ot({props:o}),ue.push(()=>He(e,"value",r)),s=new yn({props:{$$slots:{default:[y4]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment),n=U(),N(s.$$.fragment)},l(a){Q(e.$$.fragment,a),n=q(a),Q(s.$$.fragment,a)},m(a,f){L(e,a,f),w(a,n,f),L(s,a,f),l=!0},p(a,f){const u={};!t&&f&128&&(t=!0,u.value=a[7].cardBackBorder,Ue(()=>t=!1)),e.$set(u);const c={};f&1073741824&&(c.$$scope={dirty:f,ctx:a}),s.$set(c)},i(a){l||(_(e.$$.fragment,a),_(s.$$.fragment,a),l=!0)},o(a){k(e.$$.fragment,a),k(s.$$.fragment,a),l=!1},d(a){B(e,a),a&&g(n),B(s,a)}}}function O4(i){let e,t,n,s,l,r,o;return t=new Rn({props:{for:"card-back-border",$$slots:{default:[v4]},$$scope:{ctx:i}}}),s=new Lr({props:{id:"card-back-border-hint",$$slots:{default:[k4]},$$scope:{ctx:i}}}),r=new Ji({props:{id:"card-back-border",$$slots:{default:[w4]},$$scope:{ctx:i}}}),{c(){e=M("span"),N(t.$$.fragment),n=U(),N(s.$$.fragment),l=U(),N(r.$$.fragment)},l(a){e=I(a,"SPAN",{});var f=V(e);Q(t.$$.fragment,f),n=q(f),Q(s.$$.fragment,f),f.forEach(g),l=q(a),Q(r.$$.fragment,a)},m(a,f){w(a,e,f),L(t,e,null),F(e,n),L(s,e,null),w(a,l,f),L(r,a,f),o=!0},p(a,f){const u={};f&1073741824&&(u.$$scope={dirty:f,ctx:a}),t.$set(u);const c={};f&1073741824&&(c.$$scope={dirty:f,ctx:a}),s.$set(c);const h={};f&1073741952&&(h.$$scope={dirty:f,ctx:a}),r.$set(h)},i(a){o||(_(t.$$.fragment,a),_(s.$$.fragment,a),_(r.$$.fragment,a),o=!0)},o(a){k(t.$$.fragment,a),k(s.$$.fragment,a),k(r.$$.fragment,a),o=!1},d(a){a&&g(e),B(t),B(s),a&&g(l),B(r,a)}}}function S4(i){let e,t,n,s,l,r;return e=new tn({props:{$$slots:{default:[h4]},$$scope:{ctx:i}}}),n=new tn({props:{$$slots:{default:[_4]},$$scope:{ctx:i}}}),l=new tn({props:{$$slots:{default:[O4]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment),t=U(),N(n.$$.fragment),s=U(),N(l.$$.fragment)},l(o){Q(e.$$.fragment,o),t=q(o),Q(n.$$.fragment,o),s=q(o),Q(l.$$.fragment,o)},m(o,a){L(e,o,a),w(o,t,a),L(n,o,a),w(o,s,a),L(l,o,a),r=!0},p(o,a){const f={};a&1073741952&&(f.$$scope={dirty:a,ctx:o}),e.$set(f);const u={};a&1073741952&&(u.$$scope={dirty:a,ctx:o}),n.$set(u);const c={};a&1073741952&&(c.$$scope={dirty:a,ctx:o}),l.$set(c)},i(o){r||(_(e.$$.fragment,o),_(n.$$.fragment,o),_(l.$$.fragment,o),r=!0)},o(o){k(e.$$.fragment,o),k(n.$$.fragment,o),k(l.$$.fragment,o),r=!1},d(o){B(e,o),o&&g(t),B(n,o),o&&g(s),B(l,o)}}}function C4(i){let e,t;return e=new hp({props:{$$slots:{default:[S4]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s&1073741952&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function A4(i){let e,t;return e=new uO({}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function E4(i){let e,t,n,s,l,r;return e=new Sr({props:{active:!0,header:"General",$$slots:{default:[o4]},$$scope:{ctx:i}}}),n=new Sr({props:{active:!0,header:"Page",$$slots:{default:[C4]},$$scope:{ctx:i}}}),l=new Sr({props:{active:!0,header:"Deck",$$slots:{default:[A4]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment),t=U(),N(n.$$.fragment),s=U(),N(l.$$.fragment)},l(o){Q(e.$$.fragment,o),t=q(o),Q(n.$$.fragment,o),s=q(o),Q(l.$$.fragment,o)},m(o,a){L(e,o,a),w(o,t,a),L(n,o,a),w(o,s,a),L(l,o,a),r=!0},p(o,a){const f={};a&1073741903&&(f.$$scope={dirty:a,ctx:o}),e.$set(f);const u={};a&1073741952&&(u.$$scope={dirty:a,ctx:o}),n.$set(u);const c={};a&1073741824&&(c.$$scope={dirty:a,ctx:o}),l.$set(c)},i(o){r||(_(e.$$.fragment,o),_(n.$$.fragment,o),_(l.$$.fragment,o),r=!0)},o(o){k(e.$$.fragment,o),k(n.$$.fragment,o),k(l.$$.fragment,o),r=!1},d(o){B(e,o),o&&g(t),B(n,o),o&&g(s),B(l,o)}}}function D4(i){let e,t,n,s,l,r,o,a,f;t=new su({props:{stayOpen:!0,$$slots:{default:[E4]},$$scope:{ctx:i}}});function u(m){i[25](m)}let c={};i[4]!==void 0&&(c.toggle=i[4]),s=new jD({props:c}),ue.push(()=>He(s,"toggle",u));function h(m){i[26](m)}let d={};return i[5]!==void 0&&(d.toggle=i[5]),o=new xD({props:d}),ue.push(()=>He(o,"toggle",h)),o.$on("import",i[11]),{c(){e=M("div"),N(t.$$.fragment),n=U(),N(s.$$.fragment),r=U(),N(o.$$.fragment)},l(m){e=I(m,"DIV",{});var p=V(e);Q(t.$$.fragment,p),n=q(p),Q(s.$$.fragment,p),r=q(p),Q(o.$$.fragment,p),p.forEach(g)},m(m,p){w(m,e,p),L(t,e,null),F(e,n),L(s,e,null),F(e,r),L(o,e,null),f=!0},p(m,[p]){const b={};p&1073742031&&(b.$$scope={dirty:p,ctx:m}),t.$set(b);const y={};!l&&p&16&&(l=!0,y.toggle=m[4],Ue(()=>l=!1)),s.$set(y);const O={};!a&&p&32&&(a=!0,O.toggle=m[5],Ue(()=>a=!1)),o.$set(O)},i(m){f||(_(t.$$.fragment,m),_(s.$$.fragment,m),_(o.$$.fragment,m),f=!0)},o(m){k(t.$$.fragment,m),k(s.$$.fragment,m),k(o.$$.fragment,m),f=!1},d(m){m&&g(e),B(t),B(s),B(o)}}}let T4="cards.json";function P4(i,e,t){let n,s,l;Et(i,nn,ee=>t(27,n=ee)),Et(i,Qi,ee=>t(6,s=ee)),Et(i,hs,ee=>t(7,l=ee));let r,o,a,f,u,c;const h=ee=>{const Ie=nn.addCards(...ee);Cn.set(Ie)},d=async()=>{if(o.length===0)return;const Ie=await o[0].text(),Ne=Ya(Ie,s.convertFirstSubtitle,s.convertDndSpellblock);h(Ne)},m=async()=>{const ee=await fetch("rpg-cards-sample.json").then(Ne=>Ne.text()),Ie=Ya(ee,s.convertFirstSubtitle,s.convertDndSpellblock);h(Ie)},p=()=>{const ee=JSON.stringify(Rw(n),void 0,2),Ie=new Blob([ee],{type:"application/json"});t(3,f=URL.createObjectURL(Ie)),t(2,a.href=f,a),a.click(),setTimeout(()=>URL.revokeObjectURL(f),500)},b=()=>{c()},y=ee=>{h(ee.detail.cards)},O=()=>{u()};function C(){o=this.files,t(0,o)}function D(ee){ue[ee?"unshift":"push"](()=>{r=ee,t(1,r)})}function A(ee){ue[ee?"unshift":"push"](()=>{a=ee,t(2,a)})}const P=()=>r.click(),S=()=>b();function H(ee){i.$$.not_equal(s.convertFirstSubtitle,ee)&&(s.convertFirstSubtitle=ee,Qi.set(s))}function X(ee){i.$$.not_equal(s.convertDndSpellblock,ee)&&(s.convertDndSpellblock=ee,Qi.set(s))}function $(ee){i.$$.not_equal(l.paperSize.width,ee)&&(l.paperSize.width=ee,hs.set(l))}function ne(ee){i.$$.not_equal(l.paperSize.height,ee)&&(l.paperSize.height=ee,hs.set(l))}function j(ee){i.$$.not_equal(l.adjust.x,ee)&&(l.adjust.x=ee,hs.set(l))}function R(ee){i.$$.not_equal(l.adjust.y,ee)&&(l.adjust.y=ee,hs.set(l))}function te(ee){i.$$.not_equal(l.cardBackBorder,ee)&&(l.cardBackBorder=ee,hs.set(l))}function Se(ee){u=ee,t(4,u)}function Ce(ee){c=ee,t(5,c)}return i.$$.update=()=>{i.$$.dirty&1&&o&&d()},[o,r,a,f,u,c,s,l,m,p,b,y,O,C,D,A,P,S,H,X,$,ne,j,R,te,Se,Ce]}class M4 extends ke{constructor(e){super();ye(this,e,P4,D4,we,{})}}var I4=d0;function d0(){var i=[].slice.call(arguments),e=!1;typeof i[0]=="boolean"&&(e=i.shift());var t=i[0];if(xd(t))throw new Error("extendee must be an object");for(var n=i.slice(1),s=n.length,l=0;l<s;l++){var r=n[l];for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o)){var a=r[o];if(e&&R4(a)){var f=Array.isArray(a)?[]:{};t[o]=d0(!0,Object.prototype.hasOwnProperty.call(t,o)&&!xd(t[o])?t[o]:f,a)}else t[o]=a}}return t}function R4(i){return Array.isArray(i)||{}.toString.call(i)=="[object Object]"}function xd(i){return!i||typeof i!="object"&&typeof i!="function"}function N4(i,{from:e,to:t},n={}){const s=getComputedStyle(i),l=s.transform==="none"?"":s.transform,[r,o]=s.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*r/t.width-(t.left+r),f=e.top+e.height*o/t.height-(t.top+o),{delay:u=0,duration:c=d=>Math.sqrt(d)*120,easing:h=sv}=n;return{delay:u,duration:Xn(c)?c(Math.sqrt(a*a+f*f)):c,easing:h,css:(d,m)=>{const p=m*a,b=m*f,y=d+m*e.width/t.width,O=d+m*e.height/t.height;return`transform: ${l} translate(${p}px, ${b}px) scale(${y}, ${O});`}}}function Jd(i,e,t){const n=i.slice();return n[8]=e[t],n[9]=e,n[10]=t,n}function L4(i){let e,t=i[1].name+"",n;return{c(){e=M("span"),n=Z(t),this.h()},l(s){e=I(s,"SPAN",{class:!0});var l=V(e);n=K(l,t),l.forEach(g),this.h()},h(){z(e,"class","input-group-text-content svelte-hjlz2q")},m(s,l){w(s,e,l),F(e,n)},p(s,l){l&2&&t!==(t=s[1].name+"")&&$e(n,t)},d(s){s&&g(e)}}}function B4(i){let e,t,n=i[1].params,s=[];for(let r=0;r<n.length;r+=1)s[r]=em(Jd(i,n,r));const l=r=>k(s[r],1,1,()=>{s[r]=null});return{c(){for(let r=0;r<s.length;r+=1)s[r].c();e=re()},l(r){for(let o=0;o<s.length;o+=1)s[o].l(r);e=re()},m(r,o){for(let a=0;a<s.length;a+=1)s[a].m(r,o);w(r,e,o),t=!0},p(r,o){if(o&3){n=r[1].params;let a;for(a=0;a<n.length;a+=1){const f=Jd(r,n,a);s[a]?(s[a].p(f,o),_(s[a],1)):(s[a]=em(f),s[a].c(),_(s[a],1),s[a].m(e.parentNode,e))}for(ge(),a=n.length;a<s.length;a+=1)l(a);be()}},i(r){if(!t){for(let o=0;o<n.length;o+=1)_(s[o]);t=!0}},o(r){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)k(s[o]);t=!1},d(r){Yi(s,r),r&&g(e)}}}function Q4(i){let e,t;return e=new Ot({props:{disabled:!0}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p:ie,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function em(i){var r;let e,t,n;function s(o){i[4](o,i[10])}let l={type:(r=i[8].type)!=null?r:"text",placeholder:i[8].name};return i[0][i[10]]!==void 0&&(l.value=i[0][i[10]]),e=new Ot({props:l}),ue.push(()=>He(e,"value",s)),{c(){N(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,a){L(e,o,a),n=!0},p(o,a){var u;i=o;const f={};a&2&&(f.type=(u=i[8].type)!=null?u:"text"),a&2&&(f.placeholder=i[8].name),!t&&a&1&&(t=!0,f.value=i[0][i[10]],Ue(()=>t=!1)),e.$set(f)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){B(e,o)}}}function z4(i){let e,t,n,s,l,r;e=new yn({props:{$$slots:{default:[L4]},$$scope:{ctx:i}}});const o=[Q4,B4],a=[];function f(u,c){return u[1].params.length===0?0:1}return n=f(i),s=a[n]=o[n](i),{c(){N(e.$$.fragment),t=U(),s.c(),l=re()},l(u){Q(e.$$.fragment,u),t=q(u),s.l(u),l=re()},m(u,c){L(e,u,c),w(u,t,c),a[n].m(u,c),w(u,l,c),r=!0},p(u,c){const h={};c&2050&&(h.$$scope={dirty:c,ctx:u}),e.$set(h);let d=n;n=f(u),n===d?a[n].p(u,c):(ge(),k(a[d],1,1,()=>{a[d]=null}),be(),s=a[n],s?s.p(u,c):(s=a[n]=o[n](u),s.c()),_(s,1),s.m(l.parentNode,l))},i(u){r||(_(e.$$.fragment,u),_(s),r=!0)},o(u){k(e.$$.fragment,u),k(s),r=!1},d(u){B(e,u),u&&g(t),a[n].d(u),u&&g(l)}}}function V4(i){let e,t;return e=new Rt({props:{name:"files"}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p:ie,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function F4(i){let e,t;return e=new Rt({props:{name:"trash"}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p:ie,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function W4(i){let e,t,n,s;return e=new ct({props:{color:"link",class:"link-info",$$slots:{default:[V4]},$$scope:{ctx:i}}}),e.$on("click",i[5]),n=new ct({props:{color:"link",class:"link-danger",$$slots:{default:[F4]},$$scope:{ctx:i}}}),n.$on("click",i[6]),{c(){N(e.$$.fragment),t=U(),N(n.$$.fragment)},l(l){Q(e.$$.fragment,l),t=q(l),Q(n.$$.fragment,l)},m(l,r){L(e,l,r),w(l,t,r),L(n,l,r),s=!0},p(l,r){const o={};r&2048&&(o.$$scope={dirty:r,ctx:l}),e.$set(o);const a={};r&2048&&(a.$$scope={dirty:r,ctx:l}),n.$set(a)},i(l){s||(_(e.$$.fragment,l),_(n.$$.fragment,l),s=!0)},o(l){k(e.$$.fragment,l),k(n.$$.fragment,l),s=!1},d(l){B(e,l),l&&g(t),B(n,l)}}}function j4(i){let e,t,n,s;return e=new Ji({props:{$$slots:{default:[z4]},$$scope:{ctx:i}}}),n=new Nk({props:{$$slots:{default:[W4]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment),t=U(),N(n.$$.fragment)},l(l){Q(e.$$.fragment,l),t=q(l),Q(n.$$.fragment,l)},m(l,r){L(e,l,r),w(l,t,r),L(n,l,r),s=!0},p(l,[r]){const o={};r&2051&&(o.$$scope={dirty:r,ctx:l}),e.$set(o);const a={};r&2048&&(a.$$scope={dirty:r,ctx:l}),n.$set(a)},i(l){s||(_(e.$$.fragment,l),_(n.$$.fragment,l),s=!0)},o(l){k(e.$$.fragment,l),k(n.$$.fragment,l),s=!1},d(l){B(e,l),l&&g(t),B(n,l)}}}function H4(i,e,t){var c,h;let n,{content:s}=e,l=(h=(c=s.content)==null?void 0:c.split(Un))!=null?h:n.params.map(()=>"");const r=Ki(),o=()=>{var d;t(3,s.content=(d=l==null?void 0:l.map(m=>(typeof m!="string"&&(m=""+m),m.replace(/[^\\]\|/,"\\|"))).join(" | "))!=null?d:"",s)};function a(d,m){i.$$.not_equal(l[m],d)&&(l[m]=d,t(0,l))}const f=d=>{d.preventDefault(),r("duplicate")},u=d=>{d.preventDefault(),r("delete")};return i.$$set=d=>{"content"in d&&t(3,s=d.content)},i.$$.update=()=>{i.$$.dirty&8&&t(1,n=D_(s.type)),i.$$.dirty&1&&l&&o()},[l,n,r,s,a,f,u]}class U4 extends ke{constructor(e){super();ye(this,e,H4,j4,we,{content:3})}}const q4="finalize",$4="consider";function lr(i,e,t){i.dispatchEvent(new CustomEvent(q4,{detail:{items:e,info:t}}))}function Zi(i,e,t){i.dispatchEvent(new CustomEvent($4,{detail:{items:e,info:t}}))}const xo="draggedEntered",rl="draggedLeft",Jo="draggedOverIndex",Zu="draggedLeftDocument",wo={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function G4(i,e,t){i.dispatchEvent(new CustomEvent(xo,{detail:{indexObj:e,draggedEl:t}}))}function X4(i,e,t){i.dispatchEvent(new CustomEvent(rl,{detail:{draggedEl:e,type:wo.LEFT_FOR_ANOTHER,theOtherDz:t}}))}function Z4(i,e){i.dispatchEvent(new CustomEvent(rl,{detail:{draggedEl:e,type:wo.OUTSIDE_OF_ANY}}))}function K4(i,e,t){i.dispatchEvent(new CustomEvent(Jo,{detail:{indexObj:e,draggedEl:t}}))}function Y4(i){window.dispatchEvent(new CustomEvent(Zu,{detail:{draggedEl:i}}))}const xt={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:xo,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:Jo,DRAGGED_LEFT:rl,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},an={POINTER:"pointer",KEYBOARD:"keyboard"},ea="isDndShadowItem",Ku="data-is-dnd-shadow-item",Yu="id:dnd-shadow-placeholder-0000",x4="dnd-action-dragged-el";let Mt="id",$f=0;function m0(){$f++}function p0(){if($f===0)throw new Error("Bug! trying to decrement when there are no dropzones");$f--}const xu=typeof window=="undefined";function g0(i){let e;const t=i.getBoundingClientRect(),n=getComputedStyle(i),s=n.transform;if(s){let l,r,o,a;if(s.startsWith("matrix3d("))e=s.slice(9,-1).split(/, /),l=+e[0],r=+e[5],o=+e[12],a=+e[13];else if(s.startsWith("matrix("))e=s.slice(7,-1).split(/, /),l=+e[0],r=+e[3],o=+e[4],a=+e[5];else return t;const f=n.transformOrigin,u=t.x-o-(1-l)*parseFloat(f),c=t.y-a-(1-r)*parseFloat(f.slice(f.indexOf(" ")+1)),h=l?t.width/l:i.offsetWidth,d=r?t.height/r:i.offsetHeight;return{x:u,y:c,width:h,height:d,top:c,right:u+h,bottom:c+d,left:u}}else return t}function b0(i){const e=g0(i);return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function Ju(i){const e=i.getBoundingClientRect();return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function _0(i){return{x:(i.left+i.right)/2,y:(i.top+i.bottom)/2}}function J4(i,e){return Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))}function ec(i,e){return i.y<=e.bottom&&i.y>=e.top&&i.x>=e.left&&i.x<=e.right}function Gr(i){return _0(Ju(i))}function tm(i,e){const t=Gr(i),n=b0(e);return ec(t,n)}function eT(i,e){const t=Gr(i),n=Gr(e);return J4(t,n)}function tT(i){const e=Ju(i);return e.right<0||e.left>document.documentElement.scrollWidth||e.bottom<0||e.top>document.documentElement.scrollHeight}function nT(i,e){const t=Ju(e);return ec(i,t)?{top:i.y-t.top,bottom:t.bottom-i.y,left:i.x-t.left,right:Math.min(t.right,document.documentElement.clientWidth)-i.x}:null}let ks;function tc(){ks=new Map}tc();function iT(i){ks.delete(i)}function sT(i){const e=Array.from(i.children).findIndex(t=>t.getAttribute(Ku));if(e>=0)return ks.has(i)||ks.set(i,new Map),ks.get(i).set(e,b0(i.children[e])),e}function rT(i,e){if(!tm(i,e))return null;const t=e.children;if(t.length===0)return{index:0,isProximityBased:!0};const n=sT(e);for(let r=0;r<t.length;r++)if(tm(i,t[r])){const o=ks.has(e)&&ks.get(e).get(r);return o&&!ec(Gr(i),o)?{index:n,isProximityBased:!1}:{index:r,isProximityBased:!1}}let s=Number.MAX_VALUE,l;for(let r=0;r<t.length;r++){const o=eT(i,t[r]);o<s&&(s=o,l=r)}return{index:l,isProximityBased:!0}}const br=25;function v0(){let i;function e(){i={directionObj:void 0,stepPx:0}}e();function t(l){const{directionObj:r,stepPx:o}=i;r&&(l.scrollBy(r.x*o,r.y*o),window.requestAnimationFrame(()=>t(l)))}function n(l){return br-l}function s(l,r){if(!r)return!1;const o=nT(l,r);if(o===null)return e(),!1;const a=!!i.directionObj;let[f,u]=[!1,!1];return r.scrollHeight>r.clientHeight&&(o.bottom<br?(f=!0,i.directionObj={x:0,y:1},i.stepPx=n(o.bottom)):o.top<br&&(f=!0,i.directionObj={x:0,y:-1},i.stepPx=n(o.top)),!a&&f)||r.scrollWidth>r.clientWidth&&(o.right<br?(u=!0,i.directionObj={x:1,y:0},i.stepPx=n(o.right)):o.left<br&&(u=!0,i.directionObj={x:-1,y:0},i.stepPx=n(o.left)),!a&&u)?(t(r),!0):(e(),!1)}return{scrollIfNeeded:s,resetScrolling:e}}function ja(i){return JSON.stringify(i,null,2)}function nm(i){if(!i)throw new Error("cannot get depth of a falsy node");return k0(i,0)}function k0(i,e=0){return i.parentElement?k0(i.parentElement,e+1):e-1}function lT(i,e){if(Object.keys(i).length!==Object.keys(e).length)return!1;for(const t in i)if(!{}.hasOwnProperty.call(e,t)||e[t]!==i[t])return!1;return!0}function oT(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!==e[t])return!1;return!0}const aT=200,im=10,{scrollIfNeeded:fT,resetScrolling:uT}=v0();let Gf;function cT(i,e,t=aT){let n,s,l=!1,r;const o=Array.from(e).sort((f,u)=>nm(u)-nm(f));function a(){const f=Gr(i),u=fT(f,n);if(!u&&r&&Math.abs(r.x-f.x)<im&&Math.abs(r.y-f.y)<im){Gf=window.setTimeout(a,t);return}if(tT(i)){Y4(i);return}r=f;let c=!1;for(const h of o){u&&iT(n);const d=rT(i,h);if(d===null)continue;const{index:m}=d;c=!0,h!==n?(n&&X4(n,i,h),G4(h,d,i),n=h):m!==s&&(K4(h,d,i),s=m);break}!c&&l&&n?(Z4(n,i),n=void 0,s=void 0,l=!1):l=!0,Gf=window.setTimeout(a,t)}a()}function hT(){clearTimeout(Gf),uT(),tc()}const dT=300;let Oo;function So(i){const e=i.touches?i.touches[0]:i;Oo={x:e.clientX,y:e.clientY}}const{scrollIfNeeded:mT,resetScrolling:pT}=v0();let y0;function w0(){Oo&&mT(Oo,document.documentElement)&&tc(),y0=window.setTimeout(w0,dT)}function gT(){window.addEventListener("mousemove",So),window.addEventListener("touchmove",So),w0()}function bT(){window.removeEventListener("mousemove",So),window.removeEventListener("touchmove",So),Oo=void 0,window.clearTimeout(y0),pT()}const _T=.2;function us(i){return`${i} ${_T}s ease`}function vT(i,e){const t=i.getBoundingClientRect(),n=i.cloneNode(!0);O0(i,n),n.id=x4,n.style.position="fixed";let s=t.top,l=t.left;if(n.style.top=`${s}px`,n.style.left=`${l}px`,e){const r=_0(t);s-=r.y-e.y,l-=r.x-e.x,window.setTimeout(()=>{n.style.top=`${s}px`,n.style.left=`${l}px`},0)}return n.style.margin="0",n.style.boxSizing="border-box",n.style.height=`${t.height}px`,n.style.width=`${t.width}px`,n.style.transition=`${us("top")}, ${us("left")}, ${us("background-color")}, ${us("opacity")}, ${us("color")} `,window.setTimeout(()=>n.style.transition+=`, ${us("width")}, ${us("height")}`,0),n.style.zIndex="9999",n.style.cursor="grabbing",n}function kT(i){i.style.cursor="grab"}function yT(i,e,t,n,s){const l=e.getBoundingClientRect(),r=i.getBoundingClientRect(),o=l.width-r.width,a=l.height-r.height;if(o||a){const f={left:(t-r.left)/r.width,top:(n-r.top)/r.height};i.style.height=`${l.height}px`,i.style.width=`${l.width}px`,i.style.left=`${parseFloat(i.style.left)-f.left*o}px`,i.style.top=`${parseFloat(i.style.top)-f.top*a}px`}O0(e,i),s()}function O0(i,e){const t=window.getComputedStyle(i);Array.from(t).filter(n=>n.startsWith("background")||n.startsWith("padding")||n.startsWith("font")||n.startsWith("text")||n.startsWith("align")||n.startsWith("justify")||n.startsWith("display")||n.startsWith("flex")||n.startsWith("border")||n==="opacity"||n==="color"||n==="list-style-type").forEach(n=>e.style.setProperty(n,t.getPropertyValue(n),t.getPropertyPriority(n)))}function wT(i,e){i.draggable=!1,i.ondragstart=()=>!1,e?(i.style.userSelect="",i.style.WebkitUserSelect="",i.style.cursor=""):(i.style.userSelect="none",i.style.WebkitUserSelect="none",i.style.cursor="grab")}function OT(i){i.style.display="none",i.style.position="fixed",i.style.zIndex="-5"}function ST(i){i.style.visibility="hidden",i.setAttribute(Ku,"true")}function CT(i){i.style.visibility="",i.removeAttribute(Ku)}function Ul(i,e=()=>{},t=()=>[]){i.forEach(n=>{const s=e(n);Object.keys(s).forEach(l=>{n.style[l]=s[l]}),t(n).forEach(l=>n.classList.add(l))})}function Co(i,e=()=>{},t=()=>[]){i.forEach(n=>{const s=e(n);Object.keys(s).forEach(l=>{n.style[l]=""}),t(n).forEach(l=>n.classList.contains(l)&&n.classList.remove(l))})}function AT(i){const e=i.style.minHeight;i.style.minHeight=window.getComputedStyle(i).getPropertyValue("height");const t=i.style.minWidth;return i.style.minWidth=window.getComputedStyle(i).getPropertyValue("width"),function(){i.style.minHeight=e,i.style.minWidth=t}}const ET="--any--",DT=100,sm=3,rm={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let mi,Vt,_n,ta,yt,na,or,mn,Li,An,Us=!1,nc=!1,ic,ll=!1;const zn=new Map,At=new Map,Ha=new WeakMap;function TT(i,e){zn.has(e)||zn.set(e,new Set),zn.get(e).has(i)||(zn.get(e).add(i),m0())}function lm(i,e){zn.get(e).delete(i),p0(),zn.get(e).size===0&&zn.delete(e)}function PT(){gT();const i=zn.get(ta);for(const t of i)t.addEventListener(xo,S0),t.addEventListener(rl,C0),t.addEventListener(Jo,A0);window.addEventListener(Zu,ar);const e=Math.max(DT,...Array.from(i.keys()).map(t=>At.get(t).dropAnimationDurationMs));cT(Vt,i,e*1.07)}function MT(){bT();const i=zn.get(ta);for(const e of i)e.removeEventListener(xo,S0),e.removeEventListener(rl,C0),e.removeEventListener(Jo,A0);window.removeEventListener(Zu,ar),hT()}function IT(i){return i.findIndex(e=>e[Mt]===Yu)}function ia(i){return i.findIndex(e=>!!e[ea]&&e[Mt]!==Yu)}function S0(i){let{items:e,dropFromOthersDisabled:t}=At.get(i.currentTarget);if(t&&i.currentTarget!==yt)return;if(ll=!1,e=e.filter(r=>r[Mt]!==or[Mt]),yt!==i.currentTarget){const o=At.get(yt).items.filter(a=>!a[ea]);Zi(yt,o,{trigger:xt.DRAGGED_ENTERED_ANOTHER,id:_n[Mt],source:an.POINTER})}else{const r=IT(e);r!==-1&&e.splice(r,1)}const{index:n,isProximityBased:s}=i.detail.indexObj,l=s&&n===i.currentTarget.children.length-1?n+1:n;mn=i.currentTarget,e.splice(l,0,or),Zi(i.currentTarget,e,{trigger:xt.DRAGGED_ENTERED,id:_n[Mt],source:an.POINTER})}function C0(i){if(!Us)return;const{items:e,dropFromOthersDisabled:t}=At.get(i.currentTarget);if(t&&i.currentTarget!==yt&&i.currentTarget!==mn)return;const n=ia(e),s=e.splice(n,1)[0];mn=void 0;const{type:l,theOtherDz:r}=i.detail;if(l===wo.OUTSIDE_OF_ANY||l===wo.LEFT_FOR_ANOTHER&&r!==yt&&At.get(r).dropFromOthersDisabled){ll=!0,mn=yt;const o=At.get(yt).items;o.splice(na,0,s),Zi(yt,o,{trigger:xt.DRAGGED_LEFT_ALL,id:_n[Mt],source:an.POINTER})}Zi(i.currentTarget,e,{trigger:xt.DRAGGED_LEFT,id:_n[Mt],source:an.POINTER})}function A0(i){const{items:e,dropFromOthersDisabled:t}=At.get(i.currentTarget);if(t&&i.currentTarget!==yt)return;ll=!1;const{index:n}=i.detail.indexObj,s=ia(e);e.splice(s,1),e.splice(n,0,or),Zi(i.currentTarget,e,{trigger:xt.DRAGGED_OVER_INDEX,id:_n[Mt],source:an.POINTER})}function Ao(i){i.preventDefault();const e=i.touches?i.touches[0]:i;An={x:e.clientX,y:e.clientY},Vt.style.transform=`translate3d(${An.x-Li.x}px, ${An.y-Li.y}px, 0)`}function ar(){nc=!0,window.removeEventListener("mousemove",Ao),window.removeEventListener("touchmove",Ao),window.removeEventListener("mouseup",ar),window.removeEventListener("touchend",ar),MT(),kT(Vt),mn||(mn=yt);let{items:i,type:e}=At.get(mn);Co(zn.get(e),s=>At.get(s).dropTargetStyle,s=>At.get(s).dropTargetClasses);let t=ia(i);t===-1&&(t=na),i=i.map(s=>s[ea]?_n:s);function n(){ic(),lr(mn,i,{trigger:ll?xt.DROPPED_OUTSIDE_OF_ANY:xt.DROPPED_INTO_ZONE,id:_n[Mt],source:an.POINTER}),mn!==yt&&lr(yt,At.get(yt).items,{trigger:xt.DROPPED_INTO_ANOTHER,id:_n[Mt],source:an.POINTER}),CT(mn.children[t]),NT()}RT(t,n)}function RT(i,e){const t=g0(mn.children[i]),n={x:t.left-parseFloat(Vt.style.left),y:t.top-parseFloat(Vt.style.top)},{dropAnimationDurationMs:s}=At.get(mn),l=`transform ${s}ms ease`;Vt.style.transition=Vt.style.transition?Vt.style.transition+","+l:l,Vt.style.transform=`translate3d(${n.x}px, ${n.y}px, 0)`,window.setTimeout(e,s)}function NT(){Vt.remove(),mi.remove(),Vt=void 0,mi=void 0,_n=void 0,ta=void 0,yt=void 0,na=void 0,or=void 0,mn=void 0,Li=void 0,An=void 0,Us=!1,nc=!1,ic=void 0,ll=!1}function LT(i,e){const t={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:rm,dropTargetClasses:[],transformDraggedElement:()=>{},centreDraggedOnCursor:!1};let n=new Map;function s(){window.addEventListener("mousemove",o,{passive:!1}),window.addEventListener("touchmove",o,{passive:!1,capture:!1}),window.addEventListener("mouseup",r,{passive:!1}),window.addEventListener("touchend",r,{passive:!1})}function l(){window.removeEventListener("mousemove",o),window.removeEventListener("touchmove",o),window.removeEventListener("mouseup",r),window.removeEventListener("touchend",r)}function r(){l(),mi=void 0,Li=void 0,An=void 0}function o(c){c.preventDefault();const h=c.touches?c.touches[0]:c;An={x:h.clientX,y:h.clientY},(Math.abs(An.x-Li.x)>=sm||Math.abs(An.y-Li.y)>=sm)&&(l(),f())}function a(c){if(c.target!==c.currentTarget&&(c.target.value!==void 0||c.target.isContentEditable)||c.button||Us)return;c.stopPropagation();const h=c.touches?c.touches[0]:c;Li={x:h.clientX,y:h.clientY},An=ci({},Li),mi=c.currentTarget,s()}function f(){Us=!0;const c=n.get(mi);na=c,yt=mi.parentElement;const h=yt.getRootNode(),d=h.body||h,{items:m,type:p,centreDraggedOnCursor:b}=t;_n=ci({},m[c]),ta=p,or=Vs(ci({},_n),{[ea]:!0});const y=Vs(ci({},or),{[Mt]:Yu});Vt=vT(mi,b&&An);function O(){Vt.parentElement?window.requestAnimationFrame(O):(d.appendChild(Vt),Vt.focus(),PT(),OT(mi),d.appendChild(mi))}window.requestAnimationFrame(O),Ul(Array.from(zn.get(t.type)).filter(C=>C===yt||!At.get(C).dropFromOthersDisabled),C=>At.get(C).dropTargetStyle,C=>At.get(C).dropTargetClasses),m.splice(c,1,y),ic=AT(yt),Zi(yt,m,{trigger:xt.DRAG_STARTED,id:_n[Mt],source:an.POINTER}),window.addEventListener("mousemove",Ao,{passive:!1}),window.addEventListener("touchmove",Ao,{passive:!1,capture:!1}),window.addEventListener("mouseup",ar,{passive:!1}),window.addEventListener("touchend",ar,{passive:!1})}function u({items:c=void 0,flipDurationMs:h=0,type:d=ET,dragDisabled:m=!1,morphDisabled:p=!1,dropFromOthersDisabled:b=!1,dropTargetStyle:y=rm,dropTargetClasses:O=[],transformDraggedElement:C=()=>{},centreDraggedOnCursor:D=!1}){t.dropAnimationDurationMs=h,t.type&&d!==t.type&&lm(i,t.type),t.type=d,TT(i,d),t.items=[...c],t.dragDisabled=m,t.morphDisabled=p,t.transformDraggedElement=C,t.centreDraggedOnCursor=D,Us&&!nc&&(!lT(y,t.dropTargetStyle)||!oT(O,t.dropTargetClasses))&&(Co([i],()=>t.dropTargetStyle,()=>O),Ul([i],()=>y,()=>O)),t.dropTargetStyle=y,t.dropTargetClasses=[...O];function A(S,H){return At.get(S)?At.get(S)[H]:t[H]}Us&&t.dropFromOthersDisabled!==b&&(b?Co([i],S=>A(S,"dropTargetStyle"),S=>A(S,"dropTargetClasses")):Ul([i],S=>A(S,"dropTargetStyle"),S=>A(S,"dropTargetClasses"))),t.dropFromOthersDisabled=b,At.set(i,t);const P=ia(t.items);for(let S=0;S<i.children.length;S++){const H=i.children[S];if(wT(H,m),S===P){p||yT(Vt,H,An.x,An.y,()=>t.transformDraggedElement(Vt,_n,S)),ST(H);continue}H.removeEventListener("mousedown",Ha.get(H)),H.removeEventListener("touchstart",Ha.get(H)),m||(H.addEventListener("mousedown",a),H.addEventListener("touchstart",a),Ha.set(H,a)),n.set(H,S)}}return u(e),{update:c=>{u(c)},destroy:()=>{lm(i,t.type),At.delete(i)}}}const Xf={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},E0={[Xf.DND_ZONE_ACTIVE]:"Tab to one the items and press space-bar or enter to start dragging it",[Xf.DND_ZONE_DRAG_DISABLED]:"This is a disabled drag and drop list"},BT="dnd-action-aria-alert";let kt;function Zf(){kt||(kt=document.createElement("div"),function(){kt.id=BT,kt.style.position="fixed",kt.style.bottom="0",kt.style.left="0",kt.style.zIndex="-5",kt.style.opacity="0",kt.style.height="0",kt.style.width="0",kt.setAttribute("role","alert")}(),document.body.prepend(kt),Object.entries(E0).forEach(([i,e])=>document.body.prepend(VT(i,e))))}function QT(){return xu?null:(document.readyState==="complete"?Zf():window.addEventListener("DOMContentLoaded",Zf),ci({},Xf))}function zT(){xu||!kt||(Object.keys(E0).forEach(i=>{var e;return(e=document.getElementById(i))==null?void 0:e.remove()}),kt.remove(),kt=void 0)}function VT(i,e){const t=document.createElement("div");return t.id=i,t.innerHTML=`<p>${e}</p>`,t.style.display="none",t.style.position="fixed",t.style.zIndex="-5",t}function Ks(i){if(xu)return;kt||Zf(),kt.innerHTML="";const e=document.createTextNode(i);kt.appendChild(e),kt.style.display="none",kt.style.display="inline"}const FT="--any--",om={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let En=!1,Kf,qt,ys="",ds,Gn,Wi="";const Eo=new WeakSet,am=new WeakMap,fm=new WeakMap,Yf=new Map,Qt=new Map,Qn=new Map;let Do;function WT(i,e){Qn.size===0&&(Do=QT(),window.addEventListener("keydown",D0),window.addEventListener("click",T0)),Qn.has(e)||Qn.set(e,new Set),Qn.get(e).has(i)||(Qn.get(e).add(i),m0())}function um(i,e){qt===i&&Xr(),Qn.get(e).delete(i),p0(),Qn.get(e).size===0&&Qn.delete(e),Qn.size===0&&(window.removeEventListener("keydown",D0),window.removeEventListener("click",T0),Do=void 0,zT())}function D0(i){if(!!En)switch(i.key){case"Escape":{Xr();break}}}function T0(){!En||Eo.has(document.activeElement)||Xr()}function jT(i){if(!En)return;const e=i.currentTarget;if(e===qt)return;ys=e.getAttribute("aria-label")||"";const{items:t}=Qt.get(qt),n=t.find(f=>f[Mt]===Gn),s=t.indexOf(n),l=t.splice(s,1)[0],{items:r,autoAriaDisabled:o}=Qt.get(e);e.getBoundingClientRect().top<qt.getBoundingClientRect().top||e.getBoundingClientRect().left<qt.getBoundingClientRect().left?(r.push(l),o||Ks(`Moved item ${Wi} to the end of the list ${ys}`)):(r.unshift(l),o||Ks(`Moved item ${Wi} to the beginning of the list ${ys}`)),lr(qt,t,{trigger:xt.DROPPED_INTO_ANOTHER,id:Gn,source:an.KEYBOARD}),lr(e,r,{trigger:xt.DROPPED_INTO_ZONE,id:Gn,source:an.KEYBOARD}),qt=e}function P0(){Yf.forEach(({update:i},e)=>i(Qt.get(e)))}function Xr(i=!0){Qt.get(qt).autoAriaDisabled||Ks(`Stopped dragging item ${Wi}`),Eo.has(document.activeElement)&&document.activeElement.blur(),i&&Zi(qt,Qt.get(qt).items,{trigger:xt.DRAG_STOPPED,id:Gn,source:an.KEYBOARD}),Co(Qn.get(Kf),e=>Qt.get(e).dropTargetStyle,e=>Qt.get(e).dropTargetClasses),ds=null,Gn=null,Wi="",Kf=null,qt=null,ys="",En=!1,P0()}function HT(i,e){const t={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:om,dropTargetClasses:[],autoAriaDisabled:!1};function n(u,c,h){u.length<=1||u.splice(h,1,u.splice(c,1,u[h])[0])}function s(u){switch(u.key){case"Enter":case" ":{if((u.target.disabled!==void 0||u.target.href||u.target.isContentEditable)&&!Eo.has(u.target))return;u.preventDefault(),u.stopPropagation(),En?Xr():l(u);break}case"ArrowDown":case"ArrowRight":{if(!En)return;u.preventDefault(),u.stopPropagation();const{items:c}=Qt.get(i),h=Array.from(i.children),d=h.indexOf(u.currentTarget);d<h.length-1&&(t.autoAriaDisabled||Ks(`Moved item ${Wi} to position ${d+2} in the list ${ys}`),n(c,d,d+1),lr(i,c,{trigger:xt.DROPPED_INTO_ZONE,id:Gn,source:an.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!En)return;u.preventDefault(),u.stopPropagation();const{items:c}=Qt.get(i),d=Array.from(i.children).indexOf(u.currentTarget);d>0&&(t.autoAriaDisabled||Ks(`Moved item ${Wi} to position ${d} in the list ${ys}`),n(c,d,d-1),lr(i,c,{trigger:xt.DROPPED_INTO_ZONE,id:Gn,source:an.KEYBOARD}));break}}}function l(u){o(u.currentTarget),qt=i,Kf=t.type,En=!0;const c=Array.from(Qn.get(t.type)).filter(h=>h===qt||!Qt.get(h).dropFromOthersDisabled);if(Ul(c,h=>Qt.get(h).dropTargetStyle,h=>Qt.get(h).dropTargetClasses),!t.autoAriaDisabled){let h=`Started dragging item ${Wi}. Use the arrow keys to move it within its list ${ys}`;c.length>1&&(h+=", or tab to another list in order to move the item into it"),Ks(h)}Zi(i,Qt.get(i).items,{trigger:xt.DRAG_STARTED,id:Gn,source:an.KEYBOARD}),P0()}function r(u){!En||u.currentTarget!==ds&&(u.stopPropagation(),Xr(!1),l(u))}function o(u){const{items:c}=Qt.get(i),h=Array.from(i.children),d=h.indexOf(u);ds=u,ds.tabIndex=0,Gn=c[d][Mt],Wi=h[d].getAttribute("aria-label")||""}function a({items:u=[],type:c=FT,dragDisabled:h=!1,zoneTabIndex:d=0,dropFromOthersDisabled:m=!1,dropTargetStyle:p=om,dropTargetClasses:b=[],autoAriaDisabled:y=!1}){t.items=[...u],t.dragDisabled=h,t.dropFromOthersDisabled=m,t.zoneTabIndex=d,t.dropTargetStyle=p,t.dropTargetClasses=b,t.autoAriaDisabled=y,t.type&&c!==t.type&&um(i,t.type),t.type=c,WT(i,c),y||(i.setAttribute("aria-disabled",h),i.setAttribute("role","list"),i.setAttribute("aria-describedby",h?Do.DND_ZONE_DRAG_DISABLED:Do.DND_ZONE_ACTIVE)),Qt.set(i,t),En?i.tabIndex=i===qt||ds.contains(i)||t.dropFromOthersDisabled||qt&&t.type!==Qt.get(qt).type?-1:0:i.tabIndex=t.zoneTabIndex,i.addEventListener("focus",jT);for(let O=0;O<i.children.length;O++){const C=i.children[O];Eo.add(C),C.tabIndex=En?-1:0,y||C.setAttribute("role","listitem"),C.removeEventListener("keydown",am.get(C)),C.removeEventListener("click",fm.get(C)),h||(C.addEventListener("keydown",s),am.set(C,s),C.addEventListener("click",r),fm.set(C,r)),En&&t.items[O][Mt]===Gn&&(ds=C,ds.tabIndex=0,C.focus())}}a(e);const f={update:u=>{a(u)},destroy:()=>{um(i,t.type),Qt.delete(i),Yf.delete(i)}};return Yf.set(i,f),f}function UT(i,e){cm(e);const t=LT(i,e),n=HT(i,e);return{update:s=>{cm(s),t.update(s),n.update(s)},destroy:()=>{t.destroy(),n.destroy()}}}function cm(i){const p=i,{items:e,flipDurationMs:t,type:n,dragDisabled:s,morphDisabled:l,dropFromOthersDisabled:r,zoneTabIndex:o,dropTargetStyle:a,dropTargetClasses:f,transformDraggedElement:u,autoAriaDisabled:c,centreDraggedOnCursor:h}=p,d=oc(p,["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor"]);if(Object.keys(d).length>0&&console.warn("dndzone will ignore unknown options",d),!e)throw new Error("no 'items' key provided to dndzone");const m=e.find(b=>!{}.hasOwnProperty.call(b,Mt));if(m)throw new Error(`missing '${Mt}' property for item ${ja(m)}`);if(f&&!Array.isArray(f))throw new Error(`dropTargetClasses should be an array but instead it is a ${typeof f}, ${ja(f)}`);if(o&&!qT(o))throw new Error(`zoneTabIndex should be a number but instead it is a ${typeof o}, ${ja(o)}`)}function qT(i){return!isNaN(i)&&function(e){return(e|0)===e}(parseFloat(i))}function hm(i,e,t){const n=i.slice();return n[10]=e[t],n}function dm(i,e,t){const n=i.slice();return n[13]=e[t],n[14]=e,n[15]=t,n}function mm(i,e){let t,n,s,l,r,o,a=ie,f;function u(m){e[6](m,e[13],e[14],e[15])}function c(){return e[7](e[15])}function h(){return e[8](e[15])}let d={};return e[13]!==void 0&&(d.content=e[13]),s=new U4({props:d}),ue.push(()=>He(s,"content",u)),s.$on("delete",c),s.$on("duplicate",h),{key:i,first:null,c(){t=M("div"),n=M("div"),N(s.$$.fragment),r=U(),this.h()},l(m){t=I(m,"DIV",{});var p=V(t);n=I(p,"DIV",{class:!0});var b=V(n);Q(s.$$.fragment,b),b.forEach(g),r=q(p),p.forEach(g),this.h()},h(){z(n,"class","input-wrapper svelte-ft6sxl"),this.first=t},m(m,p){w(m,t,p),F(t,n),L(s,n,null),F(t,r),f=!0},p(m,p){e=m;const b={};!l&&p&1&&(l=!0,b.content=e[13],Ue(()=>l=!1)),s.$set(b)},r(){o=t.getBoundingClientRect()},f(){O_(t),a()},a(){a(),a=S_(t,o,N4,{duration:xf})},i(m){f||(_(s.$$.fragment,m),f=!0)},o(m){k(s.$$.fragment,m),f=!1},d(m){m&&g(t),B(s)}}}function pm(i){let e,t=i[10].name+"",n,s,l;return{c(){e=M("option"),n=Z(t),this.h()},l(r){e=I(r,"OPTION",{id:!0});var o=V(e);n=K(o,t),o.forEach(g),this.h()},h(){z(e,"id",s="select-"+i[10].name),e.__value=l=i[10].name,e.value=e.__value},m(r,o){w(r,e,o),F(e,n)},p:ie,d(r){r&&g(e)}}}function $T(i){let e,t=hc,n=[];for(let s=0;s<t.length;s+=1)n[s]=pm(hm(i,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=re()},l(s){for(let l=0;l<n.length;l+=1)n[l].l(s);e=re()},m(s,l){for(let r=0;r<n.length;r+=1)n[r].m(s,l);w(s,e,l)},p(s,l){if(l&0){t=hc;let r;for(r=0;r<t.length;r+=1){const o=hm(s,t,r);n[r]?n[r].p(o,l):(n[r]=pm(o),n[r].c(),n[r].m(e.parentNode,e))}for(;r<n.length;r+=1)n[r].d(1);n.length=t.length}},d(s){Yi(n,s),s&&g(e)}}}function GT(i){let e,t;return e=new Rt({props:{name:"plus"}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p:ie,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function XT(i){let e,t,n,s,l;function r(a){i[9](a)}let o={type:"select",$$slots:{default:[$T]},$$scope:{ctx:i}};return i[1]!==void 0&&(o.value=i[1]),e=new Ot({props:o}),ue.push(()=>He(e,"value",r)),s=new ct({props:{color:"primary",$$slots:{default:[GT]},$$scope:{ctx:i}}}),s.$on("click",i[5]),{c(){N(e.$$.fragment),n=U(),N(s.$$.fragment)},l(a){Q(e.$$.fragment,a),n=q(a),Q(s.$$.fragment,a)},m(a,f){L(e,a,f),w(a,n,f),L(s,a,f),l=!0},p(a,f){const u={};f&65536&&(u.$$scope={dirty:f,ctx:a}),!t&&f&2&&(t=!0,u.value=a[1],Ue(()=>t=!1)),e.$set(u);const c={};f&65536&&(c.$$scope={dirty:f,ctx:a}),s.$set(c)},i(a){l||(_(e.$$.fragment,a),_(s.$$.fragment,a),l=!0)},o(a){k(e.$$.fragment,a),k(s.$$.fragment,a),l=!1},d(a){B(e,a),a&&g(n),B(s,a)}}}function ZT(i){let e,t,n=[],s=new Map,l,r,o,a,f,u,c=i[0];const h=d=>d[13].id;for(let d=0;d<c.length;d+=1){let m=dm(i,c,d),p=h(m);s.set(p,n[d]=mm(p,m))}return o=new Ji({props:{class:"add-new-selector",$$slots:{default:[XT]},$$scope:{ctx:i}}}),{c(){e=M("div"),t=M("div");for(let d=0;d<n.length;d+=1)n[d].c();r=U(),N(o.$$.fragment)},l(d){e=I(d,"DIV",{});var m=V(e);t=I(m,"DIV",{});var p=V(t);for(let b=0;b<n.length;b+=1)n[b].l(p);p.forEach(g),r=q(m),Q(o.$$.fragment,m),m.forEach(g)},m(d,m){w(d,e,m),F(e,t);for(let p=0;p<n.length;p+=1)n[p].m(t,null);F(e,r),L(o,e,null),a=!0,f||(u=[nu(l=UT.call(null,t,{items:i[0],flipDurationMs:xf,dropTargetStyle:{}})),E(t,"consider",i[2]),E(t,"finalize",i[2])],f=!0)},p(d,[m]){if(m&25){c=d[0],ge();for(let b=0;b<n.length;b+=1)n[b].r();n=$m(n,m,h,1,d,c,s,t,C_,mm,null,dm);for(let b=0;b<n.length;b+=1)n[b].a();be()}l&&Xn(l.update)&&m&1&&l.update.call(null,{items:d[0],flipDurationMs:xf,dropTargetStyle:{}});const p={};m&65538&&(p.$$scope={dirty:m,ctx:d}),o.$set(p)},i(d){if(!a){for(let m=0;m<c.length;m+=1)_(n[m]);_(o.$$.fragment,d),a=!0}},o(d){for(let m=0;m<n.length;m+=1)k(n[m]);k(o.$$.fragment,d),a=!1},d(d){d&&g(e);for(let m=0;m<n.length;m+=1)n[m].d();B(o),f=!1,Ge(u)}}}const xf=200;function KT(i,e,t){let{contents:n}=e;const s=d=>{t(0,n=d.detail.items)},l=d=>{const m=[...n];m.splice(d,1),t(0,n=m)},r=d=>{const m=[...n];m.push(Vs(ci({},n[d]),{id:ur()})),t(0,n=m)};let o="text";const a=d=>{d.preventDefault();const m=[...n];m.push(Lw(o)),t(0,n=m)};function f(d,m,p,b){p[b]=d,t(0,n)}const u=d=>l(d),c=d=>r(d);function h(d){o=d,t(1,o)}return i.$$set=d=>{"contents"in d&&t(0,n=d.contents)},[n,o,s,l,r,a,f,u,c,h]}class YT extends ke{constructor(e){super();ye(this,e,KT,ZT,we,{contents:0})}}var gm=[{set:"Beyond",colors:[{name:"Barbarian F.",color:"#E7623E"},{name:"Paladin Gold",color:"#b59e54"},{name:"Bard Rogue",color:"#AB6DAC"},{name:"Ranger Emerald",color:"#507f62"},{name:"Cleric Silver",color:"#91A1B2"},{name:"Rogue Ash",color:"#555752"},{name:"Druid Moss",color:"#7A853B"},{name:"Sorcerer Blood",color:"#992E2E"},{name:"Fighter Rust",color:"#7f513e"},{name:"Warlock Iris",color:"#7B469B"},{name:"Monk Sky",color:"#51A5C5"},{name:"Wizard Cobalt",color:"#2a50A1"}]}];function bm(i,e,t){const n=i.slice();return n[11]=e[t],n[13]=t,n}function _m(i,e,t){const n=i.slice();return n[14]=e[t],n[16]=t,n}function xT(i){let e=i[14].name+"",t;return{c(){t=Z(e)},l(n){t=K(n,e)},m(n,s){w(n,t,s)},p(n,s){s&2&&e!==(e=n[14].name+"")&&$e(t,e)},d(n){n&&g(t)}}}function vm(i,e){let t,n,s,l,r,o,a,f,u;l=new Kl({props:{target:"color-item-"+e[13]+"-"+e[16],$$slots:{default:[xT]},$$scope:{ctx:e}}});function c(){return e[8](e[14])}return{key:i,first:null,c(){t=M("div"),n=M("div"),s=U(),N(l.$$.fragment),r=U(),this.h()},l(h){t=I(h,"DIV",{class:!0,id:!0});var d=V(t);n=I(d,"DIV",{class:!0,style:!0}),V(n).forEach(g),s=q(d),Q(l.$$.fragment,d),r=q(d),d.forEach(g),this.h()},h(){z(n,"class","color rounded svelte-xik2ab"),Ht(n,"--color",e[14].color),z(t,"class","color-item svelte-xik2ab"),z(t,"id",o="color-item-"+e[13]+"-"+e[16]),this.first=t},m(h,d){w(h,t,d),F(t,n),F(t,s),L(l,t,null),F(t,r),a=!0,f||(u=E(t,"click",c),f=!0)},p(h,d){e=h,(!a||d&2)&&Ht(n,"--color",e[14].color);const m={};d&2&&(m.target="color-item-"+e[13]+"-"+e[16]),d&131074&&(m.$$scope={dirty:d,ctx:e}),l.$set(m),(!a||d&2&&o!==(o="color-item-"+e[13]+"-"+e[16]))&&z(t,"id",o)},i(h){a||(_(l.$$.fragment,h),a=!0)},o(h){k(l.$$.fragment,h),a=!1},d(h){h&&g(t),B(l),f=!1,u()}}}function JT(i){let e,t=[],n=new Map,s,l,r=i[11].colors;const o=a=>`${a[11].set}-${a[16]}-${a[14].name}-${a[14].color}`;for(let a=0;a<r.length;a+=1){let f=_m(i,r,a),u=o(f);n.set(u,t[a]=vm(u,f))}return{c(){e=M("div");for(let a=0;a<t.length;a+=1)t[a].c();s=U(),this.h()},l(a){e=I(a,"DIV",{class:!0});var f=V(e);for(let u=0;u<t.length;u+=1)t[u].l(f);f.forEach(g),s=q(a),this.h()},h(){z(e,"class","color-set svelte-xik2ab")},m(a,f){w(a,e,f);for(let u=0;u<t.length;u+=1)t[u].m(e,null);w(a,s,f),l=!0},p(a,f){f&10&&(r=a[11].colors,ge(),t=$m(t,f,o,1,a,r,n,e,A_,vm,null,_m),be())},i(a){if(!l){for(let f=0;f<r.length;f+=1)_(t[f]);l=!0}},o(a){for(let f=0;f<t.length;f+=1)k(t[f]);l=!1},d(a){a&&g(e);for(let f=0;f<t.length;f+=1)t[f].d();a&&g(s)}}}function km(i){let e,t;return e=new lw({props:{tabId:i[13],tab:i[11].set,active:i[13]===0,$$slots:{default:[JT]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s&2&&(l.tab=n[11].set),s&131074&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function eP(i){let e,t,n=[...gm,i[1]],s=[];for(let r=0;r<n.length;r+=1)s[r]=km(bm(i,n,r));const l=r=>k(s[r],1,1,()=>{s[r]=null});return{c(){for(let r=0;r<s.length;r+=1)s[r].c();e=re()},l(r){for(let o=0;o<s.length;o+=1)s[o].l(r);e=re()},m(r,o){for(let a=0;a<s.length;a+=1)s[a].m(r,o);w(r,e,o),t=!0},p(r,o){if(o&10){n=[...gm,r[1]];let a;for(a=0;a<n.length;a+=1){const f=bm(r,n,a);s[a]?(s[a].p(f,o),_(s[a],1)):(s[a]=km(f),s[a].c(),_(s[a],1),s[a].m(e.parentNode,e))}for(ge(),a=n.length;a<s.length;a+=1)l(a);be()}},i(r){if(!t){for(let o=0;o<n.length;o+=1)_(s[o]);t=!0}},o(r){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)k(s[o]);t=!1},d(r){Yi(s,r),r&&g(e)}}}function tP(i){let e,t,n,s,l;return t=new x2({props:{vertical:!0,pills:!0,$$slots:{default:[eP]},$$scope:{ctx:i}}}),{c(){e=M("div"),N(t.$$.fragment),this.h()},l(r){e=I(r,"DIV",{class:!0});var o=V(e);Q(t.$$.fragment,o),o.forEach(g),this.h()},h(){z(e,"class","wrapper svelte-xik2ab")},m(r,o){w(r,e,o),L(t,e,null),n=!0,s||(l=E(e,"click",Gm(iu(i[6]))),s=!0)},p(r,o){const a={};o&131074&&(a.$$scope={dirty:o,ctx:r}),t.$set(a)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){k(t.$$.fragment,r),n=!1},d(r){r&&g(e),B(t),s=!1,l()}}}function nP(i){let e,t,n,s,l,r,o,a,f;n=new Rt({props:{name:"palette-fill"}});function u(h){i[9](h)}let c={class:"popover",placement:"bottom",target:"color-select-button",$$slots:{default:[tP]},$$scope:{ctx:i}};return i[0]!==void 0&&(c.isOpen=i[0]),l=new U2({props:c}),ue.push(()=>He(l,"isOpen",u)),{c(){e=U(),t=M("a"),N(n.$$.fragment),s=U(),N(l.$$.fragment),this.h()},l(h){e=q(h),t=I(h,"A",{id:!0,tabindex:!0,class:!0});var d=V(t);Q(n.$$.fragment,d),d.forEach(g),s=q(h),Q(l.$$.fragment,h),this.h()},h(){z(t,"id","color-select-button"),z(t,"tabindex","0"),z(t,"class","svelte-xik2ab")},m(h,d){w(h,e,d),w(h,t,d),L(n,t,null),w(h,s,d),L(l,h,d),o=!0,a||(f=[E(document.body,"click",i[2]),E(t,"click",Gm(iu(i[7])))],a=!0)},p(h,[d]){const m={};d&131074&&(m.$$scope={dirty:d,ctx:h}),!r&&d&1&&(r=!0,m.isOpen=h[0],Ue(()=>r=!1)),l.$set(m)},i(h){o||(_(n.$$.fragment,h),_(l.$$.fragment,h),o=!0)},o(h){k(n.$$.fragment,h),k(l.$$.fragment,h),o=!1},d(h){h&&g(e),h&&g(t),B(n),h&&g(s),B(l,h),a=!1,Ge(f)}}}function iP(i,e,t){let n,s;Et(i,Gl,m=>t(5,s=m));let l=!1,{value:r}=e;const o=()=>{t(0,l=!1)},a=()=>{l&&o()},f=m=>{t(4,r=m),Gl.add(m),o()};function u(m){W.call(this,i,m)}function c(m){W.call(this,i,m)}const h=m=>f(m.color);function d(m){l=m,t(0,l)}return i.$$set=m=>{"value"in m&&t(4,r=m.value)},i.$$.update=()=>{i.$$.dirty&32&&t(1,n={set:"Recents",colors:s.map(m=>({name:m,color:m}))})},[l,n,a,f,r,s,u,c,h,d]}class sP extends ke{constructor(e){super();ye(this,e,iP,nP,we,{value:4})}}const rP=93,ym=1,lP=94,oP=95,wm=2,M0=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],aP=58,fP=40,I0=95,uP=91,ql=45,cP=46,hP=35,dP=37;function To(i){return i>=65&&i<=90||i>=97&&i<=122||i>=161}function mP(i){return i>=48&&i<=57}const pP=new Xu((i,e)=>{for(let t=!1,n=0,s=0;;s++){let{next:l}=i;if(To(l)||l==ql||l==I0||t&&mP(l))!t&&(l!=ql||s>0)&&(t=!0),n===s&&l==ql&&n++,i.advance();else{t&&i.acceptToken(l==fP?lP:n==2&&e.canShift(wm)?wm:oP);break}}}),gP=new Xu(i=>{if(M0.includes(i.peek(-1))){let{next:e}=i;(To(e)||e==I0||e==hP||e==cP||e==uP||e==aP||e==ql)&&i.acceptToken(rP)}}),bP=new Xu(i=>{if(!M0.includes(i.peek(-1))){let{next:e}=i;if(e==dP&&(i.advance(),i.acceptToken(ym)),To(e)){do i.advance();while(To(i.next));i.acceptToken(ym)}}}),_P={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,dir:32,url:60,"url-prefix":60,domain:60,regexp:60,selector:134},vP={__proto__:null,"@import":114,"@media":138,"@charset":142,"@namespace":146,"@keyframes":152,"@supports":164},kP={__proto__:null,not:128,only:128,from:158,to:160},yP=$r.deserialize({version:13,states:"7WOYQ[OOOOQP'#Cd'#CdOOQP'#Cc'#CcO!ZQ[O'#CfO!}QXO'#CaO#UQ[O'#ChO#aQ[O'#DPO#fQ[O'#DTOOQP'#Ec'#EcO#kQdO'#DeO$VQ[O'#DrO#kQdO'#DtO$hQ[O'#DvO$sQ[O'#DyO$xQ[O'#EPO%WQ[O'#EROOQS'#Eb'#EbOOQS'#ES'#ESQYQ[OOOOQP'#Cg'#CgOOQP,59Q,59QO!ZQ[O,59QO%_Q[O'#EVO%yQWO,58{O&RQ[O,59SO#aQ[O,59kO#fQ[O,59oO%_Q[O,59sO%_Q[O,59uO%_Q[O,59vO'bQ[O'#D`OOQS,58{,58{OOQP'#Ck'#CkOOQO'#C}'#C}OOQP,59S,59SO'iQWO,59SO'nQWO,59SOOQP'#DR'#DROOQP,59k,59kOOQO'#DV'#DVO'sQ`O,59oOOQS'#Cp'#CpO#kQdO'#CqO'{QvO'#CsO)VQtO,5:POOQO'#Cx'#CxO'iQWO'#CwO)kQWO'#CyOOQS'#Ef'#EfOOQO'#Dh'#DhO)pQ[O'#DoO*OQWO'#EiO$xQ[O'#DmO*^QWO'#DpOOQO'#Ej'#EjO%|QWO,5:^O*cQpO,5:`OOQS'#Dx'#DxO*kQWO,5:bO*pQ[O,5:bOOQO'#D{'#D{O*xQWO,5:eO*}QWO,5:kO+VQWO,5:mOOQS-E8Q-E8QOOQP1G.l1G.lO+yQXO,5:qOOQO-E8T-E8TOOQS1G.g1G.gOOQP1G.n1G.nO'iQWO1G.nO'nQWO1G.nOOQP1G/V1G/VO,WQ`O1G/ZO,qQXO1G/_O-XQXO1G/aO-oQXO1G/bO.VQXO'#CdO.zQWO'#DaOOQS,59z,59zO/PQWO,59zO/XQ[O,59zO/`QdO'#CoO/gQ[O'#DOOOQP1G/Z1G/ZO#kQdO1G/ZO/nQpO,59]OOQS,59_,59_O#kQdO,59aO/vQWO1G/kOOQS,59c,59cO/{Q!bO,59eO0TQWO'#DhO0`QWO,5:TO0eQWO,5:ZO$xQ[O,5:VO$xQ[O'#EYO0mQWO,5;TO0xQWO,5:XO%_Q[O,5:[OOQS1G/x1G/xOOQS1G/z1G/zOOQS1G/|1G/|O1ZQWO1G/|O1`QdO'#D|OOQS1G0P1G0POOQS1G0V1G0VOOQS1G0X1G0XOOQP7+$Y7+$YOOQP7+$u7+$uO#kQdO7+$uO#kQdO,59{O1nQ[O'#EXO1xQWO1G/fOOQS1G/f1G/fO1xQWO1G/fO2QQtO'#ETO2uQdO'#EeO3PQWO,59ZO3UQXO'#EhO3]QWO,59jO3bQpO7+$uOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%V7+%VO3jQWO1G/PO#kQdO1G/oOOQO1G/u1G/uOOQO1G/q1G/qO3oQWO,5:tOOQO-E8W-E8WO3}QXO1G/vOOQS7+%h7+%hO4UQYO'#CsO%|QWO'#EZO4^QdO,5:hOOQS,5:h,5:hO4lQpO<<HaO4tQtO1G/gOOQO,5:s,5:sO5XQ[O,5:sOOQO-E8V-E8VOOQS7+%Q7+%QO5cQWO7+%QOOQS-E8R-E8RO#kQdO'#EUO5kQWO,5;POOQT1G.u1G.uO5sQWO,5;SOOQP1G/U1G/UOOQP<<Ha<<HaOOQS7+$k7+$kO5{QdO7+%ZOOQO7+%b7+%bOOQS,5:u,5:uOOQS-E8X-E8XOOQS1G0S1G0SOOQPAN={AN={O6SQtO'#EWO#kQdO'#EWO6}QdO7+%ROOQO7+%R7+%ROOQO1G0_1G0_OOQS<<Hl<<HlO7_QdO,5:pOOQO-E8S-E8SOOQO<<Hu<<HuO7iQtO,5:rOOQS-E8U-E8UOOQO<<Hm<<Hm",stateData:"8j~O#TOSROS~OUWOXWO]TO^TOtUOxVO!Y_O!ZXO!gYO!iZO!k[O!n]O!t^O#RPO#WRO~O#RcO~O]hO^hOpfOtiOxjO|kO!PmO#PlO#WeO~O!RnO~P!`O`sO#QqO#RpO~O#RuO~O#RwO~OQ!QObzOf!QOh!QOn!PO#Q}O#RyO#Z{O~Ob!SO!b!UO!e!VO#R!RO!R#]P~Oh![On!PO#R!ZO~O#R!^O~Ob!SO!b!UO!e!VO#R!RO~O!W#]P~P$VOUWOXWO]TO^TOtUOxVO#RPO#WRO~OpfO!RnO~O`!hO#QqO#RpO~OQ!pOUWOXWO]TO^TOtUOxVO!Y_O!ZXO!gYO!iZO!k[O!n]O!t^O#R!oO#WRO~O!Q!qO~P&^Ob!tO~Ob!uO~Ov!vOz!wO~OP!yObgXjgX!WgX!bgX!egX#RgXagXQgXfgXhgXngXpgX#QgX#ZgXvgX!QgX!VgX~Ob!SOj!zO!b!UO!e!VO#R!RO!W#]P~Ob!}O~Ob!SO!b!UO!e!VO#R#OO~Op#SO!`#RO!R#]X!W#]X~Ob#VO~Oj!zO!W#XO~O!W#YO~Oh#ZOn!PO~O!R#[O~O!RnO!`#RO~O!RnO!W#_O~O]hO^hOtiOxjO|kO!PmO#PlO#WeO~Op!ya!R!yaa!ya~P+_Ov#aOz#bO~O]hO^hOtiOxjO#WeO~Op{i|{i!P{i!R{i#P{ia{i~P,`Op}i|}i!P}i!R}i#P}ia}i~P,`Op!Oi|!Oi!P!Oi!R!Oi#P!Oia!Oi~P,`O]WX]!UX^WXpWXtWXxWX|WX!PWX!RWX#PWX#WWX~O]#cO~O!Q#fO!W#dO~O!Q#fO~P&^Oa#XP~P#kOa#[P~P%_Oa#nOj!zO~O!W#pO~Oh#qOo#qO~O]!^Xa![X!`![X~O]#rO~Oa#sO!`#RO~Op#SO!R#]a!W#]a~O!`#ROp!aa!R!aa!W!aaa!aa~O!W#xO~O!Q#|O!q#zO!r#zO#Z#yO~O!Q!{X!W!{X~P&^O!Q$SO!W#dO~Oj!zOQ!wXa!wXb!wXf!wXh!wXn!wXp!wX#Q!wX#R!wX#Z!wX~Op$VOa#XX~P#kOa$XO~Oa#[X~P!`Oa$ZO~Oj!zOv$[O~Oa$]O~O!`#ROp!|a!R!|a!W!|a~Oa$_O~P+_OP!yO!RgX~O!Q$bO!q#zO!r#zO#Z#yO~Oj!zOv$cO~Oj!zOp$eO!V$gO!Q!Ti!W!Ti~P#kO!Q!{a!W!{a~P&^O!Q$iO!W#dO~Op$VOa#Xa~OpfOa#[a~Oa$lO~P#kOj!zOQ!zXb!zXf!zXh!zXn!zXp!zX!Q!zX!V!zX!W!zX#Q!zX#R!zX#Z!zX~Op$eO!V$oO!Q!Tq!W!Tq~P#kOa!xap!xa~P#kOj!zOQ!zab!zaf!zah!zan!zap!za!Q!za!V!za!W!za#Q!za#R!za#Z!za~Oo#Zj!Pj~",goto:",O#_PPPPP#`P#h#vP#h$U#hPP$[PPP$b$k$kP$}P$kP$k%e%wPPP&a&g#hP&mP#hP&sP#hP#h#hPPP&y']'iPP#`PP'o'o'y'oP'oP'o'oP#`P#`P#`P'|#`P(P(SPP#`P#`(V(e(s(y)T)Z)e)kPPPPPP)q)yP*e*hP+^+a+j]`Obn!s#d$QiWObfklmn!s!u#V#d$QiQObfklmn!s!u#V#d$QQdRR!ceQrTR!ghQ!gsQ!|!OR#`!hq!QXZz!t!w!z#b#c#i#r$O$V$^$e$f$jp!QXZz!t!w!z#b#c#i#r$O$V$^$e$f$jT#z#[#{q!OXZz!t!w!z#b#c#i#r$O$V$^$e$f$jp!QXZz!t!w!z#b#c#i#r$O$V$^$e$f$jQ![[R#Z!]QtTR!ihQ!gtR#`!iQvUR!jiQxVR!kjQoSQ!fgQ#W!XQ#^!`Q#_!aR$`#zQ!rnQ#g!sQ$P#dR$h$QX!pn!s#d$Qa!WY^_|!S!U#R#SR#P!SR!][R!_]R#]!_QbOU!bb!s$QQ!snR$Q#dQ#i!tU$U#i$^$jQ$^#rR$j$VQ$W#iR$k$WQgSS!eg$YR$Y#kQ$f$OR$n$fQ#e!rS$R#e$TR$T#gQ#T!TR#v#TQ#{#[R$a#{]aObn!s#d$Q[SObn!s#d$QQ!dfQ!lkQ!mlQ!nmQ#k!uR#w#VR#j!tQ|XQ!YZQ!xz[#h!t#i#r$V$^$jQ#m!wQ#o!zQ#}#bQ$O#cS$d$O$fR$m$eR#l!uQ!XYQ!a_R!{|U!TY_|Q!`^Q#Q!SQ#U!UQ#t#RR#u#S",nodeNames:"\u26A0 Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent , PseudoClassName ArgList IdSelector # IdName ] AttributeSelector [ AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList from to SupportsStatement supports AtRule",maxTerm:106,nodeProps:[[Fe.openedBy,17,"(",48,"{"],[Fe.closedBy,18,")",49,"}"]],skippedNodes:[0,3],repeatNodeCount:8,tokenData:"Ay~R![OX$wX^%]^p$wpq%]qr(crs+}st,otu2Uuv$wvw2rwx2}xy3jyz3uz{3z{|4_|}8U}!O8a!O!P8x!P!Q9Z!Q![;e![!]<Y!]!^<x!^!_$w!_!`=T!`!a=`!a!b$w!b!c>O!c!}$w!}#O?[#O#P$w#P#Q?g#Q#R2U#R#T$w#T#U?r#U#c$w#c#d@q#d#o$w#o#pAQ#p#q2U#q#rA]#r#sAh#s#y$w#y#z%]#z$f$w$f$g%]$g#BY$w#BY#BZ%]#BZ$IS$w$IS$I_%]$I_$I|$w$I|$JO%]$JO$JT$w$JT$JU%]$JU$KV$w$KV$KW%]$KW&FU$w&FU&FV%]&FV~$wW$zQOy%Qz~%QW%VQoWOy%Qz~%Q~%bf#T~OX%QX^&v^p%Qpq&vqy%Qz#y%Q#y#z&v#z$f%Q$f$g&v$g#BY%Q#BY#BZ&v#BZ$IS%Q$IS$I_&v$I_$I|%Q$I|$JO&v$JO$JT%Q$JT$JU&v$JU$KV%Q$KV$KW&v$KW&FU%Q&FU&FV&v&FV~%Q~&}f#T~oWOX%QX^&v^p%Qpq&vqy%Qz#y%Q#y#z&v#z$f%Q$f$g&v$g#BY%Q#BY#BZ&v#BZ$IS%Q$IS$I_&v$I_$I|%Q$I|$JO&v$JO$JT%Q$JT$JU&v$JU$KV%Q$KV$KW&v$KW&FU%Q&FU&FV&v&FV~%Q^(fSOy%Qz#]%Q#]#^(r#^~%Q^(wSoWOy%Qz#a%Q#a#b)T#b~%Q^)YSoWOy%Qz#d%Q#d#e)f#e~%Q^)kSoWOy%Qz#c%Q#c#d)w#d~%Q^)|SoWOy%Qz#f%Q#f#g*Y#g~%Q^*_SoWOy%Qz#h%Q#h#i*k#i~%Q^*pSoWOy%Qz#T%Q#T#U*|#U~%Q^+RSoWOy%Qz#b%Q#b#c+_#c~%Q^+dSoWOy%Qz#h%Q#h#i+p#i~%Q^+wQ!VUoWOy%Qz~%Q~,QUOY+}Zr+}rs,ds#O+}#O#P,i#P~+}~,iOh~~,lPO~+}_,tWtPOy%Qz!Q%Q!Q![-^![!c%Q!c!i-^!i#T%Q#T#Z-^#Z~%Q^-cWoWOy%Qz!Q%Q!Q![-{![!c%Q!c!i-{!i#T%Q#T#Z-{#Z~%Q^.QWoWOy%Qz!Q%Q!Q![.j![!c%Q!c!i.j!i#T%Q#T#Z.j#Z~%Q^.qWfUoWOy%Qz!Q%Q!Q![/Z![!c%Q!c!i/Z!i#T%Q#T#Z/Z#Z~%Q^/bWfUoWOy%Qz!Q%Q!Q![/z![!c%Q!c!i/z!i#T%Q#T#Z/z#Z~%Q^0PWoWOy%Qz!Q%Q!Q![0i![!c%Q!c!i0i!i#T%Q#T#Z0i#Z~%Q^0pWfUoWOy%Qz!Q%Q!Q![1Y![!c%Q!c!i1Y!i#T%Q#T#Z1Y#Z~%Q^1_WoWOy%Qz!Q%Q!Q![1w![!c%Q!c!i1w!i#T%Q#T#Z1w#Z~%Q^2OQfUoWOy%Qz~%QY2XSOy%Qz!_%Q!_!`2e!`~%QY2lQzQoWOy%Qz~%QX2wQXPOy%Qz~%Q~3QUOY2}Zw2}wx,dx#O2}#O#P3d#P~2}~3gPO~2}_3oQbVOy%Qz~%Q~3zOa~_4RSUPjSOy%Qz!_%Q!_!`2e!`~%Q_4fUjS!PPOy%Qz!O%Q!O!P4x!P!Q%Q!Q![7_![~%Q^4}SoWOy%Qz!Q%Q!Q![5Z![~%Q^5bWoW#ZUOy%Qz!Q%Q!Q![5Z![!g%Q!g!h5z!h#X%Q#X#Y5z#Y~%Q^6PWoWOy%Qz{%Q{|6i|}%Q}!O6i!O!Q%Q!Q![6z![~%Q^6nSoWOy%Qz!Q%Q!Q![6z![~%Q^7RSoW#ZUOy%Qz!Q%Q!Q![6z![~%Q^7fYoW#ZUOy%Qz!O%Q!O!P5Z!P!Q%Q!Q![7_![!g%Q!g!h5z!h#X%Q#X#Y5z#Y~%Q_8ZQpVOy%Qz~%Q^8fUjSOy%Qz!O%Q!O!P4x!P!Q%Q!Q![7_![~%Q_8}S#WPOy%Qz!Q%Q!Q![5Z![~%Q~9`RjSOy%Qz{9i{~%Q~9nSoWOy9iyz9zz{:o{~9i~9}ROz9zz{:W{~9z~:ZTOz9zz{:W{!P9z!P!Q:j!Q~9z~:oOR~~:tUoWOy9iyz9zz{:o{!P9i!P!Q;W!Q~9i~;_QR~oWOy%Qz~%Q^;jY#ZUOy%Qz!O%Q!O!P5Z!P!Q%Q!Q![7_![!g%Q!g!h5z!h#X%Q#X#Y5z#Y~%QX<_S]POy%Qz![%Q![!]<k!]~%QX<rQ^PoWOy%Qz~%Q_<}Q!WVOy%Qz~%QY=YQzQOy%Qz~%QX=eS|POy%Qz!`%Q!`!a=q!a~%QX=xQ|PoWOy%Qz~%QX>RUOy%Qz!c%Q!c!}>e!}#T%Q#T#o>e#o~%QX>lY!YPoWOy%Qz}%Q}!O>e!O!Q%Q!Q![>e![!c%Q!c!}>e!}#T%Q#T#o>e#o~%QX?aQxPOy%Qz~%Q^?lQvUOy%Qz~%QX?uSOy%Qz#b%Q#b#c@R#c~%QX@WSoWOy%Qz#W%Q#W#X@d#X~%QX@kQ!`PoWOy%Qz~%QX@tSOy%Qz#f%Q#f#g@d#g~%QXAVQ!RPOy%Qz~%Q_AbQ!QVOy%Qz~%QZAmS!PPOy%Qz!_%Q!_!`2e!`~%Q",tokenizers:[gP,bP,pP,0,1,2,3],topRules:{StyleSheet:[0,4]},specialized:[{term:94,get:i=>_P[i]||-1},{term:56,get:i=>vP[i]||-1},{term:95,get:i=>kP[i]||-1}],tokenPrec:1078});let Ua=null;function qa(){if(!Ua&&typeof document=="object"&&document.body){let i=[];for(let e in document.body.style)/[A-Z]|^-|^(item|length)$/.test(e)||i.push(e);Ua=i.sort().map(e=>({type:"property",label:e}))}return Ua||[]}const Om=["active","after","before","checked","default","disabled","empty","enabled","first-child","first-letter","first-line","first-of-type","focus","hover","in-range","indeterminate","invalid","lang","last-child","last-of-type","link","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-of-type","only-child","optional","out-of-range","placeholder","read-only","read-write","required","root","selection","target","valid","visited"].map(i=>({type:"class",label:i})),Sm=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(i=>({type:"keyword",label:i})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(i=>({type:"constant",label:i}))),wP=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(i=>({type:"type",label:i})),Mi=/^[\w-]*/,OP=i=>{let{state:e,pos:t}=i,n=fn(e).resolveInner(t,-1);if(n.name=="PropertyName")return{from:n.from,options:qa(),span:Mi};if(n.name=="ValueName")return{from:n.from,options:Sm,span:Mi};if(n.name=="PseudoClassName")return{from:n.from,options:Om,span:Mi};if(n.name=="TagName"){for(let{parent:r}=n;r;r=r.parent)if(r.name=="Block")return{from:n.from,options:qa(),span:Mi};return{from:n.from,options:wP,span:Mi}}if(!i.explicit)return null;let s=n.resolve(t),l=s.childBefore(t);return l&&l.name==":"&&s.name=="PseudoClassSelector"?{from:t,options:Om,span:Mi}:l&&l.name==":"&&s.name=="Declaration"||s.name=="ArgList"?{from:t,options:Sm,span:Mi}:s.name=="Block"?{from:t,options:qa(),span:Mi}:null},R0=Wr.define({parser:yP.configure({props:[Mu.add({Declaration:Mf()}),Iu.add({Block:$g}),e0({"import charset namespace keyframes":le.definitionKeyword,"media supports":le.controlKeyword,"from to selector":le.keyword,NamespaceName:le.namespace,KeyframeName:le.labelName,TagName:le.tagName,ClassName:le.className,PseudoClassName:le.constant(le.className),IdName:le.labelName,"FeatureName PropertyName":le.propertyName,AttributeName:le.attributeName,NumberLiteral:le.number,KeywordQuery:le.keyword,UnaryQueryOp:le.operatorKeyword,"CallTag ValueName":le.atom,VariableName:le.variableName,Callee:le.operatorKeyword,Unit:le.unit,"UniversalSelector NestingSelector":le.definitionOperator,AtKeyword:le.keyword,MatchOp:le.compareOperator,"ChildOp SiblingOp, LogicOp":le.logicOperator,BinOp:le.arithmeticOperator,Important:le.modifier,Comment:le.blockComment,ParenthesizedContent:le.special(le.name),ColorLiteral:le.color,StringLiteral:le.string,":":le.punctuation,"PseudoOp #":le.derefOperator,"; ,":le.separator,"( )":le.paren,"[ ]":le.squareBracket,"{ }":le.brace})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}}),N0=R0.data.of({autocomplete:OP});function SP(){return new Ug(R0,N0)}function CP(i){let e,t;return{c(){e=M("div"),this.h()},l(n){e=I(n,"DIV",{id:!0,class:!0}),V(e).forEach(g),this.h()},h(){z(e,"id",i[1]),z(e,"class",t="wrapper form-control input "+i[0]+" svelte-18tzx2g")},m(n,s){w(n,e,s),i[4](e)},p(n,[s]){s&2&&z(e,"id",n[1]),s&1&&t!==(t="wrapper form-control input "+n[0]+" svelte-18tzx2g")&&z(e,"class",t)},i:ie,o:ie,d(n){n&&g(e),i[4](null)}}}function AP(i,e,t){let{css:n=void 0}=e,{class:s=""}=e,{id:l=""}=e;const r=f=>{f.docChanged&&t(3,n=f.state.doc.toJSON().join(`
`).trimEnd())};let o;ti(()=>{let f=n!=null?n:"";f.split(`
`).length<2&&(f=n+`
`),new Te({state:Xe.create({extensions:[h0,Te.lineWrapping,Te.updateListener.of(r),c0(),SP(),N0],doc:f}),parent:o})});function a(f){ue[f?"unshift":"push"](()=>{o=f,t(2,o)})}return i.$$set=f=>{"css"in f&&t(3,n=f.css),"class"in f&&t(0,s=f.class),"id"in f&&t(1,l=f.id)},[s,l,o,n,a]}class EP extends ke{constructor(e){super();ye(this,e,AP,CP,we,{css:3,class:0,id:1})}}const DP=i=>({noResultsText:i[0]&2048}),Cm=i=>({noResultsText:i[11]}),TP=i=>({createText:i[0]&8192}),Am=i=>({createText:i[13]}),PP=i=>({loadingText:i[0]&4096}),Em=i=>({loadingText:i[12]});function Dm(i,e,t){const n=i.slice();return n[108]=e[t],n[110]=t,n}const MP=i=>({item:i[0]&134217728,label:i[0]&134217728}),Tm=i=>({item:i[108].item,label:i[108].highlighted?i[108].highlighted:i[108].label});function Pm(i,e,t){const n=i.slice();return n[111]=e[t],n}const IP=i=>({label:i[0]&2,item:i[0]&2}),Mm=i=>({label:i[34](i[111]),item:i[111],unselectItem:i[41]});function Im(i,e,t){const n=i.slice();return n[110]=e[t],n}function RP(i){let e,t=i[1],n=[];for(let s=0;s<t.length;s+=1)n[s]=Rm(Im(i,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=re()},l(s){for(let l=0;l<n.length;l+=1)n[l].l(s);e=re()},m(s,l){for(let r=0;r<n.length;r+=1)n[r].m(s,l);w(s,e,l)},p(s,l){if(l[0]&18|l[1]&8){t=s[1];let r;for(r=0;r<t.length;r+=1){const o=Im(s,t,r);n[r]?n[r].p(o,l):(n[r]=Rm(o),n[r].c(),n[r].m(e.parentNode,e))}for(;r<n.length;r+=1)n[r].d(1);n.length=t.length}},d(s){Yi(n,s),s&&g(e)}}}function NP(i){let e,t;return{c(){e=M("option"),t=Z(i[3]),this.h()},l(n){e=I(n,"OPTION",{class:!0});var s=V(e);t=K(s,i[3]),s.forEach(g),this.h()},h(){e.__value=i[2],e.value=e.__value,e.selected=!0,z(e,"class","svelte-lduj97")},m(n,s){w(n,e,s),F(e,t)},p(n,s){s[0]&8&&$e(t,n[3]),s[0]&4&&(e.__value=n[2],e.value=e.__value)},d(n){n&&g(e)}}}function Rm(i){let e,t=i[34](i[110])+"",n,s,l;return{c(){e=M("option"),n=Z(t),s=U(),this.h()},l(r){e=I(r,"OPTION",{class:!0});var o=V(e);n=K(o,t),s=q(o),o.forEach(g),this.h()},h(){e.__value=l=i[4](i[110],!0),e.value=e.__value,e.selected=!0,z(e,"class","svelte-lduj97")},m(r,o){w(r,e,o),F(e,n),F(e,s)},p(r,o){o[0]&2&&t!==(t=r[34](r[110])+"")&&$e(n,t),o[0]&18&&l!==(l=r[4](r[110],!0))&&(e.__value=l,e.value=e.__value)},d(r){r&&g(e)}}}function Nm(i){let e,t,n=i[1],s=[];for(let r=0;r<n.length;r+=1)s[r]=Lm(Pm(i,n,r));const l=r=>k(s[r],1,1,()=>{s[r]=null});return{c(){for(let r=0;r<s.length;r+=1)s[r].c();e=re()},l(r){for(let o=0;o<s.length;o+=1)s[o].l(r);e=re()},m(r,o){for(let a=0;a<s.length;a+=1)s[a].m(r,o);w(r,e,o),t=!0},p(r,o){if(o[0]&2|o[1]&1032|o[2]&8192){n=r[1];let a;for(a=0;a<n.length;a+=1){const f=Pm(r,n,a);s[a]?(s[a].p(f,o),_(s[a],1)):(s[a]=Lm(f),s[a].c(),_(s[a],1),s[a].m(e.parentNode,e))}for(ge(),a=n.length;a<s.length;a+=1)l(a);be()}},i(r){if(!t){for(let o=0;o<n.length;o+=1)_(s[o]);t=!0}},o(r){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)k(s[o]);t=!1},d(r){Yi(s,r),r&&g(e)}}}function LP(i){let e,t,n=i[34](i[111])+"",s,l,r,o,a,f;return{c(){e=M("div"),t=M("span"),s=Z(n),l=U(),r=M("span"),o=U(),this.h()},l(u){e=I(u,"DIV",{class:!0});var c=V(e);t=I(c,"SPAN",{class:!0});var h=V(t);s=K(h,n),h.forEach(g),l=q(c),r=I(c,"SPAN",{class:!0}),V(r).forEach(g),c.forEach(g),o=q(u),this.h()},h(){z(t,"class","tag svelte-lduj97"),z(r,"class","tag is-delete svelte-lduj97"),z(e,"class","tags has-addons svelte-lduj97")},m(u,c){w(u,e,c),F(e,t),F(t,s),F(e,l),F(e,r),w(u,o,c),a||(f=E(r,"click",iu(function(){Xn(i[41](i[111]))&&i[41](i[111]).apply(this,arguments)})),a=!0)},p(u,c){i=u,c[0]&2&&n!==(n=i[34](i[111])+"")&&$e(s,n)},d(u){u&&g(e),u&&g(o),a=!1,f()}}}function Lm(i){let e;const t=i[76].tag,n=ce(t,i,i[75],Mm),s=n||LP(i);return{c(){s&&s.c()},l(l){s&&s.l(l)},m(l,r){s&&s.m(l,r),e=!0},p(l,r){n?n.p&&(!e||r[0]&2|r[2]&8192)&&he(n,t,l,l[75],e?me(t,l[75],r,IP):de(l[75]),Mm):s&&s.p&&(!e||r[0]&2)&&s.p(l,e?r:[-1,-1,-1,-1])},i(l){e||(_(s,l),e=!0)},o(l){k(s,l),e=!1},d(l){s&&s.d(l)}}}function Bm(i){let e,t,n,s;return{c(){e=M("span"),t=Z("\u2716"),this.h()},l(l){e=I(l,"SPAN",{class:!0});var r=V(e);t=K(r,"\u2716"),r.forEach(g),this.h()},h(){z(e,"class","autocomplete-clear-button svelte-lduj97")},m(l,r){w(l,e,r),F(e,t),n||(s=E(e,"click",i[45]),n=!0)},p:ie,d(l){l&&g(e),n=!1,s()}}}function BP(i){let e,t;const n=i[76]["no-results"],s=ce(n,i,i[75],Cm),l=s||FP(i);return{c(){e=M("div"),l&&l.c(),this.h()},l(r){e=I(r,"DIV",{class:!0});var o=V(e);l&&l.l(o),o.forEach(g),this.h()},h(){z(e,"class","autocomplete-list-item-no-results svelte-lduj97")},m(r,o){w(r,e,o),l&&l.m(e,null),t=!0},p(r,o){s?s.p&&(!t||o[0]&2048|o[2]&8192)&&he(s,n,r,r[75],t?me(n,r[75],o,DP):de(r[75]),Cm):l&&l.p&&(!t||o[0]&2048)&&l.p(r,t?o:[-1,-1,-1,-1])},i(r){t||(_(l,r),t=!0)},o(r){k(l,r),t=!1},d(r){r&&g(e),l&&l.d(r)}}}function QP(i){let e,t,n,s;const l=i[76].create,r=ce(l,i,i[75],Am),o=r||WP(i);return{c(){e=M("div"),o&&o.c(),this.h()},l(a){e=I(a,"DIV",{class:!0});var f=V(e);o&&o.l(f),f.forEach(g),this.h()},h(){z(e,"class","autocomplete-list-item-create svelte-lduj97")},m(a,f){w(a,e,f),o&&o.m(e,null),t=!0,n||(s=E(e,"click",i[35]),n=!0)},p(a,f){r?r.p&&(!t||f[0]&8192|f[2]&8192)&&he(r,l,a,a[75],t?me(l,a[75],f,TP):de(a[75]),Am):o&&o.p&&(!t||f[0]&8192)&&o.p(a,t?f:[-1,-1,-1,-1])},i(a){t||(_(o,a),t=!0)},o(a){k(o,a),t=!1},d(a){a&&g(e),o&&o.d(a),n=!1,s()}}}function zP(i){let e,t;const n=i[76].loading,s=ce(n,i,i[75],Em),l=s||jP(i);return{c(){e=M("div"),l&&l.c(),this.h()},l(r){e=I(r,"DIV",{class:!0});var o=V(e);l&&l.l(o),o.forEach(g),this.h()},h(){z(e,"class","autocomplete-list-item-loading svelte-lduj97")},m(r,o){w(r,e,o),l&&l.m(e,null),t=!0},p(r,o){s?s.p&&(!t||o[0]&4096|o[2]&8192)&&he(s,n,r,r[75],t?me(n,r[75],o,PP):de(r[75]),Em):l&&l.p&&(!t||o[0]&4096)&&l.p(r,t?o:[-1,-1,-1,-1])},i(r){t||(_(l,r),t=!0)},o(r){k(l,r),t=!1},d(r){r&&g(e),l&&l.d(r)}}}function VP(i){let e,t,n,s=i[27],l=[];for(let a=0;a<s.length;a+=1)l[a]=Vm(Dm(i,s,a));const r=a=>k(l[a],1,1,()=>{l[a]=null});let o=i[5]>0&&i[27].length>i[5]&&Fm(i);return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=U(),o&&o.c(),t=re()},l(a){for(let f=0;f<l.length;f+=1)l[f].l(a);e=q(a),o&&o.l(a),t=re()},m(a,f){for(let u=0;u<l.length;u+=1)l[u].m(a,f);w(a,e,f),o&&o.m(a,f),w(a,t,f),n=!0},p(a,f){if(f[0]&201326624|f[1]&32800|f[2]&8192){s=a[27];let u;for(u=0;u<s.length;u+=1){const c=Dm(a,s,u);l[u]?(l[u].p(c,f),_(l[u],1)):(l[u]=Vm(c),l[u].c(),_(l[u],1),l[u].m(e.parentNode,e))}for(ge(),u=s.length;u<l.length;u+=1)r(u);be()}a[5]>0&&a[27].length>a[5]?o?o.p(a,f):(o=Fm(a),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null)},i(a){if(!n){for(let f=0;f<s.length;f+=1)_(l[f]);n=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)k(l[f]);n=!1},d(a){Yi(l,a),a&&g(e),o&&o.d(a),a&&g(t)}}}function FP(i){let e;return{c(){e=Z(i[11])},l(t){e=K(t,i[11])},m(t,n){w(t,e,n)},p(t,n){n[0]&2048&&$e(e,t[11])},d(t){t&&g(e)}}}function WP(i){let e;return{c(){e=Z(i[13])},l(t){e=K(t,i[13])},m(t,n){w(t,e,n)},p(t,n){n[0]&8192&&$e(e,t[13])},d(t){t&&g(e)}}}function jP(i){let e;return{c(){e=Z(i[12])},l(t){e=K(t,i[12])},m(t,n){w(t,e,n)},p(t,n){n[0]&4096&&$e(e,t[12])},d(t){t&&g(e)}}}function Qm(i){let e,t,n=i[108]&&zm(i);return{c(){n&&n.c(),e=re()},l(s){n&&n.l(s),e=re()},m(s,l){n&&n.m(s,l),w(s,e,l),t=!0},p(s,l){s[108]?n?(n.p(s,l),l[0]&134217728&&_(n,1)):(n=zm(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ge(),k(n,1,1,()=>{n=null}),be())},i(s){t||(_(n),t=!0)},o(s){k(n),t=!1},d(s){n&&n.d(s),s&&g(e)}}}function zm(i){let e,t,n,s,l;const r=i[76].item,o=ce(r,i,i[75],Tm),a=o||qP(i);function f(){return i[79](i[108])}function u(){return i[80](i[110])}return{c(){e=M("div"),a&&a.c(),this.h()},l(c){e=I(c,"DIV",{class:!0});var h=V(e);a&&a.l(h),h.forEach(g),this.h()},h(){z(e,"class",t="autocomplete-list-item "+(i[110]===i[26]?"selected":"")+" svelte-lduj97"),Bi(e,"confirmed",i[46](i[108].item))},m(c,h){w(c,e,h),a&&a.m(e,null),n=!0,s||(l=[E(e,"click",f),E(e,"pointerenter",u)],s=!0)},p(c,h){i=c,o?o.p&&(!n||h[0]&134217728|h[2]&8192)&&he(o,r,i,i[75],n?me(r,i[75],h,MP):de(i[75]),Tm):a&&a.p&&(!n||h[0]&134217728)&&a.p(i,n?h:[-1,-1,-1,-1]),(!n||h[0]&67108864&&t!==(t="autocomplete-list-item "+(i[110]===i[26]?"selected":"")+" svelte-lduj97"))&&z(e,"class",t),h[0]&201326592|h[1]&32768&&Bi(e,"confirmed",i[46](i[108].item))},i(c){n||(_(a,c),n=!0)},o(c){k(a,c),n=!1},d(c){c&&g(e),a&&a.d(c),s=!1,Ge(l)}}}function HP(i){let e,t=i[108].label+"",n;return{c(){e=new Xm,n=re(),this.h()},l(s){e=Zm(s),n=re(),this.h()},h(){e.a=n},m(s,l){e.m(t,s,l),w(s,n,l)},p(s,l){l[0]&134217728&&t!==(t=s[108].label+"")&&e.p(t)},d(s){s&&g(n),s&&e.d()}}}function UP(i){let e,t=i[108].highlighted+"",n;return{c(){e=new Xm,n=re(),this.h()},l(s){e=Zm(s),n=re(),this.h()},h(){e.a=n},m(s,l){e.m(t,s,l),w(s,n,l)},p(s,l){l[0]&134217728&&t!==(t=s[108].highlighted+"")&&e.p(t)},d(s){s&&g(n),s&&e.d()}}}function qP(i){let e;function t(l,r){return l[108].highlighted?UP:HP}let n=t(i),s=n(i);return{c(){s.c(),e=re()},l(l){s.l(l),e=re()},m(l,r){s.m(l,r),w(l,e,r)},p(l,r){n===(n=t(l))&&s?s.p(l,r):(s.d(1),s=n(l),s&&(s.c(),s.m(e.parentNode,e)))},d(l){s.d(l),l&&g(e)}}}function Vm(i){let e,t,n=i[108]&&(i[5]<=0||i[110]<i[5])&&Qm(i);return{c(){n&&n.c(),e=re()},l(s){n&&n.l(s),e=re()},m(s,l){n&&n.m(s,l),w(s,e,l),t=!0},p(s,l){s[108]&&(s[5]<=0||s[110]<s[5])?n?(n.p(s,l),l[0]&134217760&&_(n,1)):(n=Qm(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ge(),k(n,1,1,()=>{n=null}),be())},i(s){t||(_(n),t=!0)},o(s){k(n),t=!1},d(s){n&&n.d(s),s&&g(e)}}}function Fm(i){let e,t,n=i[27].length-i[5]+"",s,l;return{c(){e=M("div"),t=Z("..."),s=Z(n),l=Z(" results not shown"),this.h()},l(r){e=I(r,"DIV",{class:!0});var o=V(e);t=K(o,"..."),s=K(o,n),l=K(o," results not shown"),o.forEach(g),this.h()},h(){z(e,"class","autocomplete-list-item-no-results svelte-lduj97")},m(r,o){w(r,e,o),F(e,t),F(e,s),F(e,l)},p(r,o){o[0]&134217760&&n!==(n=r[27].length-r[5]+"")&&$e(s,n)},d(r){r&&g(e)}}}function $P(i){let e,t,n,s,l,r,o,a,f,u,c,h,d,m,p,b,y,O,C,D;function A(R,te){if(!R[6]&&R[2])return NP;if(R[6]&&R[1])return RP}let P=A(i),S=P&&P(i),H=i[6]&&i[1]&&Nm(i),X=i[31]&&Bm(i);const $=[VP,zP,QP,BP],ne=[];function j(R,te){return R[27]&&R[27].length>0?0:R[30]&&R[12]?1:R[7]?2:R[11]?3:-1}return~(m=j(i))&&(p=ne[m]=$[m](i)),{c(){e=M("div"),t=M("select"),S&&S.c(),n=U(),s=M("div"),H&&H.c(),l=U(),r=M("input"),c=U(),X&&X.c(),h=U(),d=M("div"),p&&p.c(),this.h()},l(R){e=I(R,"DIV",{class:!0});var te=V(e);t=I(te,"SELECT",{name:!0,id:!0,class:!0});var Se=V(t);S&&S.l(Se),Se.forEach(g),n=q(te),s=I(te,"DIV",{class:!0});var Ce=V(s);H&&H.l(Ce),l=q(Ce),r=I(Ce,"INPUT",{type:!0,class:!0,id:!0,autocomplete:!0,placeholder:!0,name:!0,title:!0}),c=q(Ce),X&&X.l(Ce),Ce.forEach(g),h=q(te),d=I(te,"DIV",{class:!0});var ee=V(d);p&&p.l(ee),ee.forEach(g),te.forEach(g),this.h()},h(){z(t,"name",i[19]),z(t,"id",i[20]),t.multiple=i[6],z(t,"class","svelte-lduj97"),z(r,"type","text"),z(r,"class",o=(i[16]?i[16]:"")+" input autocomplete-input svelte-lduj97"),z(r,"id",a=i[17]?i[17]:""),z(r,"autocomplete",f=i[22]?"on":"some-other-text"),z(r,"placeholder",i[14]),z(r,"name",i[18]),r.disabled=i[25],z(r,"title",i[21]),r.readOnly=u=i[23]||i[8]&&i[1],z(s,"class","input-container svelte-lduj97"),z(d,"class",b=(i[24]?i[24]:"")+" autocomplete-list "+(i[32]?"":"hidden")+" is-fullwidth svelte-lduj97"),z(e,"class",y=(i[15]?i[15]:"")+" "+(i[9]||!i[0].length?"hide-arrow":"")+" "+(i[6]?"is-multiple":"")+" autocomplete select is-fullwidth "+i[33]+" svelte-lduj97"),Bi(e,"show-clear",i[31]),Bi(e,"is-loading",i[10]&&i[30])},m(R,te){w(R,e,te),F(e,t),S&&S.m(t,null),F(e,n),F(e,s),H&&H.m(s,null),F(s,l),F(s,r),i[77](r),je(r,i[3]),F(s,c),X&&X.m(s,null),F(e,h),F(e,d),~m&&ne[m].m(d,null),i[81](d),O=!0,C||(D=[E(window,"click",i[37]),E(r,"input",i[78]),E(r,"input",i[40]),E(r,"focus",i[43]),E(r,"blur",i[44]),E(r,"keydown",i[38]),E(r,"click",i[42]),E(r,"keypress",i[39])],C=!0)},p(R,te){P===(P=A(R))&&S?S.p(R,te):(S&&S.d(1),S=P&&P(R),S&&(S.c(),S.m(t,null))),(!O||te[0]&524288)&&z(t,"name",R[19]),(!O||te[0]&1048576)&&z(t,"id",R[20]),(!O||te[0]&64)&&(t.multiple=R[6]),R[6]&&R[1]?H?(H.p(R,te),te[0]&66&&_(H,1)):(H=Nm(R),H.c(),_(H,1),H.m(s,l)):H&&(ge(),k(H,1,1,()=>{H=null}),be()),(!O||te[0]&65536&&o!==(o=(R[16]?R[16]:"")+" input autocomplete-input svelte-lduj97"))&&z(r,"class",o),(!O||te[0]&131072&&a!==(a=R[17]?R[17]:""))&&z(r,"id",a),(!O||te[0]&4194304&&f!==(f=R[22]?"on":"some-other-text"))&&z(r,"autocomplete",f),(!O||te[0]&16384)&&z(r,"placeholder",R[14]),(!O||te[0]&262144)&&z(r,"name",R[18]),(!O||te[0]&33554432)&&(r.disabled=R[25]),(!O||te[0]&2097152)&&z(r,"title",R[21]),(!O||te[0]&8388866&&u!==(u=R[23]||R[8]&&R[1]))&&(r.readOnly=u),te[0]&8&&r.value!==R[3]&&je(r,R[3]),R[31]?X?X.p(R,te):(X=Bm(R),X.c(),X.m(s,null)):X&&(X.d(1),X=null);let Se=m;m=j(R),m===Se?~m&&ne[m].p(R,te):(p&&(ge(),k(ne[Se],1,1,()=>{ne[Se]=null}),be()),~m?(p=ne[m],p?p.p(R,te):(p=ne[m]=$[m](R),p.c()),_(p,1),p.m(d,null)):p=null),(!O||te[0]&16777216|te[1]&2&&b!==(b=(R[24]?R[24]:"")+" autocomplete-list "+(R[32]?"":"hidden")+" is-fullwidth svelte-lduj97"))&&z(d,"class",b),(!O||te[0]&33345&&y!==(y=(R[15]?R[15]:"")+" "+(R[9]||!R[0].length?"hide-arrow":"")+" "+(R[6]?"is-multiple":"")+" autocomplete select is-fullwidth "+R[33]+" svelte-lduj97"))&&z(e,"class",y),te[0]&33345|te[1]&1&&Bi(e,"show-clear",R[31]),te[0]&1073776193&&Bi(e,"is-loading",R[10]&&R[30])},i(R){O||(_(H),_(p),O=!0)},o(R){k(H),k(p),O=!1},d(R){R&&g(e),S&&S.d(),H&&H.d(),i[77](null),X&&X.d(),~m&&ne[m].d(),i[81](null),C=!1,Ge(D)}}}function $a(i,e){typeof i!="function"&&console.error("Not a function: "+i+", argument: "+e);let t;try{t=i(e)}catch{console.warn("Error executing Autocomplete function on value: "+e+" function: "+i)}let n=t;return n==null&&(n=""),typeof n!="string"&&(n=n.toString()),n}function Jf(i,e){if(!i)return 0;const t=i.keywords;let n=0;return e.forEach(s=>{t.includes(s)&&n++}),n}function GP(i,e,t){return Jf(e,t)-Jf(i,t)}function Il(i){return i.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function XP(i,e,t){let n,s,{$$slots:l={},$$scope:r}=e,{items:o=[]}=e,{searchFunction:a=!1}=e,{labelFieldName:f=void 0}=e,{keywordsFieldName:u=f}=e,{valueFieldName:c=void 0}=e,{labelFunction:h=function(T){return T==null?"":f?T[f]:T}}=e,{keywordsFunction:d=function(T){return T==null?"":u?T[u]:h(T)}}=e,{valueFunction:m=function(T,Pe=!1){return T==null?T:!X||Pe?c?T[c]:T:T.map(Le=>c?Le[c]:Le)}}=e,{keywordsCleanFunction:p=function(T){return T}}=e,{textCleanFunction:b=function(T){return T}}=e,{beforeChange:y=function(T,Pe){return!0}}=e,{onChange:O=function(T){}}=e,{onFocus:C=function(){}}=e,{onBlur:D=function(){}}=e,{onCreate:A=function(T){_e&&console.log("onCreate: "+T)}}=e,{selectFirstIfEmpty:P=!1}=e,{minCharactersToSearch:S=1}=e,{maxItemsToShowInList:H=0}=e,{multiple:X=!1}=e,{create:$=!1}=e,{ignoreAccents:ne=!0}=e,{matchAllKeywords:j=!0}=e,{sortByMatchedKeywords:R=!1}=e,{itemFilterFunction:te=void 0}=e,{itemSortFunction:Se=void 0}=e,{lock:Ce=!1}=e,{delay:ee=0}=e,{localFiltering:Ie=!0}=e,{hideArrow:Ne=!1}=e,{showClear:De=!1}=e,{showLoadingIndicator:Je=!1}=e,{noResultsText:We="No results found"}=e,{loadingText:Ze="Loading results..."}=e,{createText:Ye="Not found, add anyway?"}=e,{placeholder:et=void 0}=e,{className:st=void 0}=e,{inputClassName:se=void 0}=e,{inputId:rt=void 0}=e,{name:ht=void 0}=e,{selectName:Wt=void 0}=e,{selectId:ve=void 0}=e,{title:Oe=void 0}=e,{html5autocomplete:pt=void 0}=e,{readonly:dt=void 0}=e,{dropdownClassName:fe=void 0}=e,{disabled:ft=!1}=e,{debug:_e=!1}=e,{selectedItem:Be=X?[]:void 0}=e,{value:St=void 0}=e,{highlightedItem:Ct=void 0}=e;const Jt="sautocomplete-"+Math.floor(Math.random()*1e3);let nt,Lt,Gt=!1,en=!1,lt=-1,{text:vt}=e,jt=0,gt,bt=[],si=0,un=0,x;function ze(T){return $a(h,T)}function Ts(T){const Pe=$a(d,T);let Le=$a(p,Pe);return Le=Le.toLowerCase().trim(),ne&&(Le=Il(Le)),_e&&console.log("Extracted keywords: '"+Le+"' from item: "+JSON.stringify(T)),Le}function wi(){let T;_e&&(T=`Autocomplete prepare list ${rt?`(id: ${rt})`:""}`,console.time(T),console.log("Prepare items to search"),console.log("items: "+JSON.stringify(o))),Array.isArray(o)||(console.warn("Autocomplete items / search function did not return array but",o),t(0,o=[]));const Pe=o?o.length:0;bt=new Array(Pe),Pe>0&&o.forEach((Le,qe)=>{const Xt=Oi(Le);Xt==null&&console.log("Undefined item for: ",Le),bt[qe]=Xt}),_e&&(console.log(bt.length+" items to search"),console.timeEnd(T))}function Oi(T){return{keywords:Ts(T),label:ze(T),item:T}}function Ps(){t(2,St=m(Be)),t(3,vt=X?"":ze(Be)),t(27,gt=bt),O(Be)}function Ms(T){if(T==null)return"";const Pe=T.replace(/[&/\\#,+()$~%.'":*?<>{}]/g," ").trim();if(t(74,jt=Pe.length),S>1&&jt<S)return"";const qe=b(Pe).toLowerCase().trim();return _e&&console.log("Change user entered text '"+T+"' into '"+qe+"'"),qe}async function Si(){let T;_e&&(T=`Autocomplete search ${rt?`(id: ${rt})`:""})`,console.time(T),console.log("Searching user entered text: '"+vt+"'"));const Pe=Ms(vt);if(Pe===""){a?(t(0,o=[]),_e&&console.log("User entered text is empty clear list of items")):(t(27,gt=bt),_e&&console.log("User entered text is empty set the list of items to all items")),ul(),_e&&console.timeEnd(T);return}if(!a)ri(Pe);else{si=si+1;const Le=si;if(t(30,en=!0),a.constructor.name==="AsyncGeneratorFunction"){for await(const qe of a(Pe)){if(Le<un)return!1;Le>un&&t(0,o=[]),un=Le,t(0,o=[...o,...qe]),ri(Pe)}un<Le&&(un=Le,t(0,o=[]),ri(Pe))}else{let qe=await a(Pe);if(Le<un)return!1;un=Le,t(0,o=qe),ri(Pe)}t(30,en=!1)}_e&&(console.timeEnd(T),console.log("Search found "+gt.length+" items"))}function Is(T,Pe){var Le=Jf(T,Pe);return j?Le>=Pe.length:Le>0}function ri(T){wi();const Le=(ne?Il(T):T).split(/\s+/g);let qe;Ie?(te?qe=bt.filter(Nn=>te(Nn.item,Le)):qe=bt.filter(Nn=>Is(Nn,Le)),Se?qe=qe.sort((Nn,Fn)=>Se(Nn.item,Fn.item,Le)):R&&(qe=qe.sort((Nn,Fn)=>GP(Nn,Fn,Le)))):qe=bt;const Xt=cl(Le,"label"),as=qe.map(Xt);return t(27,gt=as),ul(),!0}function li(T){if(_e&&console.log("selectListItem",T),typeof T=="undefined"&&$){const Le=A(vt);if(typeof Le!="undefined"){wi(),t(27,gt=bt);const qe=al(Le,gt);qe>=0&&(t(26,lt=qe),T=gt[lt])}}if(typeof T=="undefined")return _e&&console.log("listItem is undefined. Can not select."),!1;const Pe=T.item;return y(Be,Pe)&&(X?Be?Be.includes(Pe)?t(1,Be=Be.filter(Le=>Le!==Pe)):t(1,Be=[...Be,Pe]):t(1,Be=[Pe]):(t(1,Be=void 0),t(1,Be=Pe))),!0}function Ci(){_e&&console.log("selectItem",lt);const T=gt[lt];li(T)&&(Ei(),X&&nt.focus())}function is(){_e&&console.log("up"),Qs(),lt>0&&t(26,lt--,lt),ai()}function oi(){_e&&console.log("down"),Qs(),lt<gt.length-1&&t(26,lt++,lt),ai()}function ai(){_e&&console.log("highlight");const T=".selected";_e&&console.log("Seaching DOM element: "+T+" in "+Lt);const Pe=Lt&&Lt.querySelector(T);Pe?typeof Pe.scrollIntoViewIfNeeded=="function"?(_e&&console.log("Scrolling selected item into view"),Pe.scrollIntoViewIfNeeded()):_e&&console.warn("Could not scroll selected item into view, scrollIntoViewIfNeeded not supported"):_e&&console.warn("Selected item not found to scroll into view")}function ss(T){_e&&console.log("onListItemClick"),li(T)&&(Ei(),X&&nt.focus())}function fi(T){_e&&console.log("onDocumentClick: "+JSON.stringify(T.composedPath())),T.composedPath().some(Pe=>Pe.classList&&Pe.classList.contains(Jt))?(_e&&console.log("onDocumentClick inside"),ai()):(_e&&console.log("onDocumentClick outside"),Ei())}function Rs(T){_e&&console.log("onKeyDown");let Pe=T.key;Pe==="Tab"&&T.shiftKey&&(Pe="ShiftTab");const qe={Tab:Gt?oi.bind(this):null,ShiftTab:Gt?is.bind(this):null,ArrowDown:oi.bind(this),ArrowUp:is.bind(this),Escape:Bs.bind(this),Backspace:X&&Be&&Be.length&&!vt?sa.bind(this):null}[Pe];typeof qe=="function"&&qe(T)}function Ns(T){_e&&console.log("onKeyPress"),T.key==="Enter"&&Gt&&(T.preventDefault(),Ls())}function Ls(){Ci()}function rs(T){_e&&console.log("onInput"),t(3,vt=T.target.value),x&&clearTimeout(x),ee?x=setTimeout(os,ee):os()}function ls(T){_e&&console.log("unselectItem",T),t(1,Be=Be.filter(Pe=>Pe!==T)),nt.focus()}function os(){Si()&&(t(26,lt=0),Qs())}function Ai(){_e&&console.log("onInputClick"),ol()}function Bs(T){_e&&console.log("onEsc"),T.stopPropagation(),Gt&&(nt.focus(),Ei())}function sa(T){_e&&console.log("onBackspace"),ls(Be[Be.length-1])}function ra(){_e&&console.log("onFocus"),C(),ol()}function la(){_e&&console.log("onBlur"),D()}function ol(){if(_e&&console.log("resetListToAllItemsAndOpen"),vt?!bt.length&&Be&&a&&Si():t(27,gt=bt),Qs(),Be){_e&&console.log("Searching currently selected item: "+JSON.stringify(Be));const T=al(Be,gt);T>=0&&(t(26,lt=T),ai())}}function al(T,Pe){_e&&console.log("Finding index for item",T);let Le=-1;for(let qe=0;qe<Pe.length;qe++){const Xt=Pe[qe];if(typeof Xt=="undefined"){_e&&console.log(`listItem ${qe} is undefined. Skipping.`);continue}if(_e&&console.log("Item "+qe+": "+JSON.stringify(Xt)),T==Xt.item){Le=qe;break}}return _e&&(Le>=0?console.log("Found index for item: "+Le):console.warn("Not found index for item: "+T)),Le}function Qs(){_e&&console.log("open"),!fl()&&t(73,Gt=!0)}function Ei(){_e&&console.log("close"),t(73,Gt=!1),t(30,en=!1),!vt&&P&&(t(26,lt=0),Ci())}function fl(){return S>1&&jt<S}function ul(){fl()&&Ei()}function oa(){_e&&console.log("clear"),t(3,vt=""),t(1,Be=X?[]:void 0),setTimeout(()=>{nt.focus(),Ei()})}function cl(T,Pe){return Le=>{let qe=Le[Pe];const Xt=Object.assign({highlighted:void 0},Le);Xt.highlighted=qe;const as=qe.toLowerCase(),Nn=ne?Il(as):as;if(T&&T.length){const Fn=[];for(let Di=0;Di<T.length;Di++){let cn=T[Di];ne&&(cn=Il(cn));const Ti=cn.length;let hn=0;do if(hn=Nn.indexOf(cn,hn),hn>=0){let zs=hn+Ti;Fn.push([hn,zs]),hn=zs}while(hn!==-1)}if(Fn.length>0){const Di=new Set;for(let cn=0;cn<Fn.length;cn++){const Ti=Fn[cn],hn=Ti[0],zs=Ti[1],ma=as.substring(hn,zs);Di.add(ma)}for(let cn of Di){if(cn==="b")continue;const Ti=new RegExp("("+cn+")","ig"),hn=Xt.highlighted.replace(Ti,"<b>$1</b>");Xt.highlighted=hn}}}return Xt}}function aa(T){return Be?X?Be.includes(T):T==Be:!1}function fa(T){ue[T?"unshift":"push"](()=>{nt=T,t(28,nt)})}function ua(){vt=this.value,t(3,vt)}const ca=T=>ss(T),ha=T=>{t(26,lt=T)};function da(T){ue[T?"unshift":"push"](()=>{Lt=T,t(29,Lt)})}return i.$$set=T=>{"items"in T&&t(0,o=T.items),"searchFunction"in T&&t(48,a=T.searchFunction),"labelFieldName"in T&&t(49,f=T.labelFieldName),"keywordsFieldName"in T&&t(50,u=T.keywordsFieldName),"valueFieldName"in T&&t(51,c=T.valueFieldName),"labelFunction"in T&&t(52,h=T.labelFunction),"keywordsFunction"in T&&t(53,d=T.keywordsFunction),"valueFunction"in T&&t(4,m=T.valueFunction),"keywordsCleanFunction"in T&&t(54,p=T.keywordsCleanFunction),"textCleanFunction"in T&&t(55,b=T.textCleanFunction),"beforeChange"in T&&t(56,y=T.beforeChange),"onChange"in T&&t(57,O=T.onChange),"onFocus"in T&&t(58,C=T.onFocus),"onBlur"in T&&t(59,D=T.onBlur),"onCreate"in T&&t(60,A=T.onCreate),"selectFirstIfEmpty"in T&&t(61,P=T.selectFirstIfEmpty),"minCharactersToSearch"in T&&t(62,S=T.minCharactersToSearch),"maxItemsToShowInList"in T&&t(5,H=T.maxItemsToShowInList),"multiple"in T&&t(6,X=T.multiple),"create"in T&&t(7,$=T.create),"ignoreAccents"in T&&t(63,ne=T.ignoreAccents),"matchAllKeywords"in T&&t(64,j=T.matchAllKeywords),"sortByMatchedKeywords"in T&&t(65,R=T.sortByMatchedKeywords),"itemFilterFunction"in T&&t(66,te=T.itemFilterFunction),"itemSortFunction"in T&&t(67,Se=T.itemSortFunction),"lock"in T&&t(8,Ce=T.lock),"delay"in T&&t(68,ee=T.delay),"localFiltering"in T&&t(69,Ie=T.localFiltering),"hideArrow"in T&&t(9,Ne=T.hideArrow),"showClear"in T&&t(70,De=T.showClear),"showLoadingIndicator"in T&&t(10,Je=T.showLoadingIndicator),"noResultsText"in T&&t(11,We=T.noResultsText),"loadingText"in T&&t(12,Ze=T.loadingText),"createText"in T&&t(13,Ye=T.createText),"placeholder"in T&&t(14,et=T.placeholder),"className"in T&&t(15,st=T.className),"inputClassName"in T&&t(16,se=T.inputClassName),"inputId"in T&&t(17,rt=T.inputId),"name"in T&&t(18,ht=T.name),"selectName"in T&&t(19,Wt=T.selectName),"selectId"in T&&t(20,ve=T.selectId),"title"in T&&t(21,Oe=T.title),"html5autocomplete"in T&&t(22,pt=T.html5autocomplete),"readonly"in T&&t(23,dt=T.readonly),"dropdownClassName"in T&&t(24,fe=T.dropdownClassName),"disabled"in T&&t(25,ft=T.disabled),"debug"in T&&t(71,_e=T.debug),"selectedItem"in T&&t(1,Be=T.selectedItem),"value"in T&&t(2,St=T.value),"highlightedItem"in T&&t(47,Ct=T.highlightedItem),"text"in T&&t(3,vt=T.text),"$$scope"in T&&t(75,r=T.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&1&&wi(),i.$$.dirty[0]&2&&Ps(),i.$$.dirty[0]&201326592&&t(47,Ct=gt&&lt&&lt>=0&&lt<gt.length?gt[lt].item:null),i.$$.dirty[0]&1|i.$$.dirty[2]&6144&&t(32,n=Gt&&(o&&o.length>0||jt>0)),i.$$.dirty[0]&322|i.$$.dirty[2]&256&&t(31,s=De||(Ce||X)&&Be)},[o,Be,St,vt,m,H,X,$,Ce,Ne,Je,We,Ze,Ye,et,st,se,rt,ht,Wt,ve,Oe,pt,dt,fe,ft,lt,gt,nt,Lt,en,s,n,Jt,ze,Ci,ss,fi,Rs,Ns,rs,ls,Ai,ra,la,oa,aa,Ct,a,f,u,c,h,d,p,b,y,O,C,D,A,P,S,ne,j,R,te,Se,ee,Ie,De,_e,cl,Gt,jt,r,l,fa,ua,ca,ha,da]}class ZP extends ke{constructor(e){super();ye(this,e,XP,$P,we,{items:0,searchFunction:48,labelFieldName:49,keywordsFieldName:50,valueFieldName:51,labelFunction:52,keywordsFunction:53,valueFunction:4,keywordsCleanFunction:54,textCleanFunction:55,beforeChange:56,onChange:57,onFocus:58,onBlur:59,onCreate:60,selectFirstIfEmpty:61,minCharactersToSearch:62,maxItemsToShowInList:5,multiple:6,create:7,ignoreAccents:63,matchAllKeywords:64,sortByMatchedKeywords:65,itemFilterFunction:66,itemSortFunction:67,lock:8,delay:68,localFiltering:69,hideArrow:9,showClear:70,showLoadingIndicator:10,noResultsText:11,loadingText:12,createText:13,placeholder:14,className:15,inputClassName:16,inputId:17,name:18,selectName:19,selectId:20,title:21,html5autocomplete:22,readonly:23,dropdownClassName:24,disabled:25,debug:71,selectedItem:1,value:2,highlightedItem:47,text:3,highlightFilter:72},null,[-1,-1,-1,-1])}get highlightFilter(){return this.$$.ctx[72]}}function KP(i){let e,t;return e=new Ym({props:{name:i[0],color:"black",size:"1.5em"}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s&1&&(l.name=n[0]),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function YP(i){let e,t,n,s,l=i[11]+"",r;return t=new Ym({props:{name:i[12],color:"black",size:"1.5em"}}),{c(){e=M("div"),N(t.$$.fragment),n=U(),s=M("span"),this.h()},l(o){e=I(o,"DIV",{class:!0,slot:!0});var a=V(e);Q(t.$$.fragment,a),n=q(a),s=I(a,"SPAN",{});var f=V(s);f.forEach(g),a.forEach(g),this.h()},h(){z(e,"class","autocomplete-result-item svelte-lr0mua"),z(e,"slot","item")},m(o,a){w(o,e,a),L(t,e,null),F(e,n),F(e,s),s.innerHTML=l,r=!0},p(o,a){const f={};a&4096&&(f.name=o[12]),t.$set(f),(!r||a&2048)&&l!==(l=o[11]+"")&&(s.innerHTML=l)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){k(t.$$.fragment,o),r=!1},d(o){o&&g(e),B(t)}}}function xP(i){let e,t,n;return t=new Rt({props:{name:"box-arrow-up-right"}}),{c(){e=M("a"),N(t.$$.fragment),this.h()},l(s){e=I(s,"A",{href:!0,target:!0});var l=V(e);Q(t.$$.fragment,l),l.forEach(g),this.h()},h(){z(e,"href","https://game-icons.net"),z(e,"target","_blank")},m(s,l){w(s,e,l),L(t,e,null),n=!0},p:ie,i(s){n||(_(t.$$.fragment,s),n=!0)},o(s){k(t.$$.fragment,s),n=!1},d(s){s&&g(e),B(t)}}}function JP(i){let e,t,n,s,l,r,o,a;e=new yn({props:{$$slots:{default:[KP]},$$scope:{ctx:i}}});function f(h){i[8](h)}function u(h){i[9](h)}let c={searchFunction:i[6],delay:"200",hideArrow:!0,inputId:i[2],name:i[1],inputClassName:"form-control autocomplete-input",onChange:i[7],class:"autocomplete",placeholder:i[3],$$slots:{item:[YP,({label:h,item:d})=>({11:h,12:d}),({label:h,item:d})=>(h?2048:0)|(d?4096:0)]},$$scope:{ctx:i}};return i[0]!==void 0&&(c.selectedItem=i[0]),i[4]!==void 0&&(c.text=i[4]),n=new ZP({props:c}),ue.push(()=>He(n,"selectedItem",f)),ue.push(()=>He(n,"text",u)),o=new yn({props:{$$slots:{default:[xP]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment),t=U(),N(n.$$.fragment),r=U(),N(o.$$.fragment)},l(h){Q(e.$$.fragment,h),t=q(h),Q(n.$$.fragment,h),r=q(h),Q(o.$$.fragment,h)},m(h,d){L(e,h,d),w(h,t,d),L(n,h,d),w(h,r,d),L(o,h,d),a=!0},p(h,d){const m={};d&8193&&(m.$$scope={dirty:d,ctx:h}),e.$set(m);const p={};d&4&&(p.inputId=h[2]),d&2&&(p.name=h[1]),d&32&&(p.onChange=h[7]),d&8&&(p.placeholder=h[3]),d&14336&&(p.$$scope={dirty:d,ctx:h}),!s&&d&1&&(s=!0,p.selectedItem=h[0],Ue(()=>s=!1)),!l&&d&16&&(l=!0,p.text=h[4],Ue(()=>l=!1)),n.$set(p);const b={};d&8192&&(b.$$scope={dirty:d,ctx:h}),o.$set(b)},i(h){a||(_(e.$$.fragment,h),_(n.$$.fragment,h),_(o.$$.fragment,h),a=!0)},o(h){k(e.$$.fragment,h),k(n.$$.fragment,h),k(o.$$.fragment,h),a=!1},d(h){B(e,h),h&&g(t),B(n,h),h&&g(r),B(o,h)}}}function e6(i){let e,t;return e=new Ji({props:{$$slots:{default:[JP]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,[s]){const l={};s&8255&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function t6(i,e,t){let{icon:n}=e,{name:s}=e,{id:l}=e,{placeholder:r=void 0}=e,o=n,a=!1;const f=()=>{!a||t(0,n=o)},u=m=>T_(m),c=()=>t(5,a=!0);function h(m){n=m,t(0,n)}function d(m){o=m,t(4,o)}return i.$$set=m=>{"icon"in m&&t(0,n=m.icon),"name"in m&&t(1,s=m.name),"id"in m&&t(2,l=m.id),"placeholder"in m&&t(3,r=m.placeholder)},i.$$.update=()=>{i.$$.dirty&16&&f()},[n,s,l,r,o,a,u,c,h,d]}class n6 extends ke{constructor(e){super();ye(this,e,t6,e6,we,{icon:0,name:1,id:2,placeholder:3})}}function i6(i){let e,t;return{c(){e=M("div"),t=Z("No card is selected!"),this.h()},l(n){e=I(n,"DIV",{class:!0});var s=V(e);t=K(s,"No card is selected!"),s.forEach(g),this.h()},h(){z(e,"class","empty-editor svelte-1eme7ls")},m(n,s){w(n,e,s),F(e,t)},p:ie,i:ie,o:ie,d(n){n&&g(e)}}}function s6(i){let e,t;return e=new hp({props:{$$slots:{default:[N6]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s&67108879&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function r6(i){let e;return{c(){e=Z("Name")},l(t){e=K(t,"Name")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function l6(i){let e,t,n,s,l,r;e=new Rn({props:{class:"col-sm-3 col-form-label",for:"name",$$slots:{default:[r6]},$$scope:{ctx:i}}});function o(f){i[7](f)}let a={type:"text",name:"name",id:"name",placeholder:i[2]&&i[0].title===null?"*":"Name"};return i[0].title!==void 0&&(a.value=i[0].title),s=new Ot({props:a}),ue.push(()=>He(s,"value",o)),{c(){N(e.$$.fragment),t=U(),n=M("div"),N(s.$$.fragment),this.h()},l(f){Q(e.$$.fragment,f),t=q(f),n=I(f,"DIV",{class:!0});var u=V(n);Q(s.$$.fragment,u),u.forEach(g),this.h()},h(){z(n,"class","col")},m(f,u){L(e,f,u),w(f,t,u),w(f,n,u),L(s,n,null),r=!0},p(f,u){const c={};u&67108864&&(c.$$scope={dirty:u,ctx:f}),e.$set(c);const h={};u&5&&(h.placeholder=f[2]&&f[0].title===null?"*":"Name"),!l&&u&1&&(l=!0,h.value=f[0].title,Ue(()=>l=!1)),s.$set(h)},i(f){r||(_(e.$$.fragment,f),_(s.$$.fragment,f),r=!0)},o(f){k(e.$$.fragment,f),k(s.$$.fragment,f),r=!1},d(f){B(e,f),f&&g(t),f&&g(n),B(s)}}}function o6(i){let e;return{c(){e=Z("Count")},l(t){e=K(t,"Count")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function a6(i){let e,t,n,s,l,r;e=new Rn({props:{class:"col-sm-3 col-form-label",for:"count",$$slots:{default:[o6]},$$scope:{ctx:i}}});function o(f){i[8](f)}let a={type:"number",name:"count",id:"count",placeholder:i[2]&&i[0].count===null?"*":"Count"};return i[0].count!==void 0&&(a.value=i[0].count),s=new Ot({props:a}),ue.push(()=>He(s,"value",o)),{c(){N(e.$$.fragment),t=U(),n=M("div"),N(s.$$.fragment),this.h()},l(f){Q(e.$$.fragment,f),t=q(f),n=I(f,"DIV",{class:!0});var u=V(n);Q(s.$$.fragment,u),u.forEach(g),this.h()},h(){z(n,"class","col")},m(f,u){L(e,f,u),w(f,t,u),w(f,n,u),L(s,n,null),r=!0},p(f,u){const c={};u&67108864&&(c.$$scope={dirty:u,ctx:f}),e.$set(c);const h={};u&5&&(h.placeholder=f[2]&&f[0].count===null?"*":"Count"),!l&&u&1&&(l=!0,h.value=f[0].count,Ue(()=>l=!1)),s.$set(h)},i(f){r||(_(e.$$.fragment,f),_(s.$$.fragment,f),r=!0)},o(f){k(e.$$.fragment,f),k(s.$$.fragment,f),r=!1},d(f){B(e,f),f&&g(t),f&&g(n),B(s)}}}function f6(i){let e;return{c(){e=Z("Icon (Back)")},l(t){e=K(t,"Icon (Back)")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function u6(i){let e,t,n,s,l,r;e=new Rn({props:{class:"col-sm-3 col-form-label",for:"icon_back",$$slots:{default:[f6]},$$scope:{ctx:i}}});function o(f){i[9](f)}let a={id:"icon_back",name:"icon_back",placeholder:i[2]&&i[0].icon_back===null?"*":"Icon back"};return i[0].icon_back!==void 0&&(a.icon=i[0].icon_back),s=new n6({props:a}),ue.push(()=>He(s,"icon",o)),{c(){N(e.$$.fragment),t=U(),n=M("div"),N(s.$$.fragment),this.h()},l(f){Q(e.$$.fragment,f),t=q(f),n=I(f,"DIV",{class:!0});var u=V(n);Q(s.$$.fragment,u),u.forEach(g),this.h()},h(){z(n,"class","col")},m(f,u){L(e,f,u),w(f,t,u),w(f,n,u),L(s,n,null),r=!0},p(f,u){const c={};u&67108864&&(c.$$scope={dirty:u,ctx:f}),e.$set(c);const h={};u&5&&(h.placeholder=f[2]&&f[0].icon_back===null?"*":"Icon back"),!l&&u&1&&(l=!0,h.icon=f[0].icon_back,Ue(()=>l=!1)),s.$set(h)},i(f){r||(_(e.$$.fragment,f),_(s.$$.fragment,f),r=!0)},o(f){k(e.$$.fragment,f),k(s.$$.fragment,f),r=!1},d(f){B(e,f),f&&g(t),f&&g(n),B(s)}}}function c6(i){let e;return{c(){e=Z("Text (Back)")},l(t){e=K(t,"Text (Back)")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function h6(i){let e,t,n,s,l,r;e=new Rn({props:{class:"col-sm-3 col-form-label",for:"text_back",$$slots:{default:[c6]},$$scope:{ctx:i}}});function o(f){i[10](f)}let a={type:"text",name:"text_back",id:"text_back",placeholder:i[2]&&i[0].text_back===null?"*":"Text to show on back, such as spell lvl"};return i[0].text_back!==void 0&&(a.value=i[0].text_back),s=new Ot({props:a}),ue.push(()=>He(s,"value",o)),{c(){N(e.$$.fragment),t=U(),n=M("div"),N(s.$$.fragment),this.h()},l(f){Q(e.$$.fragment,f),t=q(f),n=I(f,"DIV",{class:!0});var u=V(n);Q(s.$$.fragment,u),u.forEach(g),this.h()},h(){z(n,"class","col")},m(f,u){L(e,f,u),w(f,t,u),w(f,n,u),L(s,n,null),r=!0},p(f,u){const c={};u&67108864&&(c.$$scope={dirty:u,ctx:f}),e.$set(c);const h={};u&5&&(h.placeholder=f[2]&&f[0].text_back===null?"*":"Text to show on back, such as spell lvl"),!l&&u&1&&(l=!0,h.value=f[0].text_back,Ue(()=>l=!1)),s.$set(h)},i(f){r||(_(e.$$.fragment,f),_(s.$$.fragment,f),r=!0)},o(f){k(e.$$.fragment,f),k(s.$$.fragment,f),r=!1},d(f){B(e,f),f&&g(t),f&&g(n),B(s)}}}function d6(i){let e;return{c(){e=Z("Color")},l(t){e=K(t,"Color")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function m6(i){let e,t,n;return{c(){e=M("input"),this.h()},l(s){e=I(s,"INPUT",{class:!0,type:!0,name:!0,id:!0}),this.h()},h(){z(e,"class","color-input rounded svelte-1eme7ls"),z(e,"type","color"),z(e,"name","color"),z(e,"id","color-box")},m(s,l){w(s,e,l),je(e,i[0].color),t||(n=[E(e,"input",i[11]),E(e,"change",i[12])],t=!0)},p(s,l){l&1&&je(e,s[0].color)},d(s){s&&g(e),t=!1,Ge(n)}}}function p6(i){let e,t,n;function s(r){i[15](r)}let l={};return i[0].color!==void 0&&(l.value=i[0].color),e=new sP({props:l}),ue.push(()=>He(e,"value",s)),{c(){N(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,o){L(e,r,o),n=!0},p(r,o){const a={};!t&&o&1&&(t=!0,a.value=r[0].color,Ue(()=>t=!1)),e.$set(a)},i(r){n||(_(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){B(e,r)}}}function g6(i){let e,t,n,s,l,r,o;e=new yn({props:{$$slots:{default:[m6]},$$scope:{ctx:i}}});function a(u){i[13](u)}let f={type:"text",name:"color",id:"color-text",placeholder:"Color"};return i[0].color!==void 0&&(f.value=i[0].color),n=new Ot({props:f}),ue.push(()=>He(n,"value",a)),n.$on("change",i[14]),r=new yn({props:{$$slots:{default:[p6]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment),t=U(),N(n.$$.fragment),l=U(),N(r.$$.fragment)},l(u){Q(e.$$.fragment,u),t=q(u),Q(n.$$.fragment,u),l=q(u),Q(r.$$.fragment,u)},m(u,c){L(e,u,c),w(u,t,c),L(n,u,c),w(u,l,c),L(r,u,c),o=!0},p(u,c){const h={};c&67108865&&(h.$$scope={dirty:c,ctx:u}),e.$set(h);const d={};!s&&c&1&&(s=!0,d.value=u[0].color,Ue(()=>s=!1)),n.$set(d);const m={};c&67108865&&(m.$$scope={dirty:c,ctx:u}),r.$set(m)},i(u){o||(_(e.$$.fragment,u),_(n.$$.fragment,u),_(r.$$.fragment,u),o=!0)},o(u){k(e.$$.fragment,u),k(n.$$.fragment,u),k(r.$$.fragment,u),o=!1},d(u){B(e,u),u&&g(t),B(n,u),u&&g(l),B(r,u)}}}function b6(i){let e,t,n,s,l;return e=new Rn({props:{class:"col-sm-3 col-form-label",for:"color-text",disabled:!0,$$slots:{default:[d6]},$$scope:{ctx:i}}}),s=new Ji({props:{$$slots:{default:[g6]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment),t=U(),n=M("div"),N(s.$$.fragment),this.h()},l(r){Q(e.$$.fragment,r),t=q(r),n=I(r,"DIV",{class:!0});var o=V(n);Q(s.$$.fragment,o),o.forEach(g),this.h()},h(){z(n,"class","col")},m(r,o){L(e,r,o),w(r,t,o),w(r,n,o),L(s,n,null),l=!0},p(r,o){const a={};o&67108864&&(a.$$scope={dirty:o,ctx:r}),e.$set(a);const f={};o&67108865&&(f.$$scope={dirty:o,ctx:r}),s.$set(f)},i(r){l||(_(e.$$.fragment,r),_(s.$$.fragment,r),l=!0)},o(r){k(e.$$.fragment,r),k(s.$$.fragment,r),l=!1},d(r){B(e,r),r&&g(t),r&&g(n),B(s)}}}function _6(i){let e;return{c(){e=Z("Title size")},l(t){e=K(t,"Title size")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function v6(i){let e,t,n,s,l,r;e=new Rn({props:{class:"col-sm-3 col-form-label",for:"title-size",$$slots:{default:[_6]},$$scope:{ctx:i}}});function o(f){i[16](f)}let a={type:"text",name:"title-size",id:"title-size",placeholder:i[2]&&i[0].layout.title_font_size===null?"*":Xl.TITLE_FONT_SIZE};return i[0].layout.title_font_size!==void 0&&(a.value=i[0].layout.title_font_size),s=new Ot({props:a}),ue.push(()=>He(s,"value",o)),{c(){N(e.$$.fragment),t=U(),n=M("div"),N(s.$$.fragment),this.h()},l(f){Q(e.$$.fragment,f),t=q(f),n=I(f,"DIV",{class:!0});var u=V(n);Q(s.$$.fragment,u),u.forEach(g),this.h()},h(){z(n,"class","col")},m(f,u){L(e,f,u),w(f,t,u),w(f,n,u),L(s,n,null),r=!0},p(f,u){const c={};u&67108864&&(c.$$scope={dirty:u,ctx:f}),e.$set(c);const h={};u&5&&(h.placeholder=f[2]&&f[0].layout.title_font_size===null?"*":Xl.TITLE_FONT_SIZE),!l&&u&1&&(l=!0,h.value=f[0].layout.title_font_size,Ue(()=>l=!1)),s.$set(h)},i(f){r||(_(e.$$.fragment,f),_(s.$$.fragment,f),r=!0)},o(f){k(e.$$.fragment,f),k(s.$$.fragment,f),r=!1},d(f){B(e,f),f&&g(t),f&&g(n),B(s)}}}function k6(i){let e;return{c(){e=Z("Text font size")},l(t){e=K(t,"Text font size")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function y6(i){let e,t,n,s,l,r;e=new Rn({props:{class:"col-sm-3 col-form-label",for:"text-font-size",$$slots:{default:[k6]},$$scope:{ctx:i}}});function o(f){i[17](f)}let a={type:"text",name:"text-font-size",id:"text-font-size",placeholder:i[2]&&i[0].layout.text_font_size===null?"*":Xl.TEXT_FONT_SIZE};return i[0].layout.text_font_size!==void 0&&(a.value=i[0].layout.text_font_size),s=new Ot({props:a}),ue.push(()=>He(s,"value",o)),{c(){N(e.$$.fragment),t=U(),n=M("div"),N(s.$$.fragment),this.h()},l(f){Q(e.$$.fragment,f),t=q(f),n=I(f,"DIV",{class:!0});var u=V(n);Q(s.$$.fragment,u),u.forEach(g),this.h()},h(){z(n,"class","col")},m(f,u){L(e,f,u),w(f,t,u),w(f,n,u),L(s,n,null),r=!0},p(f,u){const c={};u&67108864&&(c.$$scope={dirty:u,ctx:f}),e.$set(c);const h={};u&5&&(h.placeholder=f[2]&&f[0].layout.text_font_size===null?"*":Xl.TEXT_FONT_SIZE),!l&&u&1&&(l=!0,h.value=f[0].layout.text_font_size,Ue(()=>l=!1)),s.$set(h)},i(f){r||(_(e.$$.fragment,f),_(s.$$.fragment,f),r=!0)},o(f){k(e.$$.fragment,f),k(s.$$.fragment,f),r=!1},d(f){B(e,f),f&&g(t),f&&g(n),B(s)}}}function Wm(i){let e,t;return e=new tn({props:{row:!0,$$slots:{default:[S6]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s&67108865&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function w6(i){let e,t,n,s,l,r;return{c(){e=M("u"),t=Z("Experimental"),n=Z(` Here you can inject custom CSS (may require
                      `),s=M("code"),l=Z("!important"),r=Z(`
                      on some properties)`)},l(o){e=I(o,"U",{});var a=V(e);t=K(a,"Experimental"),a.forEach(g),n=K(o,` Here you can inject custom CSS (may require
                      `),s=I(o,"CODE",{});var f=V(s);l=K(f,"!important"),f.forEach(g),r=K(o,`
                      on some properties)`)},m(o,a){w(o,e,a),F(e,t),w(o,n,a),w(o,s,a),F(s,l),w(o,r,a)},d(o){o&&g(e),o&&g(n),o&&g(s),o&&g(r)}}}function O6(i){let e,t,n;return t=new Lr({props:{id:"custom-css-hint",$$slots:{default:[w6]},$$scope:{ctx:i}}}),{c(){e=Z(`Custom CSS
                    `),N(t.$$.fragment)},l(s){e=K(s,`Custom CSS
                    `),Q(t.$$.fragment,s)},m(s,l){w(s,e,l),L(t,s,l),n=!0},p(s,l){const r={};l&67108864&&(r.$$scope={dirty:l,ctx:s}),t.$set(r)},i(s){n||(_(t.$$.fragment,s),n=!0)},o(s){k(t.$$.fragment,s),n=!1},d(s){s&&g(e),B(t,s)}}}function S6(i){let e,t,n,s,l,r;e=new Rn({props:{class:"col-sm-3 col-form-label",for:"custom-css",$$slots:{default:[O6]},$$scope:{ctx:i}}});function o(f){i[18](f)}let a={id:"custom-css"};return i[0].layout.custom_css!==void 0&&(a.css=i[0].layout.custom_css),s=new EP({props:a}),ue.push(()=>He(s,"css",o)),{c(){N(e.$$.fragment),t=U(),n=M("div"),N(s.$$.fragment),this.h()},l(f){Q(e.$$.fragment,f),t=q(f),n=I(f,"DIV",{class:!0});var u=V(n);Q(s.$$.fragment,u),u.forEach(g),this.h()},h(){z(n,"class","col")},m(f,u){L(e,f,u),w(f,t,u),w(f,n,u),L(s,n,null),r=!0},p(f,u){const c={};u&67108864&&(c.$$scope={dirty:u,ctx:f}),e.$set(c);const h={};!l&&u&1&&(l=!0,h.css=f[0].layout.custom_css,Ue(()=>l=!1)),s.$set(h)},i(f){r||(_(e.$$.fragment,f),_(s.$$.fragment,f),r=!0)},o(f){k(e.$$.fragment,f),k(s.$$.fragment,f),r=!1},d(f){B(e,f),f&&g(t),f&&g(n),B(s)}}}function C6(i){let e,t,n,s,l,r;e=new tn({props:{row:!0,$$slots:{default:[v6]},$$scope:{ctx:i}}}),n=new tn({props:{row:!0,$$slots:{default:[y6]},$$scope:{ctx:i}}});let o=!i[2]&&Wm(i);return{c(){N(e.$$.fragment),t=U(),N(n.$$.fragment),s=U(),o&&o.c(),l=re()},l(a){Q(e.$$.fragment,a),t=q(a),Q(n.$$.fragment,a),s=q(a),o&&o.l(a),l=re()},m(a,f){L(e,a,f),w(a,t,f),L(n,a,f),w(a,s,f),o&&o.m(a,f),w(a,l,f),r=!0},p(a,f){const u={};f&67108869&&(u.$$scope={dirty:f,ctx:a}),e.$set(u);const c={};f&67108869&&(c.$$scope={dirty:f,ctx:a}),n.$set(c),a[2]?o&&(ge(),k(o,1,1,()=>{o=null}),be()):o?(o.p(a,f),f&4&&_(o,1)):(o=Wm(a),o.c(),_(o,1),o.m(l.parentNode,l))},i(a){r||(_(e.$$.fragment,a),_(n.$$.fragment,a),_(o),r=!0)},o(a){k(e.$$.fragment,a),k(n.$$.fragment,a),k(o),r=!1},d(a){B(e,a),a&&g(t),B(n,a),a&&g(s),o&&o.d(a),a&&g(l)}}}function A6(i){let e,t;return e=new Sr({props:{active:!0,header:"Layout",$$slots:{default:[C6]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s&67108869&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function E6(i){let e,t,n;return t=new su({props:{stayOpen:!0,$$slots:{default:[A6]},$$scope:{ctx:i}}}),{c(){e=M("div"),N(t.$$.fragment),this.h()},l(s){e=I(s,"DIV",{class:!0});var l=V(e);Q(t.$$.fragment,l),l.forEach(g),this.h()},h(){z(e,"class","form-accordion svelte-1eme7ls")},m(s,l){w(s,e,l),L(t,e,null),n=!0},p(s,l){const r={};l&67108869&&(r.$$scope={dirty:l,ctx:s}),t.$set(r)},i(s){n||(_(t.$$.fragment,s),n=!0)},o(s){k(t.$$.fragment,s),n=!1},d(s){s&&g(e),B(t)}}}function D6(i){let e;return{c(){e=Z("Contents")},l(t){e=K(t,"Contents")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function T6(i){let e,t,n,s,l;return{c(){e=M("option"),t=Z("Textfield mode"),n=U(),s=M("option"),l=Z("Individual mode"),this.h()},l(r){e=I(r,"OPTION",{});var o=V(e);t=K(o,"Textfield mode"),o.forEach(g),n=q(r),s=I(r,"OPTION",{});var a=V(s);l=K(a,"Individual mode"),a.forEach(g),this.h()},h(){e.__value="textfield",e.value=e.__value,s.__value="individual",s.value=s.__value},m(r,o){w(r,e,o),F(e,t),w(r,n,o),w(r,s,o),F(s,l)},d(r){r&&g(e),r&&g(n),r&&g(s)}}}function P6(i){let e,t,n,s,l,r;e=new Rn({props:{class:"col-sm-3 col-form-label",for:"content-editor-type",$$slots:{default:[D6]},$$scope:{ctx:i}}});function o(f){i[19](f)}let a={type:"select",id:"content-editor-type",name:"content-editor-type",$$slots:{default:[T6]},$$scope:{ctx:i}};return i[3]!==void 0&&(a.value=i[3]),s=new Ot({props:a}),ue.push(()=>He(s,"value",o)),{c(){N(e.$$.fragment),t=U(),n=M("div"),N(s.$$.fragment),this.h()},l(f){Q(e.$$.fragment,f),t=q(f),n=I(f,"DIV",{class:!0});var u=V(n);Q(s.$$.fragment,u),u.forEach(g),this.h()},h(){z(n,"class","col")},m(f,u){L(e,f,u),w(f,t,u),w(f,n,u),L(s,n,null),r=!0},p(f,u){const c={};u&67108864&&(c.$$scope={dirty:u,ctx:f}),e.$set(c);const h={};u&67108864&&(h.$$scope={dirty:u,ctx:f}),!l&&u&8&&(l=!0,h.value=f[3],Ue(()=>l=!1)),s.$set(h)},i(f){r||(_(e.$$.fragment,f),_(s.$$.fragment,f),r=!0)},o(f){k(e.$$.fragment,f),k(s.$$.fragment,f),r=!1},d(f){B(e,f),f&&g(t),f&&g(n),B(s)}}}function jm(i){let e,t;return e=new tn({props:{row:!0,$$slots:{default:[R6]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s&67108875&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function M6(i){let e,t,n,s;function l(o){i[21](o)}let r={type:"textarea",class:"content-editor-textarea"};return i[1]!==void 0&&(r.value=i[1]),t=new Ot({props:r}),ue.push(()=>He(t,"value",l)),{c(){e=M("div"),N(t.$$.fragment)},l(o){e=I(o,"DIV",{});var a=V(e);Q(t.$$.fragment,a),a.forEach(g)},m(o,a){w(o,e,a),L(t,e,null),s=!0},p(o,a){const f={};!n&&a&2&&(n=!0,f.value=o[1],Ue(()=>n=!1)),t.$set(f)},i(o){s||(_(t.$$.fragment,o),s=!0)},o(o){k(t.$$.fragment,o),s=!1},d(o){o&&g(e),B(t)}}}function I6(i){let e,t,n;function s(r){i[20](r)}let l={};return i[0].contents!==void 0&&(l.contents=i[0].contents),e=new YT({props:l}),ue.push(()=>He(e,"contents",s)),{c(){N(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,o){L(e,r,o),n=!0},p(r,o){const a={};!t&&o&1&&(t=!0,a.contents=r[0].contents,Ue(()=>t=!1)),e.$set(a)},i(r){n||(_(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){B(e,r)}}}function R6(i){let e,t,n,s;const l=[I6,M6],r=[];function o(a,f){return a[3]==="individual"?0:1}return e=o(i),t=r[e]=l[e](i),{c(){t.c(),n=re()},l(a){t.l(a),n=re()},m(a,f){r[e].m(a,f),w(a,n,f),s=!0},p(a,f){let u=e;e=o(a),e===u?r[e].p(a,f):(ge(),k(r[u],1,1,()=>{r[u]=null}),be(),t=r[e],t?t.p(a,f):(t=r[e]=l[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){s||(_(t),s=!0)},o(a){k(t),s=!1},d(a){r[e].d(a),a&&g(n)}}}function N6(i){let e,t,n,s,l,r,o,a,f,u,c,h,d,m,p,b;e=new tn({props:{row:!0,$$slots:{default:[l6]},$$scope:{ctx:i}}}),n=new tn({props:{row:!0,$$slots:{default:[a6]},$$scope:{ctx:i}}}),l=new tn({props:{row:!0,$$slots:{default:[u6]},$$scope:{ctx:i}}}),o=new tn({props:{row:!0,$$slots:{default:[h6]},$$scope:{ctx:i}}}),f=new tn({props:{row:!0,$$slots:{default:[b6]},$$scope:{ctx:i}}}),c=new tn({props:{row:!0,$$slots:{default:[E6]},$$scope:{ctx:i}}}),d=new tn({props:{row:!0,$$slots:{default:[P6]},$$scope:{ctx:i}}});let y=!i[2]&&i[0].contents&&jm(i);return{c(){N(e.$$.fragment),t=U(),N(n.$$.fragment),s=U(),N(l.$$.fragment),r=U(),N(o.$$.fragment),a=U(),N(f.$$.fragment),u=U(),N(c.$$.fragment),h=U(),N(d.$$.fragment),m=U(),y&&y.c(),p=re()},l(O){Q(e.$$.fragment,O),t=q(O),Q(n.$$.fragment,O),s=q(O),Q(l.$$.fragment,O),r=q(O),Q(o.$$.fragment,O),a=q(O),Q(f.$$.fragment,O),u=q(O),Q(c.$$.fragment,O),h=q(O),Q(d.$$.fragment,O),m=q(O),y&&y.l(O),p=re()},m(O,C){L(e,O,C),w(O,t,C),L(n,O,C),w(O,s,C),L(l,O,C),w(O,r,C),L(o,O,C),w(O,a,C),L(f,O,C),w(O,u,C),L(c,O,C),w(O,h,C),L(d,O,C),w(O,m,C),y&&y.m(O,C),w(O,p,C),b=!0},p(O,C){const D={};C&67108869&&(D.$$scope={dirty:C,ctx:O}),e.$set(D);const A={};C&67108869&&(A.$$scope={dirty:C,ctx:O}),n.$set(A);const P={};C&67108869&&(P.$$scope={dirty:C,ctx:O}),l.$set(P);const S={};C&67108869&&(S.$$scope={dirty:C,ctx:O}),o.$set(S);const H={};C&67108865&&(H.$$scope={dirty:C,ctx:O}),f.$set(H);const X={};C&67108869&&(X.$$scope={dirty:C,ctx:O}),c.$set(X);const $={};C&67108872&&($.$$scope={dirty:C,ctx:O}),d.$set($),!O[2]&&O[0].contents?y?(y.p(O,C),C&5&&_(y,1)):(y=jm(O),y.c(),_(y,1),y.m(p.parentNode,p)):y&&(ge(),k(y,1,1,()=>{y=null}),be())},i(O){b||(_(e.$$.fragment,O),_(n.$$.fragment,O),_(l.$$.fragment,O),_(o.$$.fragment,O),_(f.$$.fragment,O),_(c.$$.fragment,O),_(d.$$.fragment,O),_(y),b=!0)},o(O){k(e.$$.fragment,O),k(n.$$.fragment,O),k(l.$$.fragment,O),k(o.$$.fragment,O),k(f.$$.fragment,O),k(c.$$.fragment,O),k(d.$$.fragment,O),k(y),b=!1},d(O){B(e,O),O&&g(t),B(n,O),O&&g(s),B(l,O),O&&g(r),B(o,O),O&&g(a),B(f,O),O&&g(u),B(c,O),O&&g(h),B(d,O),O&&g(m),y&&y.d(O),O&&g(p)}}}function L6(i){let e,t,n,s,l,r,o;const a=[s6,i6],f=[];function u(c,h){return c[0]?0:1}return l=u(i),r=f[l]=a[l](i),{c(){e=M("div"),t=M("h4"),n=Z("Editor"),s=U(),r.c()},l(c){e=I(c,"DIV",{});var h=V(e);t=I(h,"H4",{});var d=V(t);n=K(d,"Editor"),d.forEach(g),s=q(h),r.l(h),h.forEach(g)},m(c,h){w(c,e,h),F(e,t),F(t,n),F(e,s),f[l].m(e,null),o=!0},p(c,[h]){let d=l;l=u(c),l===d?f[l].p(c,h):(ge(),k(f[d],1,1,()=>{f[d]=null}),be(),r=f[l],r?r.p(c,h):(r=f[l]=a[l](c),r.c()),_(r,1),r.m(e,null))},i(c){o||(_(r),o=!0)},o(c){k(r),o=!1},d(c){c&&g(e),f[l].d()}}}function B6(i,e,t){let n,s,l,r;Et(i,cs,R=>t(4,s=R)),Et(i,Cn,R=>t(5,l=R)),Et(i,nn,R=>t(6,r=R));let o=r[l],a="individual",f=ba(o==null?void 0:o.contents);const u=()=>{if(n){const R=_p(o);nn.set(r.map((te,Se)=>s.has(Se)?I4(!0,te,R):te));return}nn.setCard(l,o),a!=="textfield"&&t(1,f=ba(o==null?void 0:o.contents))},c=()=>{if(l<0){t(0,o=void 0);return}t(0,o=r[l]),t(1,f=ba(o==null?void 0:o.contents))},h=()=>{var R;try{t(0,o.contents=(R=bp(f==null?void 0:f.split(`
`)))!=null?R:o.contents,o)}catch{}},d=()=>{if(n){t(0,o=Bw(r.filter((R,te)=>s.has(te))));return}t(0,o=r[l])};function m(R){i.$$.not_equal(o.title,R)&&(o.title=R,t(0,o))}function p(R){i.$$.not_equal(o.count,R)&&(o.count=R,t(0,o))}function b(R){i.$$.not_equal(o.icon_back,R)&&(o.icon_back=R,t(0,o))}function y(R){i.$$.not_equal(o.text_back,R)&&(o.text_back=R,t(0,o))}function O(){o.color=this.value,t(0,o)}const C=()=>Gl.add(o.color);function D(R){i.$$.not_equal(o.color,R)&&(o.color=R,t(0,o))}const A=()=>Gl.add(o.color);function P(R){i.$$.not_equal(o.color,R)&&(o.color=R,t(0,o))}function S(R){i.$$.not_equal(o.layout.title_font_size,R)&&(o.layout.title_font_size=R,t(0,o))}function H(R){i.$$.not_equal(o.layout.text_font_size,R)&&(o.layout.text_font_size=R,t(0,o))}function X(R){i.$$.not_equal(o.layout.custom_css,R)&&(o.layout.custom_css=R,t(0,o))}function $(R){a=R,t(3,a)}function ne(R){i.$$.not_equal(o.contents,R)&&(o.contents=R,t(0,o))}function j(R){f=R,t(1,f)}return i.$$.update=()=>{i.$$.dirty&16&&t(2,n=s.size>1),i.$$.dirty&2&&h(),i.$$.dirty&96&&c(),i.$$.dirty&1&&o&&u(),i.$$.dirty&20&&n!==void 0&&d()},[o,f,n,a,s,l,r,m,p,b,y,O,C,D,A,P,S,H,X,$,ne,j]}class Q6 extends ke{constructor(e){super();ye(this,e,B6,L6,we,{})}}function Hm(i){let e,t,n,s,l,r,o,a,f,u,c,h;return t=new Ji({props:{$$slots:{default:[H6]},$$scope:{ctx:i}}}),o=new P_({props:{card:i[0]}}),c=new M_({props:{card:i[0]}}),{c(){e=M("div"),N(t.$$.fragment),n=U(),s=M("div"),l=M("div"),r=M("div"),N(o.$$.fragment),a=U(),f=M("div"),u=M("div"),N(c.$$.fragment),this.h()},l(d){e=I(d,"DIV",{class:!0});var m=V(e);Q(t.$$.fragment,m),m.forEach(g),n=q(d),s=I(d,"DIV",{class:!0});var p=V(s);l=I(p,"DIV",{style:!0});var b=V(l);r=I(b,"DIV",{style:!0});var y=V(r);Q(o.$$.fragment,y),y.forEach(g),b.forEach(g),a=q(p),f=I(p,"DIV",{style:!0});var O=V(f);u=I(O,"DIV",{style:!0});var C=V(u);Q(c.$$.fragment,C),C.forEach(g),O.forEach(g),p.forEach(g),this.h()},h(){z(e,"class","zoom-input svelte-1cu8ttq"),Ht(r,"transform","scale("+i[1].previewZoom/100+")"),Ht(r,"transform-origin","top left"),Ht(l,"width",i[2].cardSize.width*(i[1].previewZoom/100)+"mm"),Ht(l,"height",i[2].cardSize.height*(i[1].previewZoom/100)+"mm"),Ht(u,"transform","scale("+i[1].previewZoom/100+")"),Ht(u,"transform-origin","top left"),Ht(f,"width",i[2].cardSize.width*(i[1].previewZoom/100)+"mm"),Ht(f,"height",i[2].cardSize.height*(i[1].previewZoom/100)+"mm"),z(s,"class","current-card svelte-1cu8ttq")},m(d,m){w(d,e,m),L(t,e,null),w(d,n,m),w(d,s,m),F(s,l),F(l,r),L(o,r,null),F(s,a),F(s,f),F(f,u),L(c,u,null),h=!0},p(d,m){const p={};m&258&&(p.$$scope={dirty:m,ctx:d}),t.$set(p);const b={};m&1&&(b.card=d[0]),o.$set(b),(!h||m&2)&&Ht(r,"transform","scale("+d[1].previewZoom/100+")"),(!h||m&6)&&Ht(l,"width",d[2].cardSize.width*(d[1].previewZoom/100)+"mm"),(!h||m&6)&&Ht(l,"height",d[2].cardSize.height*(d[1].previewZoom/100)+"mm");const y={};m&1&&(y.card=d[0]),c.$set(y),(!h||m&2)&&Ht(u,"transform","scale("+d[1].previewZoom/100+")"),(!h||m&6)&&Ht(f,"width",d[2].cardSize.width*(d[1].previewZoom/100)+"mm"),(!h||m&6)&&Ht(f,"height",d[2].cardSize.height*(d[1].previewZoom/100)+"mm")},i(d){h||(_(t.$$.fragment,d),_(o.$$.fragment,d),_(c.$$.fragment,d),h=!0)},o(d){k(t.$$.fragment,d),k(o.$$.fragment,d),k(c.$$.fragment,d),h=!1},d(d){d&&g(e),B(t),d&&g(n),d&&g(s),B(o),B(c)}}}function z6(i){let e,t;return e=new Rt({props:{name:"zoom-out"}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p:ie,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function V6(i){let e,t;return e=new ct({props:{color:"link",$$slots:{default:[z6]},$$scope:{ctx:i}}}),e.$on("click",i[5]),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s&256&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function F6(i){let e;return{c(){e=Z("%")},l(t){e=K(t,"%")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function W6(i){let e,t;return e=new Rt({props:{name:"zoom-in"}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p:ie,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function j6(i){let e,t;return e=new ct({props:{color:"link",$$slots:{default:[W6]},$$scope:{ctx:i}}}),e.$on("click",i[7]),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s&256&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function H6(i){let e,t,n,s,l,r,o,a,f;e=new yn({props:{class:"p-0",$$slots:{default:[V6]},$$scope:{ctx:i}}});function u(h){i[6](h)}let c={type:"number"};return i[1].previewZoom!==void 0&&(c.value=i[1].previewZoom),n=new Ot({props:c}),ue.push(()=>He(n,"value",u)),r=new yn({props:{$$slots:{default:[F6]},$$scope:{ctx:i}}}),a=new yn({props:{class:"p-0",$$slots:{default:[j6]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment),t=U(),N(n.$$.fragment),l=U(),N(r.$$.fragment),o=U(),N(a.$$.fragment)},l(h){Q(e.$$.fragment,h),t=q(h),Q(n.$$.fragment,h),l=q(h),Q(r.$$.fragment,h),o=q(h),Q(a.$$.fragment,h)},m(h,d){L(e,h,d),w(h,t,d),L(n,h,d),w(h,l,d),L(r,h,d),w(h,o,d),L(a,h,d),f=!0},p(h,d){const m={};d&258&&(m.$$scope={dirty:d,ctx:h}),e.$set(m);const p={};!s&&d&2&&(s=!0,p.value=h[1].previewZoom,Ue(()=>s=!1)),n.$set(p);const b={};d&256&&(b.$$scope={dirty:d,ctx:h}),r.$set(b);const y={};d&258&&(y.$$scope={dirty:d,ctx:h}),a.$set(y)},i(h){f||(_(e.$$.fragment,h),_(n.$$.fragment,h),_(r.$$.fragment,h),_(a.$$.fragment,h),f=!0)},o(h){k(e.$$.fragment,h),k(n.$$.fragment,h),k(r.$$.fragment,h),k(a.$$.fragment,h),f=!1},d(h){B(e,h),h&&g(t),B(n,h),h&&g(l),B(r,h),h&&g(o),B(a,h)}}}function U6(i){let e,t,n,s,l,r=i[0]&&Hm(i);return{c(){e=M("div"),t=M("h4"),n=Z("Preview"),s=U(),r&&r.c()},l(o){e=I(o,"DIV",{});var a=V(e);t=I(a,"H4",{});var f=V(t);n=K(f,"Preview"),f.forEach(g),s=q(a),r&&r.l(a),a.forEach(g)},m(o,a){w(o,e,a),F(e,t),F(t,n),F(e,s),r&&r.m(e,null),l=!0},p(o,[a]){o[0]?r?(r.p(o,a),a&1&&_(r,1)):(r=Hm(o),r.c(),_(r,1),r.m(e,null)):r&&(ge(),k(r,1,1,()=>{r=null}),be())},i(o){l||(_(r),l=!0)},o(o){k(r),l=!1},d(o){o&&g(e),r&&r.d()}}}function q6(i,e,t){let n,s,l,r,o;Et(i,Cn,c=>t(3,s=c)),Et(i,nn,c=>t(4,l=c)),Et(i,Qi,c=>t(1,r=c)),Et(i,hs,c=>t(2,o=c));const a=()=>cc(Qi,r.previewZoom-=10,r);function f(c){i.$$.not_equal(r.previewZoom,c)&&(r.previewZoom=c,Qi.set(r))}const u=()=>cc(Qi,r.previewZoom+=10,r);return i.$$.update=()=>{i.$$.dirty&24&&t(0,n=l[s])},[n,r,o,s,l,a,f,u]}class $6 extends ke{constructor(e){super();ye(this,e,q6,U6,we,{})}}function G6(i){let e,t,n,s,l,r,o,a,f,u,c,h,d,m,p;return d=new Rt({props:{name:"file-earmark-text"}}),{c(){e=M("p"),t=Z("RPG Card generator was made by Mathias Andresen, and is inspired by the project "),n=M("a"),s=Z("https://github.com/mephitrpg/rpg-cards"),l=Z(" which is a fork of "),r=M("a"),o=Z("https://github.com/crobi/rpg-cards"),a=Z("."),f=U(),u=M("p"),c=Z("See the "),h=M("a"),N(d.$$.fragment),m=Z(" Documentation"),this.h()},l(b){e=I(b,"P",{});var y=V(e);t=K(y,"RPG Card generator was made by Mathias Andresen, and is inspired by the project "),n=I(y,"A",{href:!0,rel:!0});var O=V(n);s=K(O,"https://github.com/mephitrpg/rpg-cards"),O.forEach(g),l=K(y," which is a fork of "),r=I(y,"A",{href:!0,rel:!0});var C=V(r);o=K(C,"https://github.com/crobi/rpg-cards"),C.forEach(g),a=K(y,"."),y.forEach(g),f=q(b),u=I(b,"P",{});var D=V(u);c=K(D,"See the "),h=I(D,"A",{href:!0});var A=V(h);Q(d.$$.fragment,A),m=K(A," Documentation"),A.forEach(g),D.forEach(g),this.h()},h(){z(n,"href","https://github.com/mephitrpg/rpg-cards"),z(n,"rel","nofollow"),z(r,"href","https://github.com/crobi/rpg-cards"),z(r,"rel","nofollow"),z(h,"href","/docs")},m(b,y){w(b,e,y),F(e,t),F(e,n),F(n,s),F(e,l),F(e,r),F(r,o),F(e,a),w(b,f,y),w(b,u,y),F(u,c),F(u,h),L(d,h,null),F(h,m),p=!0},p:ie,i(b){p||(_(d.$$.fragment,b),p=!0)},o(b){k(d.$$.fragment,b),p=!1},d(b){b&&g(e),b&&g(f),b&&g(u),B(d)}}}class X6 extends ke{constructor(e){super();ye(this,e,null,G6,we,{})}}function Z6(i){let e,t,n,s,l,r,o,a,f,u,c,h,d,m,p,b,y,O,C,D,A,P,S,H,X,$,ne,j,R,te,Se,Ce,ee,Ie,Ne,De,Je,We,Ze,Ye,et,st,se,rt,ht,Wt,ve,Oe,pt,dt,fe,ft,_e,Be,St,Ct,Jt,nt,Lt,Gt,en,lt,vt,jt,gt,bt,si,un;return{c(){e=M("h6"),t=Z("License"),n=U(),s=M("p"),l=Z("RPG Card Generator is provided under the terms of the MIT License."),r=U(),o=M("h6"),a=Z("SvelteKit"),f=U(),u=M("p"),c=Z("This project is implemented using "),h=M("a"),d=Z("SvelteKit"),m=Z("."),p=U(),b=M("h6"),y=Z("game-icons.net"),O=U(),C=M("p"),D=Z("Icons used in the project as well as the logo are created by various talented artists, and are provided under the terms of the CC BY 3.0 license. They can be found at "),A=M("a"),P=Z("https://game-icons.net/"),S=U(),H=M("h6"),X=Z("Sveltestrap"),$=U(),ne=M("p"),j=Z("UI is implemented using "),R=M("a"),te=Z("Sveltestrap"),Se=Z("."),Ce=U(),ee=M("h6"),Ie=Z("CodeMirror"),Ne=U(),De=M("p"),Je=Z("The JSON editor is implemented using "),We=M("a"),Ze=Z("CodeMirror"),Ye=Z("."),et=U(),st=M("h6"),se=Z("just"),rt=U(),ht=M("p"),Wt=Z("Thanks to "),ve=M("a"),Oe=Z("angus-c"),pt=Z(" for providing ready to use utility functions with "),dt=M("a"),fe=Z("just"),ft=U(),_e=M("h6"),Be=Z("svelte-dnd-action"),St=U(),Ct=M("p"),Jt=Z("Drag-and-drop functionality is implemented using "),nt=M("a"),Lt=Z("svelte-dnd-action"),Gt=U(),en=M("h6"),lt=Z("Others"),vt=U(),jt=M("p"),gt=Z(`Big thanks to every dependency of this project!
Not every dependency is listed above, but the whole list can be seen in the `),bt=M("a"),si=Z("package.json"),un=Z(" file."),this.h()},l(x){e=I(x,"H6",{id:!0});var ze=V(e);t=K(ze,"License"),ze.forEach(g),n=q(x),s=I(x,"P",{});var Ts=V(s);l=K(Ts,"RPG Card Generator is provided under the terms of the MIT License."),Ts.forEach(g),r=q(x),o=I(x,"H6",{id:!0});var wi=V(o);a=K(wi,"SvelteKit"),wi.forEach(g),f=q(x),u=I(x,"P",{});var Oi=V(u);c=K(Oi,"This project is implemented using "),h=I(Oi,"A",{href:!0,rel:!0});var Ps=V(h);d=K(Ps,"SvelteKit"),Ps.forEach(g),m=K(Oi,"."),Oi.forEach(g),p=q(x),b=I(x,"H6",{id:!0});var Ms=V(b);y=K(Ms,"game-icons.net"),Ms.forEach(g),O=q(x),C=I(x,"P",{});var Si=V(C);D=K(Si,"Icons used in the project as well as the logo are created by various talented artists, and are provided under the terms of the CC BY 3.0 license. They can be found at "),A=I(Si,"A",{href:!0,rel:!0});var Is=V(A);P=K(Is,"https://game-icons.net/"),Is.forEach(g),Si.forEach(g),S=q(x),H=I(x,"H6",{id:!0});var ri=V(H);X=K(ri,"Sveltestrap"),ri.forEach(g),$=q(x),ne=I(x,"P",{});var li=V(ne);j=K(li,"UI is implemented using "),R=I(li,"A",{href:!0,rel:!0});var Ci=V(R);te=K(Ci,"Sveltestrap"),Ci.forEach(g),Se=K(li,"."),li.forEach(g),Ce=q(x),ee=I(x,"H6",{id:!0});var is=V(ee);Ie=K(is,"CodeMirror"),is.forEach(g),Ne=q(x),De=I(x,"P",{});var oi=V(De);Je=K(oi,"The JSON editor is implemented using "),We=I(oi,"A",{href:!0,rel:!0});var ai=V(We);Ze=K(ai,"CodeMirror"),ai.forEach(g),Ye=K(oi,"."),oi.forEach(g),et=q(x),st=I(x,"H6",{id:!0});var ss=V(st);se=K(ss,"just"),ss.forEach(g),rt=q(x),ht=I(x,"P",{});var fi=V(ht);Wt=K(fi,"Thanks to "),ve=I(fi,"A",{href:!0,rel:!0});var Rs=V(ve);Oe=K(Rs,"angus-c"),Rs.forEach(g),pt=K(fi," for providing ready to use utility functions with "),dt=I(fi,"A",{href:!0,rel:!0});var Ns=V(dt);fe=K(Ns,"just"),Ns.forEach(g),fi.forEach(g),ft=q(x),_e=I(x,"H6",{id:!0});var Ls=V(_e);Be=K(Ls,"svelte-dnd-action"),Ls.forEach(g),St=q(x),Ct=I(x,"P",{});var rs=V(Ct);Jt=K(rs,"Drag-and-drop functionality is implemented using "),nt=I(rs,"A",{href:!0,rel:!0});var ls=V(nt);Lt=K(ls,"svelte-dnd-action"),ls.forEach(g),rs.forEach(g),Gt=q(x),en=I(x,"H6",{id:!0});var os=V(en);lt=K(os,"Others"),os.forEach(g),vt=q(x),jt=I(x,"P",{});var Ai=V(jt);gt=K(Ai,`Big thanks to every dependency of this project!
Not every dependency is listed above, but the whole list can be seen in the `),bt=I(Ai,"A",{href:!0,rel:!0});var Bs=V(bt);si=K(Bs,"package.json"),Bs.forEach(g),un=K(Ai," file."),Ai.forEach(g),this.h()},h(){z(e,"id","license"),z(o,"id","sveltekit"),z(h,"href","https://kit.svelte.dev/"),z(h,"rel","nofollow"),z(b,"id","game-iconsnet"),z(A,"href","https://game-icons.net/"),z(A,"rel","nofollow"),z(H,"id","sveltestrap"),z(R,"href","https://github.com/bestguy/sveltestrap"),z(R,"rel","nofollow"),z(ee,"id","codemirror"),z(We,"href","https://github.com/codemirror/codemirror.next/"),z(We,"rel","nofollow"),z(st,"id","just"),z(ve,"href","https://github.com/angus-c"),z(ve,"rel","nofollow"),z(dt,"href","https://github.com/angus-c/just"),z(dt,"rel","nofollow"),z(_e,"id","svelte-dnd-action"),z(nt,"href","https://github.com/isaacHagoel/svelte-dnd-action"),z(nt,"rel","nofollow"),z(en,"id","others"),z(bt,"href","https://github.com/mathiasandresen/rpg-cards/blob/main/package.json"),z(bt,"rel","nofollow")},m(x,ze){w(x,e,ze),F(e,t),w(x,n,ze),w(x,s,ze),F(s,l),w(x,r,ze),w(x,o,ze),F(o,a),w(x,f,ze),w(x,u,ze),F(u,c),F(u,h),F(h,d),F(u,m),w(x,p,ze),w(x,b,ze),F(b,y),w(x,O,ze),w(x,C,ze),F(C,D),F(C,A),F(A,P),w(x,S,ze),w(x,H,ze),F(H,X),w(x,$,ze),w(x,ne,ze),F(ne,j),F(ne,R),F(R,te),F(ne,Se),w(x,Ce,ze),w(x,ee,ze),F(ee,Ie),w(x,Ne,ze),w(x,De,ze),F(De,Je),F(De,We),F(We,Ze),F(De,Ye),w(x,et,ze),w(x,st,ze),F(st,se),w(x,rt,ze),w(x,ht,ze),F(ht,Wt),F(ht,ve),F(ve,Oe),F(ht,pt),F(ht,dt),F(dt,fe),w(x,ft,ze),w(x,_e,ze),F(_e,Be),w(x,St,ze),w(x,Ct,ze),F(Ct,Jt),F(Ct,nt),F(nt,Lt),w(x,Gt,ze),w(x,en,ze),F(en,lt),w(x,vt,ze),w(x,jt,ze),F(jt,gt),F(jt,bt),F(bt,si),F(jt,un)},p:ie,i:ie,o:ie,d(x){x&&g(e),x&&g(n),x&&g(s),x&&g(r),x&&g(o),x&&g(f),x&&g(u),x&&g(p),x&&g(b),x&&g(O),x&&g(C),x&&g(S),x&&g(H),x&&g($),x&&g(ne),x&&g(Ce),x&&g(ee),x&&g(Ne),x&&g(De),x&&g(et),x&&g(st),x&&g(rt),x&&g(ht),x&&g(ft),x&&g(_e),x&&g(St),x&&g(Ct),x&&g(Gt),x&&g(en),x&&g(vt),x&&g(jt)}}}class K6 extends ke{constructor(e){super();ye(this,e,null,Z6,we,{})}}function Y6(i){let e;return{c(){e=Z("RPG Card Generator")},l(t){e=K(t,"RPG Card Generator")},m(t,n){w(t,e,n)},d(t){t&&g(e)}}}function x6(i){let e,t;return e=new Rt({props:{name:"github",class:"navbar-icon"}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p:ie,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function J6(i){let e,t;return e=new mu({props:{href:"https://github.com/mathiasandresen/rpg-cards",$$slots:{default:[x6]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s&4&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function e8(i){let e,t;return e=new Rt({props:{name:"info-circle-fill",class:"navbar-icon"}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p:ie,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function t8(i){let e,t;return e=new mu({props:{$$slots:{default:[e8]},$$scope:{ctx:i}}}),e.$on("click",i[1]),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s&4&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function n8(i){let e,t,n,s,l;return t=new Ka({props:{$$slots:{default:[J6]},$$scope:{ctx:i}}}),s=new Ka({props:{$$slots:{default:[t8]},$$scope:{ctx:i}}}),{c(){e=M("div"),N(t.$$.fragment),n=U(),N(s.$$.fragment),this.h()},l(r){e=I(r,"DIV",{class:!0});var o=V(e);Q(t.$$.fragment,o),n=q(o),Q(s.$$.fragment,o),o.forEach(g),this.h()},h(){z(e,"class","nav-icons svelte-1lqqeds")},m(r,o){w(r,e,o),L(t,e,null),F(e,n),L(s,e,null),l=!0},p(r,o){const a={};o&4&&(a.$$scope={dirty:o,ctx:r}),t.$set(a);const f={};o&4&&(f.$$scope={dirty:o,ctx:r}),s.$set(f)},i(r){l||(_(t.$$.fragment,r),_(s.$$.fragment,r),l=!0)},o(r){k(t.$$.fragment,r),k(s.$$.fragment,r),l=!1},d(r){r&&g(e),B(t),B(s)}}}function i8(i){let e,t,n,s;return e=new B2({props:{href:"/",$$slots:{default:[Y6]},$$scope:{ctx:i}}}),n=new pp({props:{navbar:!0,$$slots:{default:[n8]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment),t=U(),N(n.$$.fragment)},l(l){Q(e.$$.fragment,l),t=q(l),Q(n.$$.fragment,l)},m(l,r){L(e,l,r),w(l,t,r),L(n,l,r),s=!0},p(l,r){const o={};r&4&&(o.$$scope={dirty:r,ctx:l}),e.$set(o);const a={};r&4&&(a.$$scope={dirty:r,ctx:l}),n.$set(a)},i(l){s||(_(e.$$.fragment,l),_(n.$$.fragment,l),s=!0)},o(l){k(e.$$.fragment,l),k(n.$$.fragment,l),s=!1},d(l){B(e,l),l&&g(t),B(n,l)}}}function s8(i){let e,t;return e=new K6({}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function r8(i){let e,t;return e=new Sr({props:{header:"Thanks and licenses",$$slots:{default:[s8]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s&4&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function l8(i){let e,t,n,s,l;return t=new X6({}),s=new su({props:{flush:!0,$$slots:{default:[r8]},$$scope:{ctx:i}}}),{c(){e=M("div"),N(t.$$.fragment),n=U(),N(s.$$.fragment),this.h()},l(r){e=I(r,"DIV",{class:!0});var o=V(e);Q(t.$$.fragment,o),o.forEach(g),n=q(r),Q(s.$$.fragment,r),this.h()},h(){z(e,"class","info-modal-text svelte-1lqqeds")},m(r,o){w(r,e,o),L(t,e,null),w(r,n,o),L(s,r,o),l=!0},p(r,o){const a={};o&4&&(a.$$scope={dirty:o,ctx:r}),s.$set(a)},i(r){l||(_(t.$$.fragment,r),_(s.$$.fragment,r),l=!0)},o(r){k(t.$$.fragment,r),k(s.$$.fragment,r),l=!1},d(r){r&&g(e),B(t),r&&g(n),B(s,r)}}}function o8(i){let e,t;return e=new Yr({props:{class:"p-0",$$slots:{default:[l8]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s&4&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function a8(i){let e,t,n,s,l,r,o,a,f,u,c;return e=new T2({props:{color:"light",light:!0,class:"shadow-sm",$$slots:{default:[i8]},$$scope:{ctx:i}}}),s=new M4({}),r=new Q6({}),a=new $6({}),u=new No({props:{header:"Info",class:"info-modal",isOpen:i[0],toggle:i[1],$$slots:{default:[o8]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment),t=U(),n=M("div"),N(s.$$.fragment),l=U(),N(r.$$.fragment),o=U(),N(a.$$.fragment),f=U(),N(u.$$.fragment),this.h()},l(h){Q(e.$$.fragment,h),t=q(h),n=I(h,"DIV",{class:!0});var d=V(n);Q(s.$$.fragment,d),l=q(d),Q(r.$$.fragment,d),o=q(d),Q(a.$$.fragment,d),d.forEach(g),f=q(h),Q(u.$$.fragment,h),this.h()},h(){z(n,"class","grid svelte-1lqqeds")},m(h,d){L(e,h,d),w(h,t,d),w(h,n,d),L(s,n,null),F(n,l),L(r,n,null),F(n,o),L(a,n,null),w(h,f,d),L(u,h,d),c=!0},p(h,[d]){const m={};d&4&&(m.$$scope={dirty:d,ctx:h}),e.$set(m);const p={};d&1&&(p.isOpen=h[0]),d&4&&(p.$$scope={dirty:d,ctx:h}),u.$set(p)},i(h){c||(_(e.$$.fragment,h),_(s.$$.fragment,h),_(r.$$.fragment,h),_(a.$$.fragment,h),_(u.$$.fragment,h),c=!0)},o(h){k(e.$$.fragment,h),k(s.$$.fragment,h),k(r.$$.fragment,h),k(a.$$.fragment,h),k(u.$$.fragment,h),c=!1},d(h){B(e,h),h&&g(t),h&&g(n),B(s),B(r),B(a),h&&g(f),B(u,h)}}}function f8(i,e,t){let n=!1;return[n,()=>t(0,n=!n)]}class b8 extends ke{constructor(e){super();ye(this,e,f8,a8,we,{})}}export{b8 as default};
